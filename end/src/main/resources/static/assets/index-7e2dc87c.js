function g2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Sx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kx={exports:{}},Gl={},Nx={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),x2=Symbol.for("react.portal"),y2=Symbol.for("react.fragment"),v2=Symbol.for("react.strict_mode"),b2=Symbol.for("react.profiler"),w2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),S2=Symbol.for("react.forward_ref"),k2=Symbol.for("react.suspense"),N2=Symbol.for("react.memo"),E2=Symbol.for("react.lazy"),$p=Symbol.iterator;function C2(e){return e===null||typeof e!="object"?null:(e=$p&&e[$p]||e["@@iterator"],typeof e=="function"?e:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cx=Object.assign,Tx={};function Xs(e,t,n){this.props=e,this.context=t,this.refs=Tx,this.updater=n||Ex}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ox(){}Ox.prototype=Xs.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=Tx,this.updater=n||Ex}var Xf=Kf.prototype=new Ox;Xf.constructor=Kf;Cx(Xf,Xs.prototype);Xf.isPureReactComponent=!0;var Vp=Array.isArray,Px=Object.prototype.hasOwnProperty,qf={current:null},_x={key:!0,ref:!0,__self:!0,__source:!0};function Rx(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Px.call(t,r)&&!_x.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Si,type:e,key:o,ref:i,props:s,_owner:qf.current}}function T2(e,t){return{$$typeof:Si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function O2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bp=/\/+/g;function lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O2(""+e.key):t.toString(36)}function Ea(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Si:case x2:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+lu(i,0):r,Vp(s)?(n="",e!=null&&(n=e.replace(Bp,"$&/")+"/"),Ea(s,t,n,"",function(u){return u})):s!=null&&(Jf(s)&&(s=T2(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Bp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Vp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+lu(o,l);i+=Ea(o,t,n,c,s)}else if(c=C2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+lu(o,l++),i+=Ea(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Xi(e,t,n){if(e==null)return e;var r=[],s=0;return Ea(e,r,"","",function(o){return t.call(n,o,s++)}),r}function P2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Ca={transition:null},_2={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:qf};function Lx(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Xi,forEach:function(e,t,n){Xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xi(e,function(){t++}),t},toArray:function(e){return Xi(e,function(t){return t})||[]},only:function(e){if(!Jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Xs;ae.Fragment=y2;ae.Profiler=b2;ae.PureComponent=Kf;ae.StrictMode=v2;ae.Suspense=k2;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_2;ae.act=Lx;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cx({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=qf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Px.call(t,c)&&!_x.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Si,type:e.type,key:s,ref:o,props:r,_owner:i}};ae.createContext=function(e){return e={$$typeof:j2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w2,_context:e},e.Consumer=e};ae.createElement=Rx;ae.createFactory=function(e){var t=Rx.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:S2,render:e}};ae.isValidElement=Jf;ae.lazy=function(e){return{$$typeof:E2,_payload:{_status:-1,_result:e},_init:P2}};ae.memo=function(e,t){return{$$typeof:N2,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};ae.unstable_act=Lx;ae.useCallback=function(e,t){return ct.current.useCallback(e,t)};ae.useContext=function(e){return ct.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ct.current.useEffect(e,t)};ae.useId=function(){return ct.current.useId()};ae.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ct.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};ae.useRef=function(e){return ct.current.useRef(e)};ae.useState=function(e){return ct.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return ct.current.useTransition()};ae.version="18.3.1";Nx.exports=ae;var v=Nx.exports;const J=Sx(v),zp=g2({__proto__:null,default:J},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=v,L2=Symbol.for("react.element"),I2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,D2=R2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A2={key:!0,ref:!0,__self:!0,__source:!0};function Ix(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)M2.call(t,r)&&!A2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:L2,type:e,key:o,ref:i,props:s,_owner:D2.current}}Gl.Fragment=I2;Gl.jsx=Ix;Gl.jsxs=Ix;kx.exports=Gl;var a=kx.exports,md={},Mx={exports:{}},Tt={},Dx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var W=D.length;D.push(B);e:for(;0<W;){var V=W-1>>>1,K=D[V];if(0<s(K,B))D[V]=B,D[W]=K,W=V;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],W=D.pop();if(W!==B){D[0]=W;e:for(var V=0,K=D.length,ie=K>>>1;V<ie;){var le=2*(V+1)-1,ge=D[le],he=le+1,ue=D[he];if(0>s(ge,W))he<K&&0>s(ue,ge)?(D[V]=ue,D[he]=W,V=he):(D[V]=ge,D[le]=W,V=le);else if(he<K&&0>s(ue,W))D[V]=ue,D[he]=W,V=he;else break e}}return B}function s(D,B){var W=D.sortIndex-B.sortIndex;return W!==0?W:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,x=!1,m=!1,h=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function j(D){if(h=!1,b(D),!m)if(n(c)!==null)m=!0,R(k);else{var B=n(u);B!==null&&U(j,B.startTime-D)}}function k(D,B){m=!1,h&&(h=!1,y(E),E=-1),x=!0;var W=p;try{for(b(B),f=n(c);f!==null&&(!(f.expirationTime>B)||D&&!_());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var K=V(f.expirationTime<=B);B=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),b(B)}else r(c);f=n(c)}if(f!==null)var ie=!0;else{var le=n(u);le!==null&&U(j,le.startTime-B),ie=!1}return ie}finally{f=null,p=W,x=!1}}var N=!1,S=null,E=-1,O=5,T=-1;function _(){return!(e.unstable_now()-T<O)}function P(){if(S!==null){var D=e.unstable_now();T=D;var B=!0;try{B=S(!0,D)}finally{B?M():(N=!1,S=null)}}else N=!1}var M;if(typeof w=="function")M=function(){w(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,I=C.port2;C.port1.onmessage=P,M=function(){I.postMessage(null)}}else M=function(){g(P,0)};function R(D){S=D,N||(N=!0,M())}function U(D,B){E=g(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||x||(m=!0,R(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var W=p;p=B;try{return D()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return B()}finally{p=W}},e.unstable_scheduleCallback=function(D,B,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,D={id:d++,callback:B,priorityLevel:D,startTime:W,expirationTime:K,sortIndex:-1},W>V?(D.sortIndex=W,t(u,D),n(c)===null&&D===n(u)&&(h?(y(E),E=-1):h=!0,U(j,W-V))):(D.sortIndex=K,t(c,D),m||x||(m=!0,R(k))),D},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(D){var B=p;return function(){var W=p;p=B;try{return D.apply(this,arguments)}finally{p=W}}}})(Ax);Dx.exports=Ax;var F2=Dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=v,Et=F2;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fx=new Set,qo={};function es(e,t){Ms(e,t),Ms(e+"Capture",t)}function Ms(e,t){for(qo[e]=t,e=0;e<t.length;e++)Fx.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,V2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Hp={};function B2(e){return gd.call(Hp,e)?!0:gd.call(Up,e)?!1:V2.test(e)?Hp[e]=!0:(Up[e]=!0,!1)}function z2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U2(e,t,n,r){if(t===null||typeof t>"u"||z2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);Ke[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Qf);Ke[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Qf);Ke[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zf(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U2(t,n,s,r)&&(n=null),r||s===null?B2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gn=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),eh=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),th=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),nh=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Bx=Symbol.for("react.offscreen"),Wp=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=Wp&&e[Wp]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,cu;function Co(e){if(cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var uu=!1;function du(e,t){if(!e||uu)return"";uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{uu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Co(e):""}function H2(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=du(e.type,!1),e;case 11:return e=du(e.type.render,!1),e;case 1:return e=du(e.type,!0),e;default:return""}}function bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case cs:return"Portal";case xd:return"Profiler";case eh:return"StrictMode";case yd:return"Suspense";case vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vx:return(e.displayName||"Context")+".Consumer";case $x:return(e._context.displayName||"Context")+".Provider";case th:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nh:return t=e.displayName||null,t!==null?t:bd(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return bd(e(t))}catch{}}return null}function W2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bd(t);case 8:return t===eh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G2(e){var t=zx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){e._valueTracker||(e._valueTracker=G2(e))}function Ux(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wd(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hx(e,t){t=t.checked,t!=null&&Zf(e,"checked",t,!1)}function jd(e,t){Hx(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sd(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sd(e,t,n){(t!=="number"||Ja(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var To=Array.isArray;function Ns(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(To(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function Wx(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,Kx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K2=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){K2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function Xx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function qx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var X2=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(e,t){if(t){if(X2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Od=null,Es=null,Cs=null;function Jp(e){if(e=Ei(e)){if(typeof Od!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Yl(t),Od(e.stateNode,e.type,t))}}function Jx(e){Es?Cs?Cs.push(e):Cs=[e]:Es=e}function Yx(){if(Es){var e=Es,t=Cs;if(Cs=Es=null,Jp(e),t)for(e=0;e<t.length;e++)Jp(t[e])}}function Qx(e,t){return e(t)}function Zx(){}var fu=!1;function ey(e,t,n){if(fu)return e(t,n);fu=!0;try{return Qx(e,t,n)}finally{fu=!1,(Es!==null||Cs!==null)&&(Zx(),Yx())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Pd=!1;if($n)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Pd=!1}function q2(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Mo=!1,Ya=null,Qa=!1,_d=null,J2={onError:function(e){Mo=!0,Ya=e}};function Y2(e,t,n,r,s,o,i,l,c){Mo=!1,Ya=null,q2.apply(J2,arguments)}function Q2(e,t,n,r,s,o,i,l,c){if(Y2.apply(this,arguments),Mo){if(Mo){var u=Ya;Mo=!1,Ya=null}else throw Error(z(198));Qa||(Qa=!0,_d=u)}}function ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yp(e){if(ts(e)!==e)throw Error(z(188))}function Z2(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Yp(s),e;if(o===r)return Yp(s),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function ny(e){return e=Z2(e),e!==null?ry(e):null}function ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ry(e);if(t!==null)return t;e=e.sibling}return null}var sy=Et.unstable_scheduleCallback,Qp=Et.unstable_cancelCallback,ej=Et.unstable_shouldYield,tj=Et.unstable_requestPaint,Re=Et.unstable_now,nj=Et.unstable_getCurrentPriorityLevel,sh=Et.unstable_ImmediatePriority,oy=Et.unstable_UserBlockingPriority,Za=Et.unstable_NormalPriority,rj=Et.unstable_LowPriority,iy=Et.unstable_IdlePriority,Kl=null,bn=null;function sj(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:aj,oj=Math.log,ij=Math.LN2;function aj(e){return e>>>=0,e===0?32:31-(oj(e)/ij|0)|0}var Qi=64,Zi=4194304;function Oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Oo(l):(o&=i,o!==0&&(r=Oo(o)))}else i=n&~s,i!==0?r=Oo(i):o!==0&&(r=Oo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),s=1<<n,r|=e[n],t&=~s;return r}function lj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-tn(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=lj(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Rd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ay(){var e=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),e}function hu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function uj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function oh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,ih,uy,dy,fy,Ld=!1,ea=[],lr=null,cr=null,ur=null,Qo=new Map,Zo=new Map,nr=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zp(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function po(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ei(t),t!==null&&ih(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fj(e,t,n,r,s){switch(t){case"focusin":return lr=po(lr,e,t,n,r,s),!0;case"dragenter":return cr=po(cr,e,t,n,r,s),!0;case"mouseover":return ur=po(ur,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Qo.set(o,po(Qo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Zo.set(o,po(Zo.get(o)||null,e,t,n,r,s)),!0}return!1}function hy(e){var t=Mr(e.target);if(t!==null){var n=ts(t);if(n!==null){if(t=n.tag,t===13){if(t=ty(n),t!==null){e.blockedOn=t,fy(e.priority,function(){uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Id(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return t=Ei(n),t!==null&&ih(t),e.blockedOn=n,!1;t.shift()}return!0}function em(e,t,n){Ta(e)&&n.delete(t)}function hj(){Ld=!1,lr!==null&&Ta(lr)&&(lr=null),cr!==null&&Ta(cr)&&(cr=null),ur!==null&&Ta(ur)&&(ur=null),Qo.forEach(em),Zo.forEach(em)}function mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,hj)))}function ei(e){function t(s){return mo(s,e)}if(0<ea.length){mo(ea[0],e);for(var n=1;n<ea.length;n++){var r=ea[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lr!==null&&mo(lr,e),cr!==null&&mo(cr,e),ur!==null&&mo(ur,e),Qo.forEach(t),Zo.forEach(t),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&nr.shift()}var Ts=Gn.ReactCurrentBatchConfig,tl=!0;function pj(e,t,n,r){var s=pe,o=Ts.transition;Ts.transition=null;try{pe=1,ah(e,t,n,r)}finally{pe=s,Ts.transition=o}}function mj(e,t,n,r){var s=pe,o=Ts.transition;Ts.transition=null;try{pe=4,ah(e,t,n,r)}finally{pe=s,Ts.transition=o}}function ah(e,t,n,r){if(tl){var s=Id(e,t,n,r);if(s===null)Su(e,t,r,nl,n),Zp(e,r);else if(fj(s,e,t,n,r))r.stopPropagation();else if(Zp(e,r),t&4&&-1<dj.indexOf(e)){for(;s!==null;){var o=Ei(s);if(o!==null&&cy(o),o=Id(e,t,n,r),o===null&&Su(e,t,r,nl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Su(e,t,r,null,n)}}var nl=null;function Id(e,t,n,r){if(nl=null,e=rh(r),e=Mr(e),e!==null)if(t=ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nj()){case sh:return 1;case oy:return 4;case Za:case rj:return 16;case iy:return 536870912;default:return 16}default:return 16}}var ir=null,lh=null,Oa=null;function my(){if(Oa)return Oa;var e,t=lh,n=t.length,r,s="value"in ir?ir.value:ir.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Oa=s.slice(e,1<r?1-r:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function tm(){return!1}function Ot(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ta:tm,this.isPropagationStopped=tm,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Ot(qs),Ni=Te({},qs,{view:0,detail:0}),gj=Ot(Ni),pu,mu,go,Xl=Te({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(pu=e.screenX-go.screenX,mu=e.screenY-go.screenY):mu=pu=0,go=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),nm=Ot(Xl),xj=Te({},Xl,{dataTransfer:0}),yj=Ot(xj),vj=Te({},Ni,{relatedTarget:0}),gu=Ot(vj),bj=Te({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),wj=Ot(bj),jj=Te({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sj=Ot(jj),kj=Te({},qs,{data:0}),rm=Ot(kj),Nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ej={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cj[e])?!!t[e]:!1}function uh(){return Tj}var Oj=Te({},Ni,{key:function(e){if(e.key){var t=Nj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ej[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uh,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pj=Ot(Oj),_j=Te({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Ot(_j),Rj=Te({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uh}),Lj=Ot(Rj),Ij=Te({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mj=Ot(Ij),Dj=Te({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aj=Ot(Dj),Fj=[9,13,27,32],dh=$n&&"CompositionEvent"in window,Do=null;$n&&"documentMode"in document&&(Do=document.documentMode);var $j=$n&&"TextEvent"in window&&!Do,gy=$n&&(!dh||Do&&8<Do&&11>=Do),om=String.fromCharCode(32),im=!1;function xy(e,t){switch(e){case"keyup":return Fj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Vj(e,t){switch(e){case"compositionend":return yy(t);case"keypress":return t.which!==32?null:(im=!0,om);case"textInput":return e=t.data,e===om&&im?null:e;default:return null}}function Bj(e,t){if(ds)return e==="compositionend"||!dh&&xy(e,t)?(e=my(),Oa=lh=ir=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gy&&t.locale!=="ko"?null:t.data;default:return null}}var zj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zj[e.type]:t==="textarea"}function vy(e,t,n,r){Jx(r),t=rl(t,"onChange"),0<t.length&&(n=new ch("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,ti=null;function Uj(e){Py(e,0)}function ql(e){var t=ps(e);if(Ux(t))return e}function Hj(e,t){if(e==="change")return t}var by=!1;if($n){var xu;if($n){var yu="oninput"in document;if(!yu){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),yu=typeof lm.oninput=="function"}xu=yu}else xu=!1;by=xu&&(!document.documentMode||9<document.documentMode)}function cm(){Ao&&(Ao.detachEvent("onpropertychange",wy),ti=Ao=null)}function wy(e){if(e.propertyName==="value"&&ql(ti)){var t=[];vy(t,ti,e,rh(e)),ey(Uj,t)}}function Wj(e,t,n){e==="focusin"?(cm(),Ao=t,ti=n,Ao.attachEvent("onpropertychange",wy)):e==="focusout"&&cm()}function Gj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(ti)}function Kj(e,t){if(e==="click")return ql(t)}function Xj(e,t){if(e==="input"||e==="change")return ql(t)}function qj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:qj;function ni(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gd.call(t,s)||!on(e[s],t[s]))return!1}return!0}function um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,t){var n=um(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=um(n)}}function jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sy(){for(var e=window,t=Ja();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ja(e.document)}return t}function fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jj(e){var t=Sy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=dm(n,o);var i=dm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yj=$n&&"documentMode"in document&&11>=document.documentMode,fs=null,Md=null,Fo=null,Dd=!1;function fm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dd||fs==null||fs!==Ja(r)||(r=fs,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fo&&ni(Fo,r)||(Fo=r,r=rl(Md,"onSelect"),0<r.length&&(t=new ch("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fs)))}function na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hs={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},vu={},ky={};$n&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Jl(e){if(vu[e])return vu[e];if(!hs[e])return e;var t=hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ky)return vu[e]=t[n];return e}var Ny=Jl("animationend"),Ey=Jl("animationiteration"),Cy=Jl("animationstart"),Ty=Jl("transitionend"),Oy=new Map,hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Oy.set(e,t),es(t,[e])}for(var bu=0;bu<hm.length;bu++){var wu=hm[bu],Qj=wu.toLowerCase(),Zj=wu[0].toUpperCase()+wu.slice(1);kr(Qj,"on"+Zj)}kr(Ny,"onAnimationEnd");kr(Ey,"onAnimationIteration");kr(Cy,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Ty,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function pm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q2(r,t,void 0,e),e.currentTarget=null}function Py(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;pm(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;pm(s,l,u),o=c}}}if(Qa)throw e=_d,Qa=!1,_d=null,e}function be(e,t){var n=t[Bd];n===void 0&&(n=t[Bd]=new Set);var r=e+"__bubble";n.has(r)||(_y(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),_y(n,e,r,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function ri(e){if(!e[ra]){e[ra]=!0,Fx.forEach(function(n){n!=="selectionchange"&&(eS.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,ju("selectionchange",!1,t))}}function _y(e,t,n,r){switch(py(t)){case 1:var s=pj;break;case 4:s=mj;break;default:s=ah}n=s.bind(null,t,n,e),s=void 0,!Pd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Su(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Mr(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}ey(function(){var u=o,d=rh(n),f=[];e:{var p=Oy.get(e);if(p!==void 0){var x=ch,m=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":x=Pj;break;case"focusin":m="focus",x=gu;break;case"focusout":m="blur",x=gu;break;case"beforeblur":case"afterblur":x=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=yj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Lj;break;case Ny:case Ey:case Cy:x=wj;break;case Ty:x=Mj;break;case"scroll":x=gj;break;case"wheel":x=Aj;break;case"copy":case"cut":case"paste":x=Sj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=sm}var h=(t&4)!==0,g=!h&&e==="scroll",y=h?p!==null?p+"Capture":null:p;h=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Yo(w,y),j!=null&&h.push(si(w,j,b)))),g)break;w=w.return}0<h.length&&(p=new x(p,m,null,n,d),f.push({event:p,listeners:h}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==Td&&(m=n.relatedTarget||n.fromElement)&&(Mr(m)||m[Vn]))break e;if((x||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,x?(m=n.relatedTarget||n.toElement,x=u,m=m?Mr(m):null,m!==null&&(g=ts(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(x=null,m=u),x!==m)){if(h=nm,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(h=sm,j="onPointerLeave",y="onPointerEnter",w="pointer"),g=x==null?p:ps(x),b=m==null?p:ps(m),p=new h(j,w+"leave",x,n,d),p.target=g,p.relatedTarget=b,j=null,Mr(d)===u&&(h=new h(y,w+"enter",m,n,d),h.target=b,h.relatedTarget=g,j=h),g=j,x&&m)t:{for(h=x,y=m,w=0,b=h;b;b=is(b))w++;for(b=0,j=y;j;j=is(j))b++;for(;0<w-b;)h=is(h),w--;for(;0<b-w;)y=is(y),b--;for(;w--;){if(h===y||y!==null&&h===y.alternate)break t;h=is(h),y=is(y)}h=null}else h=null;x!==null&&mm(f,p,x,h,!1),m!==null&&g!==null&&mm(f,g,m,h,!0)}}e:{if(p=u?ps(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var k=Hj;else if(am(p))if(by)k=Xj;else{k=Gj;var N=Wj}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Kj);if(k&&(k=k(e,u))){vy(f,k,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Sd(p,"number",p.value)}switch(N=u?ps(u):window,e){case"focusin":(am(N)||N.contentEditable==="true")&&(fs=N,Md=u,Fo=null);break;case"focusout":Fo=Md=fs=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,fm(f,n,d);break;case"selectionchange":if(Yj)break;case"keydown":case"keyup":fm(f,n,d)}var S;if(dh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ds?xy(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(gy&&n.locale!=="ko"&&(ds||E!=="onCompositionStart"?E==="onCompositionEnd"&&ds&&(S=my()):(ir=d,lh="value"in ir?ir.value:ir.textContent,ds=!0)),N=rl(u,E),0<N.length&&(E=new rm(E,e,null,n,d),f.push({event:E,listeners:N}),S?E.data=S:(S=yy(n),S!==null&&(E.data=S)))),(S=$j?Vj(e,n):Bj(e,n))&&(u=rl(u,"onBeforeInput"),0<u.length&&(d=new rm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Py(f,t)})}function si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Yo(e,n),o!=null&&r.unshift(si(e,o,s)),o=Yo(e,t),o!=null&&r.push(si(e,o,s))),e=e.return}return r}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Yo(n,o),c!=null&&i.unshift(si(n,c,l))):s||(c=Yo(n,o),c!=null&&i.push(si(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var tS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function gm(e){return(typeof e=="string"?e:""+e).replace(tS,`
`).replace(nS,"")}function sa(e,t,n){if(t=gm(t),gm(e)!==t&&n)throw Error(z(425))}function sl(){}var Ad=null,Fd=null;function $d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(oS)}:Vd;function oS(e){setTimeout(function(){throw e})}function ku(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ei(t)}function dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Js=Math.random().toString(36).slice(2),yn="__reactFiber$"+Js,oi="__reactProps$"+Js,Vn="__reactContainer$"+Js,Bd="__reactEvents$"+Js,iS="__reactListeners$"+Js,aS="__reactHandles$"+Js;function Mr(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ym(e);e!==null;){if(n=e[yn])return n;e=ym(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[yn]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Yl(e){return e[oi]||null}var zd=[],ms=-1;function Nr(e){return{current:e}}function we(e){0>ms||(e.current=zd[ms],zd[ms]=null,ms--)}function xe(e,t){ms++,zd[ms]=e.current,e.current=t}var vr={},tt=Nr(vr),mt=Nr(!1),Ur=vr;function Ds(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return e=e.childContextTypes,e!=null}function ol(){we(mt),we(tt)}function vm(e,t,n){if(tt.current!==vr)throw Error(z(168));xe(tt,t),xe(mt,n)}function Ry(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,W2(e)||"Unknown",s));return Te({},n,r)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Ur=tt.current,xe(tt,e),xe(mt,mt.current),!0}function bm(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Ry(e,t,Ur),r.__reactInternalMemoizedMergedChildContext=e,we(mt),we(tt),xe(tt,e)):we(mt),xe(mt,n)}var On=null,Ql=!1,Nu=!1;function Ly(e){On===null?On=[e]:On.push(e)}function lS(e){Ql=!0,Ly(e)}function Er(){if(!Nu&&On!==null){Nu=!0;var e=0,t=pe;try{var n=On;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}On=null,Ql=!1}catch(s){throw On!==null&&(On=On.slice(e+1)),sy(sh,Er),s}finally{pe=t,Nu=!1}}return null}var gs=[],xs=0,al=null,ll=0,Ft=[],$t=0,Hr=null,Pn=1,_n="";function Pr(e,t){gs[xs++]=ll,gs[xs++]=al,al=e,ll=t}function Iy(e,t,n){Ft[$t++]=Pn,Ft[$t++]=_n,Ft[$t++]=Hr,Hr=e;var r=Pn;e=_n;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var o=32-tn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Pn=1<<32-tn(t)+s|n<<s|r,_n=o+e}else Pn=1<<o|n<<s|r,_n=e}function hh(e){e.return!==null&&(Pr(e,1),Iy(e,1,0))}function ph(e){for(;e===al;)al=gs[--xs],gs[xs]=null,ll=gs[--xs],gs[xs]=null;for(;e===Hr;)Hr=Ft[--$t],Ft[$t]=null,_n=Ft[--$t],Ft[$t]=null,Pn=Ft[--$t],Ft[$t]=null}var kt=null,St=null,Se=!1,en=null;function My(e,t){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hr!==null?{id:Pn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,St=null,!0):!1;default:return!1}}function Ud(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hd(e){if(Se){var t=St;if(t){var n=t;if(!wm(e,t)){if(Ud(e))throw Error(z(418));t=dr(n.nextSibling);var r=kt;t&&wm(e,t)?My(r,n):(e.flags=e.flags&-4097|2,Se=!1,kt=e)}}else{if(Ud(e))throw Error(z(418));e.flags=e.flags&-4097|2,Se=!1,kt=e}}}function jm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function oa(e){if(e!==kt)return!1;if(!Se)return jm(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$d(e.type,e.memoizedProps)),t&&(t=St)){if(Ud(e))throw Dy(),Error(z(418));for(;t;)My(e,t),t=dr(t.nextSibling)}if(jm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?dr(e.stateNode.nextSibling):null;return!0}function Dy(){for(var e=St;e;)e=dr(e.nextSibling)}function As(){St=kt=null,Se=!1}function mh(e){en===null?en=[e]:en.push(e)}var cS=Gn.ReactCurrentBatchConfig;function xo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sm(e){var t=e._init;return t(e._payload)}function Ay(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=mr(y,w),y.index=0,y.sibling=null,y}function o(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,j){return w===null||w.tag!==6?(w=Ru(b,y.mode,j),w.return=y,w):(w=s(w,b),w.return=y,w)}function c(y,w,b,j){var k=b.type;return k===us?d(y,w,b.props.children,j,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zn&&Sm(k)===w.type)?(j=s(w,b.props),j.ref=xo(y,w,b),j.return=y,j):(j=Aa(b.type,b.key,b.props,null,y.mode,j),j.ref=xo(y,w,b),j.return=y,j)}function u(y,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Lu(b,y.mode,j),w.return=y,w):(w=s(w,b.children||[]),w.return=y,w)}function d(y,w,b,j,k){return w===null||w.tag!==7?(w=Br(b,y.mode,j,k),w.return=y,w):(w=s(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ru(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:return b=Aa(w.type,w.key,w.props,null,y.mode,b),b.ref=xo(y,null,w),b.return=y,b;case cs:return w=Lu(w,y.mode,b),w.return=y,w;case Zn:var j=w._init;return f(y,j(w._payload),b)}if(To(w)||fo(w))return w=Br(w,y.mode,b,null),w.return=y,w;ia(y,w)}return null}function p(y,w,b,j){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(y,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qi:return b.key===k?c(y,w,b,j):null;case cs:return b.key===k?u(y,w,b,j):null;case Zn:return k=b._init,p(y,w,k(b._payload),j)}if(To(b)||fo(b))return k!==null?null:d(y,w,b,j,null);ia(y,b)}return null}function x(y,w,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(w,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qi:return y=y.get(j.key===null?b:j.key)||null,c(w,y,j,k);case cs:return y=y.get(j.key===null?b:j.key)||null,u(w,y,j,k);case Zn:var N=j._init;return x(y,w,b,N(j._payload),k)}if(To(j)||fo(j))return y=y.get(b)||null,d(w,y,j,k,null);ia(w,j)}return null}function m(y,w,b,j){for(var k=null,N=null,S=w,E=w=0,O=null;S!==null&&E<b.length;E++){S.index>E?(O=S,S=null):O=S.sibling;var T=p(y,S,b[E],j);if(T===null){S===null&&(S=O);break}e&&S&&T.alternate===null&&t(y,S),w=o(T,w,E),N===null?k=T:N.sibling=T,N=T,S=O}if(E===b.length)return n(y,S),Se&&Pr(y,E),k;if(S===null){for(;E<b.length;E++)S=f(y,b[E],j),S!==null&&(w=o(S,w,E),N===null?k=S:N.sibling=S,N=S);return Se&&Pr(y,E),k}for(S=r(y,S);E<b.length;E++)O=x(S,y,E,b[E],j),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),w=o(O,w,E),N===null?k=O:N.sibling=O,N=O);return e&&S.forEach(function(_){return t(y,_)}),Se&&Pr(y,E),k}function h(y,w,b,j){var k=fo(b);if(typeof k!="function")throw Error(z(150));if(b=k.call(b),b==null)throw Error(z(151));for(var N=k=null,S=w,E=w=0,O=null,T=b.next();S!==null&&!T.done;E++,T=b.next()){S.index>E?(O=S,S=null):O=S.sibling;var _=p(y,S,T.value,j);if(_===null){S===null&&(S=O);break}e&&S&&_.alternate===null&&t(y,S),w=o(_,w,E),N===null?k=_:N.sibling=_,N=_,S=O}if(T.done)return n(y,S),Se&&Pr(y,E),k;if(S===null){for(;!T.done;E++,T=b.next())T=f(y,T.value,j),T!==null&&(w=o(T,w,E),N===null?k=T:N.sibling=T,N=T);return Se&&Pr(y,E),k}for(S=r(y,S);!T.done;E++,T=b.next())T=x(S,y,E,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),w=o(T,w,E),N===null?k=T:N.sibling=T,N=T);return e&&S.forEach(function(P){return t(y,P)}),Se&&Pr(y,E),k}function g(y,w,b,j){if(typeof b=="object"&&b!==null&&b.type===us&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qi:e:{for(var k=b.key,N=w;N!==null;){if(N.key===k){if(k=b.type,k===us){if(N.tag===7){n(y,N.sibling),w=s(N,b.props.children),w.return=y,y=w;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zn&&Sm(k)===N.type){n(y,N.sibling),w=s(N,b.props),w.ref=xo(y,N,b),w.return=y,y=w;break e}n(y,N);break}else t(y,N);N=N.sibling}b.type===us?(w=Br(b.props.children,y.mode,j,b.key),w.return=y,y=w):(j=Aa(b.type,b.key,b.props,null,y.mode,j),j.ref=xo(y,w,b),j.return=y,y=j)}return i(y);case cs:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=s(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Lu(b,y.mode,j),w.return=y,y=w}return i(y);case Zn:return N=b._init,g(y,w,N(b._payload),j)}if(To(b))return m(y,w,b,j);if(fo(b))return h(y,w,b,j);ia(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,b),w.return=y,y=w):(n(y,w),w=Ru(b,y.mode,j),w.return=y,y=w),i(y)):n(y,w)}return g}var Fs=Ay(!0),Fy=Ay(!1),cl=Nr(null),ul=null,ys=null,gh=null;function xh(){gh=ys=ul=null}function yh(e){var t=cl.current;we(cl),e._currentValue=t}function Wd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){ul=e,gh=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(gh!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(ul===null)throw Error(z(308));ys=e,ul.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Dr=null;function vh(e){Dr===null?Dr=[e]:Dr.push(e)}function $y(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bn(e,r)}function Bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var er=!1;function bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bn(e,n)}return s=r.interleaved,s===null?(t.next=t,vh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bn(e,n)}function _a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oh(e,n)}}function km(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,r){var s=e.updateQueue;er=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,x=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,h=l;switch(p=t,x=n,h.tag){case 1:if(m=h.payload,typeof m=="function"){f=m.call(x,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=h.payload,p=typeof m=="function"?m.call(x,f,p):m,p==null)break e;f=Te({},f,p);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Gr|=i,e.lanes=i,e.memoizedState=f}}function Nm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ci={},wn=Nr(Ci),ii=Nr(Ci),ai=Nr(Ci);function Ar(e){if(e===Ci)throw Error(z(174));return e}function wh(e,t){switch(xe(ai,t),xe(ii,e),xe(wn,Ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nd(t,e)}we(wn),xe(wn,t)}function $s(){we(wn),we(ii),we(ai)}function By(e){Ar(ai.current);var t=Ar(wn.current),n=Nd(t,e.type);t!==n&&(xe(ii,e),xe(wn,n))}function jh(e){ii.current===e&&(we(wn),we(ii))}var Ne=Nr(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eu=[];function Sh(){for(var e=0;e<Eu.length;e++)Eu[e]._workInProgressVersionPrimary=null;Eu.length=0}var Ra=Gn.ReactCurrentDispatcher,Cu=Gn.ReactCurrentBatchConfig,Wr=0,Ce=null,Fe=null,Be=null,hl=!1,$o=!1,li=0,uS=0;function Xe(){throw Error(z(321))}function kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Nh(e,t,n,r,s,o){if(Wr=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ra.current=e===null||e.memoizedState===null?pS:mS,e=n(r,s),$o){o=0;do{if($o=!1,li=0,25<=o)throw Error(z(301));o+=1,Be=Fe=null,t.updateQueue=null,Ra.current=gS,e=n(r,s)}while($o)}if(Ra.current=pl,t=Fe!==null&&Fe.next!==null,Wr=0,Be=Fe=Ce=null,hl=!1,t)throw Error(z(300));return e}function Eh(){var e=li!==0;return li=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ce.memoizedState=Be=e:Be=Be.next=e,Be}function Ut(){if(Fe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Be===null?Ce.memoizedState:Be.next;if(t!==null)Be=t,Fe=e;else{if(e===null)throw Error(z(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Be===null?Ce.memoizedState=Be=e:Be=Be.next=e}return Be}function ci(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Ut(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Fe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Wr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ce.lanes|=d,Gr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,on(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ce.lanes|=o,Gr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ou(e){var t=Ut(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);on(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zy(){}function Uy(e,t){var n=Ce,r=Ut(),s=t(),o=!on(r.memoizedState,s);if(o&&(r.memoizedState=s,pt=!0),r=r.queue,Ch(Gy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,ui(9,Wy.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(z(349));Wr&30||Hy(n,t,s)}return s}function Hy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wy(e,t,n,r){t.value=n,t.getSnapshot=r,Ky(t)&&Xy(e)}function Gy(e,t,n){return n(function(){Ky(t)&&Xy(e)})}function Ky(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function Xy(e){var t=Bn(e,1);t!==null&&nn(t,e,1,-1)}function Em(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t.queue=e,e=e.dispatch=hS.bind(null,Ce,e),[t.memoizedState,e]}function ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qy(){return Ut().memoizedState}function La(e,t,n,r){var s=mn();Ce.flags|=e,s.memoizedState=ui(1|t,n,void 0,r===void 0?null:r)}function Zl(e,t,n,r){var s=Ut();r=r===void 0?null:r;var o=void 0;if(Fe!==null){var i=Fe.memoizedState;if(o=i.destroy,r!==null&&kh(r,i.deps)){s.memoizedState=ui(t,n,o,r);return}}Ce.flags|=e,s.memoizedState=ui(1|t,n,o,r)}function Cm(e,t){return La(8390656,8,e,t)}function Ch(e,t){return Zl(2048,8,e,t)}function Jy(e,t){return Zl(4,2,e,t)}function Yy(e,t){return Zl(4,4,e,t)}function Qy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zy(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4,4,Qy.bind(null,t,e),n)}function Th(){}function ev(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tv(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nv(e,t,n){return Wr&21?(on(n,t)||(n=ay(),Ce.lanes|=n,Gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function dS(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=Cu.transition;Cu.transition={};try{e(!1),t()}finally{pe=n,Cu.transition=r}}function rv(){return Ut().memoizedState}function fS(e,t,n){var r=pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sv(e))ov(t,n);else if(n=$y(e,t,n,r),n!==null){var s=lt();nn(n,e,r,s),iv(n,t,r)}}function hS(e,t,n){var r=pr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sv(e))ov(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,on(l,i)){var c=t.interleaved;c===null?(s.next=s,vh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$y(e,t,s,r),n!==null&&(s=lt(),nn(n,e,r,s),iv(n,t,r))}}function sv(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function ov(e,t){$o=hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oh(e,n)}}var pl={readContext:zt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},pS={readContext:zt,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Cm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,La(4194308,4,Qy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fS.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:Em,useDebugValue:Th,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Em(!1),t=e[0];return e=dS.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,s=mn();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),ze===null)throw Error(z(349));Wr&30||Hy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Cm(Gy.bind(null,r,o,e),[e]),r.flags|=2048,ui(9,Wy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=mn(),t=ze.identifierPrefix;if(Se){var n=_n,r=Pn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mS={readContext:zt,useCallback:ev,useContext:zt,useEffect:Ch,useImperativeHandle:Zy,useInsertionEffect:Jy,useLayoutEffect:Yy,useMemo:tv,useReducer:Tu,useRef:qy,useState:function(){return Tu(ci)},useDebugValue:Th,useDeferredValue:function(e){var t=Ut();return nv(t,Fe.memoizedState,e)},useTransition:function(){var e=Tu(ci)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zy,useSyncExternalStore:Uy,useId:rv,unstable_isNewReconciler:!1},gS={readContext:zt,useCallback:ev,useContext:zt,useEffect:Ch,useImperativeHandle:Zy,useInsertionEffect:Jy,useLayoutEffect:Yy,useMemo:tv,useReducer:Ou,useRef:qy,useState:function(){return Ou(ci)},useDebugValue:Th,useDeferredValue:function(e){var t=Ut();return Fe===null?t.memoizedState=e:nv(t,Fe.memoizedState,e)},useTransition:function(){var e=Ou(ci)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:zy,useSyncExternalStore:Uy,useId:rv,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ec={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),s=pr(e),o=In(r,s);o.payload=t,n!=null&&(o.callback=n),t=fr(e,o,s),t!==null&&(nn(t,e,s,r),_a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),s=pr(e),o=In(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=fr(e,o,s),t!==null&&(nn(t,e,s,r),_a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=pr(e),s=In(n,r);s.tag=2,t!=null&&(s.callback=t),t=fr(e,s,r),t!==null&&(nn(t,e,r,n),_a(t,e,r))}};function Tm(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ni(n,r)||!ni(s,o):!0}function av(e,t,n){var r=!1,s=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=zt(o):(s=gt(t)?Ur:tt.current,r=t.contextTypes,o=(r=r!=null)?Ds(e,s):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ec,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Om(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function Kd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},bh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=zt(o):(o=gt(t)?Ur:tt.current,s.context=Ds(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Gd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ec.enqueueReplaceState(s,s.state,null),dl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t){try{var n="",r=t;do n+=H2(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xS=typeof WeakMap=="function"?WeakMap:Map;function lv(e,t,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gl||(gl=!0,sf=r),Xd(e,t)},n}function cv(e,t,n){n=In(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xd(e,t),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Pm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_S.bind(null,e,t,n),t.then(e,e))}function _m(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=In(-1,1),t.tag=2,fr(n,t,1))),n.lanes|=1),e)}var yS=Gn.ReactCurrentOwner,pt=!1;function ot(e,t,n,r){t.child=e===null?Fy(t,null,n,r):Fs(t,e.child,n,r)}function Lm(e,t,n,r,s){n=n.render;var o=t.ref;return Os(t,s),r=Nh(e,t,n,r,o,s),n=Eh(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(Se&&n&&hh(t),t.flags|=1,ot(e,t,r,s),t.child)}function Im(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Dh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,uv(e,t,o,r,s)):(e=Aa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(i,r)&&e.ref===t.ref)return zn(e,t,s)}return t.flags|=1,e=mr(o,r),e.ref=t.ref,e.return=t,t.child=e}function uv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ni(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,zn(e,t,s)}return qd(e,t,n,r,s)}function dv(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(bs,jt),jt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(bs,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(bs,jt),jt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xe(bs,jt),jt|=r;return ot(e,t,s,n),t.child}function fv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qd(e,t,n,r,s){var o=gt(n)?Ur:tt.current;return o=Ds(t,o),Os(t,s),n=Nh(e,t,n,r,o,s),r=Eh(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(Se&&r&&hh(t),t.flags|=1,ot(e,t,n,s),t.child)}function Mm(e,t,n,r,s){if(gt(n)){var o=!0;il(t)}else o=!1;if(Os(t,s),t.stateNode===null)Ia(e,t),av(t,n,r),Kd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=gt(n)?Ur:tt.current,u=Ds(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Om(t,i,r,u),er=!1;var p=t.memoizedState;i.state=p,dl(t,r,i,s),c=t.memoizedState,l!==r||p!==c||mt.current||er?(typeof d=="function"&&(Gd(t,n,d,r),c=t.memoizedState),(l=er||Tm(t,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Vy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Qt(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=gt(n)?Ur:tt.current,c=Ds(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Om(t,i,r,c),er=!1,p=t.memoizedState,i.state=p,dl(t,r,i,s);var m=t.memoizedState;l!==f||p!==m||mt.current||er?(typeof x=="function"&&(Gd(t,n,x,r),m=t.memoizedState),(u=er||Tm(t,n,u,r,p,m,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Jd(e,t,n,r,o,s)}function Jd(e,t,n,r,s,o){fv(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&bm(t,n,!1),zn(e,t,o);r=t.stateNode,yS.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Fs(t,e.child,null,o),t.child=Fs(t,null,l,o)):ot(e,t,l,o),t.memoizedState=r.state,s&&bm(t,n,!0),t.child}function hv(e){var t=e.stateNode;t.pendingContext?vm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vm(e,t.context,!1),wh(e,t.containerInfo)}function Dm(e,t,n,r,s){return As(),mh(s),t.flags|=256,ot(e,t,n,r),t.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Qd(e){return{baseLanes:e,cachePool:null,transitions:null}}function pv(e,t,n){var r=t.pendingProps,s=Ne.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ne,s&1),e===null)return Hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=rc(i,r,0,null),e=Br(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qd(n),t.memoizedState=Yd,e):Oh(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return vS(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=mr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=mr(l,o):(o=Br(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Qd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Yd,r}return o=e.child,e=o.sibling,r=mr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oh(e,t){return t=rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,n,r){return r!==null&&mh(r),Fs(t,e.child,null,n),e=Oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vS(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Pu(Error(z(422))),aa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=rc({mode:"visible",children:r.children},s,0,null),o=Br(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fs(t,e.child,null,i),t.child.memoizedState=Qd(i),t.memoizedState=Yd,o);if(!(t.mode&1))return aa(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(z(419)),r=Pu(o,r,void 0),aa(e,t,i,r)}if(l=(i&e.childLanes)!==0,pt||l){if(r=ze,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Bn(e,s),nn(r,e,s,-1))}return Mh(),r=Pu(Error(z(421))),aa(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=RS.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,St=dr(s.nextSibling),kt=t,Se=!0,en=null,e!==null&&(Ft[$t++]=Pn,Ft[$t++]=_n,Ft[$t++]=Hr,Pn=e.id,_n=e.overflow,Hr=t),t=Oh(t,r.children),t.flags|=4096,t)}function Am(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wd(e.return,t,n)}function _u(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mv(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ot(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,n,t);else if(e.tag===19)Am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_u(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&fl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_u(t,!0,n,null,o);break;case"together":_u(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bS(e,t,n){switch(t.tag){case 3:hv(t),As();break;case 5:By(t);break;case 1:gt(t.type)&&il(t);break;case 4:wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(cl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?pv(e,t,n):(xe(Ne,Ne.current&1),e=zn(e,t,n),e!==null?e.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,dv(e,t,n)}return zn(e,t,n)}var gv,Zd,xv,yv;gv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zd=function(){};xv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ar(wn.current);var o=null;switch(n){case"input":s=wd(e,s),r=wd(e,r),o=[];break;case"select":s=Te({},s,{value:void 0}),r=Te({},r,{value:void 0}),o=[];break;case"textarea":s=kd(e,s),r=kd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sl)}Ed(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&be("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};yv=function(e,t,n,r){n!==r&&(t.flags|=4)};function yo(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wS(e,t,n){var r=t.pendingProps;switch(ph(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return gt(t.type)&&ol(),qe(t),null;case 3:return r=t.stateNode,$s(),we(mt),we(tt),Sh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(lf(en),en=null))),Zd(e,t),qe(t),null;case 5:jh(t);var s=Ar(ai.current);if(n=t.type,e!==null&&t.stateNode!=null)xv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return qe(t),null}if(e=Ar(wn.current),oa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yn]=t,r[oi]=o,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(s=0;s<Po.length;s++)be(Po[s],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Gp(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":Xp(r,o),be("invalid",r)}Ed(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&sa(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&sa(r.textContent,l,e),s=["children",""+l]):qo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&be("scroll",r)}switch(n){case"input":Ji(r),Kp(r,o,!0);break;case"textarea":Ji(r),qp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[yn]=t,e[oi]=r,gv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Cd(n,r),n){case"dialog":be("cancel",e),be("close",e),s=r;break;case"iframe":case"object":case"embed":be("load",e),s=r;break;case"video":case"audio":for(s=0;s<Po.length;s++)be(Po[s],e);s=r;break;case"source":be("error",e),s=r;break;case"img":case"image":case"link":be("error",e),be("load",e),s=r;break;case"details":be("toggle",e),s=r;break;case"input":Gp(e,r),s=wd(e,r),be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Te({},r,{value:void 0}),be("invalid",e);break;case"textarea":Xp(e,r),s=kd(e,r),be("invalid",e);break;default:s=r}Ed(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?qx(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kx(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jo(e,c):typeof c=="number"&&Jo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&be("scroll",e):c!=null&&Zf(e,o,c,i))}switch(n){case"input":Ji(e),Kp(e,r,!1);break;case"textarea":Ji(e),qp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ns(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)yv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Ar(ai.current),Ar(wn.current),oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(o=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return qe(t),null;case 13:if(we(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&St!==null&&t.mode&1&&!(t.flags&128))Dy(),As(),t.flags|=98560,o=!1;else if(o=oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[yn]=t}else As(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else en!==null&&(lf(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?$e===0&&($e=3):Mh())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return $s(),Zd(e,t),e===null&&ri(t.stateNode.containerInfo),qe(t),null;case 10:return yh(t.type._context),qe(t),null;case 17:return gt(t.type)&&ol(),qe(t),null;case 19:if(we(Ne),o=t.memoizedState,o===null)return qe(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)yo(o,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=fl(e),i!==null){for(t.flags|=128,yo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ne,Ne.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Bs&&(t.flags|=128,r=!0,yo(o,!1),t.lanes=4194304)}else{if(!r)if(e=fl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Se)return qe(t),null}else 2*Re()-o.renderingStartTime>Bs&&n!==1073741824&&(t.flags|=128,r=!0,yo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=Ne.current,xe(Ne,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Ih(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function jS(e,t){switch(ph(t),t.tag){case 1:return gt(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $s(),we(mt),we(tt),Sh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jh(t),null;case 13:if(we(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));As()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ne),null;case 4:return $s(),null;case 10:return yh(t.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var la=!1,Qe=!1,SS=typeof WeakSet=="function"?WeakSet:Set,X=null;function vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function ef(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var Fm=!1;function kS(e,t){if(Ad=tl,e=Sy(),fh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fd={focusedElem:e,selectionRange:n},tl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var h=m.memoizedProps,g=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?h:Qt(t.type,h),g);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Oe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return m=Fm,Fm=!1,m}function Vo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ef(t,n,o)}s=s.next}while(s!==r)}}function tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vv(e){var t=e.alternate;t!==null&&(e.alternate=null,vv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[oi],delete t[Bd],delete t[iS],delete t[aS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bv(e){return e.tag===5||e.tag===3||e.tag===4}function $m(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(r!==4&&(e=e.child,e!==null))for(nf(e,t,n),e=e.sibling;e!==null;)nf(e,t,n),e=e.sibling}function rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rf(e,t,n),e=e.sibling;e!==null;)rf(e,t,n),e=e.sibling}var He=null,Zt=!1;function Yn(e,t,n){for(n=n.child;n!==null;)wv(e,t,n),n=n.sibling}function wv(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:Qe||vs(n,t);case 6:var r=He,s=Zt;He=null,Yn(e,t,n),He=r,Zt=s,He!==null&&(Zt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Zt?(e=He,n=n.stateNode,e.nodeType===8?ku(e.parentNode,n):e.nodeType===1&&ku(e,n),ei(e)):ku(He,n.stateNode));break;case 4:r=He,s=Zt,He=n.stateNode.containerInfo,Zt=!0,Yn(e,t,n),He=r,Zt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ef(n,t,i),s=s.next}while(s!==r)}Yn(e,t,n);break;case 1:if(!Qe&&(vs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,t,l)}Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Yn(e,t,n),Qe=r):Yn(e,t,n);break;default:Yn(e,t,n)}}function Vm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SS),t.forEach(function(r){var s=LS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Zt=!1;break e;case 3:He=l.stateNode.containerInfo,Zt=!0;break e;case 4:He=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(He===null)throw Error(z(160));wv(o,i,s),He=null,Zt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jv(t,e),t=t.sibling}function jv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),hn(e),r&4){try{Vo(3,e,e.return),tc(3,e)}catch(h){Oe(e,e.return,h)}try{Vo(5,e,e.return)}catch(h){Oe(e,e.return,h)}}break;case 1:Jt(t,e),hn(e),r&512&&n!==null&&vs(n,n.return);break;case 5:if(Jt(t,e),hn(e),r&512&&n!==null&&vs(n,n.return),e.flags&32){var s=e.stateNode;try{Jo(s,"")}catch(h){Oe(e,e.return,h)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Hx(s,o),Cd(l,i);var u=Cd(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?qx(s,f):d==="dangerouslySetInnerHTML"?Kx(s,f):d==="children"?Jo(s,f):Zf(s,d,f,u)}switch(l){case"input":jd(s,o);break;case"textarea":Wx(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Ns(s,!!o.multiple,x,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ns(s,!!o.multiple,o.defaultValue,!0):Ns(s,!!o.multiple,o.multiple?[]:"",!1))}s[oi]=o}catch(h){Oe(e,e.return,h)}}break;case 6:if(Jt(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(h){Oe(e,e.return,h)}}break;case 3:if(Jt(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(h){Oe(e,e.return,h)}break;case 4:Jt(t,e),hn(e);break;case 13:Jt(t,e),hn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Rh=Re())),r&4&&Vm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Jt(t,e),Qe=u):Jt(t,e),hn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(p=X,x=p.child,p.tag){case 0:case 11:case 14:case 15:Vo(4,p,p.return);break;case 1:vs(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(h){Oe(r,n,h)}}break;case 5:vs(p,p.return);break;case 22:if(p.memoizedState!==null){zm(f);continue}}x!==null?(x.return=p,X=x):zm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xx("display",i))}catch(h){Oe(e,e.return,h)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){Oe(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),hn(e),r&4&&Vm(e);break;case 21:break;default:Jt(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bv(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jo(s,""),r.flags&=-33);var o=$m(e);rf(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=$m(e);nf(e,l,i);break;default:throw Error(z(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NS(e,t,n){X=e,Sv(e)}function Sv(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||la;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qe;l=la;var u=Qe;if(la=i,(Qe=c)&&!u)for(X=s;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?Um(s):c!==null?(c.return=i,X=c):Um(s);for(;o!==null;)X=o,Sv(o),o=o.sibling;X=s,la=l,Qe=u}Bm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):Bm(e)}}function Bm(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||tc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nm(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nm(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ei(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Qe||t.flags&512&&tf(t)}catch(p){Oe(t,t.return,p)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function zm(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Um(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tc(4,t)}catch(c){Oe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Oe(t,s,c)}}var o=t.return;try{tf(t)}catch(c){Oe(t,o,c)}break;case 5:var i=t.return;try{tf(t)}catch(c){Oe(t,i,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var ES=Math.ceil,ml=Gn.ReactCurrentDispatcher,Ph=Gn.ReactCurrentOwner,Bt=Gn.ReactCurrentBatchConfig,ce=0,ze=null,Me=null,Ge=0,jt=0,bs=Nr(0),$e=0,di=null,Gr=0,nc=0,_h=0,Bo=null,ht=null,Rh=0,Bs=1/0,Tn=null,gl=!1,sf=null,hr=null,ca=!1,ar=null,xl=0,zo=0,of=null,Ma=-1,Da=0;function lt(){return ce&6?Re():Ma!==-1?Ma:Ma=Re()}function pr(e){return e.mode&1?ce&2&&Ge!==0?Ge&-Ge:cS.transition!==null?(Da===0&&(Da=ay()),Da):(e=pe,e!==0||(e=window.event,e=e===void 0?16:py(e.type)),e):1}function nn(e,t,n,r){if(50<zo)throw zo=0,of=null,Error(z(185));ki(e,n,r),(!(ce&2)||e!==ze)&&(e===ze&&(!(ce&2)&&(nc|=n),$e===4&&rr(e,Ge)),xt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Bs=Re()+500,Ql&&Er()))}function xt(e,t){var n=e.callbackNode;cj(e,t);var r=el(e,e===ze?Ge:0);if(r===0)n!==null&&Qp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qp(n),t===1)e.tag===0?lS(Hm.bind(null,e)):Ly(Hm.bind(null,e)),sS(function(){!(ce&6)&&Er()}),n=null;else{switch(ly(r)){case 1:n=sh;break;case 4:n=oy;break;case 16:n=Za;break;case 536870912:n=iy;break;default:n=Za}n=_v(n,kv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kv(e,t){if(Ma=-1,Da=0,ce&6)throw Error(z(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var r=el(e,e===ze?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yl(e,r);else{t=r;var s=ce;ce|=2;var o=Ev();(ze!==e||Ge!==t)&&(Tn=null,Bs=Re()+500,Vr(e,t));do try{OS();break}catch(l){Nv(e,l)}while(1);xh(),ml.current=o,ce=s,Me!==null?t=0:(ze=null,Ge=0,t=$e)}if(t!==0){if(t===2&&(s=Rd(e),s!==0&&(r=s,t=af(e,s))),t===1)throw n=di,Vr(e,0),rr(e,r),xt(e,Re()),n;if(t===6)rr(e,r);else{if(s=e.current.alternate,!(r&30)&&!CS(s)&&(t=yl(e,r),t===2&&(o=Rd(e),o!==0&&(r=o,t=af(e,o))),t===1))throw n=di,Vr(e,0),rr(e,r),xt(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:_r(e,ht,Tn);break;case 3:if(rr(e,r),(r&130023424)===r&&(t=Rh+500-Re(),10<t)){if(el(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vd(_r.bind(null,e,ht,Tn),t);break}_r(e,ht,Tn);break;case 4:if(rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-tn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ES(r/1960))-r,10<r){e.timeoutHandle=Vd(_r.bind(null,e,ht,Tn),r);break}_r(e,ht,Tn);break;case 5:_r(e,ht,Tn);break;default:throw Error(z(329))}}}return xt(e,Re()),e.callbackNode===n?kv.bind(null,e):null}function af(e,t){var n=Bo;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=yl(e,t),e!==2&&(t=ht,ht=n,t!==null&&lf(t)),e}function lf(e){ht===null?ht=e:ht.push.apply(ht,e)}function CS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!on(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~_h,t&=~nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function Hm(e){if(ce&6)throw Error(z(327));Ps();var t=el(e,0);if(!(t&1))return xt(e,Re()),null;var n=yl(e,t);if(e.tag!==0&&n===2){var r=Rd(e);r!==0&&(t=r,n=af(e,r))}if(n===1)throw n=di,Vr(e,0),rr(e,t),xt(e,Re()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,ht,Tn),xt(e,Re()),null}function Lh(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Bs=Re()+500,Ql&&Er())}}function Kr(e){ar!==null&&ar.tag===0&&!(ce&6)&&Ps();var t=ce;ce|=1;var n=Bt.transition,r=pe;try{if(Bt.transition=null,pe=1,e)return e()}finally{pe=r,Bt.transition=n,ce=t,!(ce&6)&&Er()}}function Ih(){jt=bs.current,we(bs)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rS(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(ph(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:$s(),we(mt),we(tt),Sh();break;case 5:jh(r);break;case 4:$s();break;case 13:we(Ne);break;case 19:we(Ne);break;case 10:yh(r.type._context);break;case 22:case 23:Ih()}n=n.return}if(ze=e,Me=e=mr(e.current,null),Ge=jt=t,$e=0,di=null,_h=nc=Gr=0,ht=Bo=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Dr=null}return e}function Nv(e,t){do{var n=Me;try{if(xh(),Ra.current=pl,hl){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hl=!1}if(Wr=0,Be=Fe=Ce=null,$o=!1,li=0,Ph.current=null,n===null||n.return===null){$e=1,di=t,Me=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=_m(i);if(x!==null){x.flags&=-257,Rm(x,i,l,o,t),x.mode&1&&Pm(o,u,t),t=x,c=u;var m=t.updateQueue;if(m===null){var h=new Set;h.add(c),t.updateQueue=h}else m.add(c);break e}else{if(!(t&1)){Pm(o,u,t),Mh();break e}c=Error(z(426))}}else if(Se&&l.mode&1){var g=_m(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Rm(g,i,l,o,t),mh(Vs(c,l));break e}}o=c=Vs(c,l),$e!==4&&($e=2),Bo===null?Bo=[o]:Bo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=lv(o,c,t);km(o,y);break e;case 1:l=c;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hr===null||!hr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=cv(o,l,t);km(o,j);break e}}o=o.return}while(o!==null)}Tv(n)}catch(k){t=k,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function Ev(){var e=ml.current;return ml.current=pl,e===null?pl:e}function Mh(){($e===0||$e===3||$e===2)&&($e=4),ze===null||!(Gr&268435455)&&!(nc&268435455)||rr(ze,Ge)}function yl(e,t){var n=ce;ce|=2;var r=Ev();(ze!==e||Ge!==t)&&(Tn=null,Vr(e,t));do try{TS();break}catch(s){Nv(e,s)}while(1);if(xh(),ce=n,ml.current=r,Me!==null)throw Error(z(261));return ze=null,Ge=0,$e}function TS(){for(;Me!==null;)Cv(Me)}function OS(){for(;Me!==null&&!ej();)Cv(Me)}function Cv(e){var t=Pv(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?Tv(e):Me=t,Ph.current=null}function Tv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jS(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Me=null;return}}else if(n=wS(n,t,jt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);$e===0&&($e=5)}function _r(e,t,n){var r=pe,s=Bt.transition;try{Bt.transition=null,pe=1,PS(e,t,n,r)}finally{Bt.transition=s,pe=r}return null}function PS(e,t,n,r){do Ps();while(ar!==null);if(ce&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uj(e,o),e===ze&&(Me=ze=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ca||(ca=!0,_v(Za,function(){return Ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var i=pe;pe=1;var l=ce;ce|=4,Ph.current=null,kS(e,n),jv(n,e),Jj(Fd),tl=!!Ad,Fd=Ad=null,e.current=n,NS(n),tj(),ce=l,pe=i,Bt.transition=o}else e.current=n;if(ca&&(ca=!1,ar=e,xl=s),o=e.pendingLanes,o===0&&(hr=null),sj(n.stateNode),xt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gl)throw gl=!1,e=sf,sf=null,e;return xl&1&&e.tag!==0&&Ps(),o=e.pendingLanes,o&1?e===of?zo++:(zo=0,of=e):zo=0,Er(),null}function Ps(){if(ar!==null){var e=ly(xl),t=Bt.transition,n=pe;try{if(Bt.transition=null,pe=16>e?16:e,ar===null)var r=!1;else{if(e=ar,ar=null,xl=0,ce&6)throw Error(z(331));var s=ce;for(ce|=4,X=e.current;X!==null;){var o=X,i=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Vo(8,d,o)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var p=d.sibling,x=d.return;if(vv(d),d===u){X=null;break}if(p!==null){p.return=x,X=p;break}X=x}}}var m=o.alternate;if(m!==null){var h=m.child;if(h!==null){m.child=null;do{var g=h.sibling;h.sibling=null,h=g}while(h!==null)}}X=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,X=i;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vo(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,X=y;break e}X=o.return}}var w=e.current;for(X=w;X!==null;){i=X;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,X=b;else e:for(i=w;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tc(9,l)}}catch(k){Oe(l,l.return,k)}if(l===i){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(ce=s,Er(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Kl,e)}catch{}r=!0}return r}finally{pe=n,Bt.transition=t}}return!1}function Wm(e,t,n){t=Vs(n,t),t=lv(e,t,1),e=fr(e,t,1),t=lt(),e!==null&&(ki(e,1,t),xt(e,t))}function Oe(e,t,n){if(e.tag===3)Wm(e,e,n);else for(;t!==null;){if(t.tag===3){Wm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){e=Vs(n,e),e=cv(t,e,1),t=fr(t,e,1),e=lt(),t!==null&&(ki(t,1,e),xt(t,e));break}}t=t.return}}function _S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ge&n)===n&&($e===4||$e===3&&(Ge&130023424)===Ge&&500>Re()-Rh?Vr(e,0):_h|=n),xt(e,t)}function Ov(e,t){t===0&&(e.mode&1?(t=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):t=1);var n=lt();e=Bn(e,t),e!==null&&(ki(e,t,n),xt(e,n))}function RS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ov(e,n)}function LS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),Ov(e,n)}var Pv;Pv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,bS(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Se&&t.flags&1048576&&Iy(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ia(e,t),e=t.pendingProps;var s=Ds(t,tt.current);Os(t,n),s=Nh(null,t,r,e,s,n);var o=Eh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(o=!0,il(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bh(t),s.updater=ec,t.stateNode=s,s._reactInternals=t,Kd(t,r,e,n),t=Jd(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&hh(t),ot(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ia(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=MS(r),e=Qt(r,e),s){case 0:t=qd(null,t,r,e,n);break e;case 1:t=Mm(null,t,r,e,n);break e;case 11:t=Lm(null,t,r,e,n);break e;case 14:t=Im(null,t,r,Qt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),qd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Mm(e,t,r,s,n);case 3:e:{if(hv(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Vy(e,t),dl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Vs(Error(z(423)),t),t=Dm(e,t,r,n,s);break e}else if(r!==s){s=Vs(Error(z(424)),t),t=Dm(e,t,r,n,s);break e}else for(St=dr(t.stateNode.containerInfo.firstChild),kt=t,Se=!0,en=null,n=Fy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(As(),r===s){t=zn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return By(t),e===null&&Hd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,$d(r,s)?i=null:o!==null&&$d(r,o)&&(t.flags|=32),fv(e,t),ot(e,t,i,n),t.child;case 6:return e===null&&Hd(t),null;case 13:return pv(e,t,n);case 4:return wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fs(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Lm(e,t,r,s,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,xe(cl,r._currentValue),r._currentValue=i,o!==null)if(on(o.value,i)){if(o.children===s.children&&!mt.current){t=zn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=In(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Wd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ot(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Os(t,n),s=zt(s),r=r(s),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,s=Qt(r,t.pendingProps),s=Qt(r.type,s),Im(e,t,r,s,n);case 15:return uv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qt(r,s),Ia(e,t),t.tag=1,gt(r)?(e=!0,il(t)):e=!1,Os(t,n),av(t,r,s),Kd(t,r,s,n),Jd(null,t,r,!0,e,n);case 19:return mv(e,t,n);case 22:return dv(e,t,n)}throw Error(z(156,t.tag))};function _v(e,t){return sy(e,t)}function IS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,r){return new IS(e,t,n,r)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MS(e){if(typeof e=="function")return Dh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===th)return 11;if(e===nh)return 14}return 2}function mr(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Aa(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Dh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case us:return Br(n.children,s,o,t);case eh:i=8,s|=8;break;case xd:return e=Vt(12,n,t,s|2),e.elementType=xd,e.lanes=o,e;case yd:return e=Vt(13,n,t,s),e.elementType=yd,e.lanes=o,e;case vd:return e=Vt(19,n,t,s),e.elementType=vd,e.lanes=o,e;case Bx:return rc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $x:i=10;break e;case Vx:i=9;break e;case th:i=11;break e;case nh:i=14;break e;case Zn:i=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Vt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return e=Vt(7,e,r,t),e.lanes=n,e}function rc(e,t,n,r){return e=Vt(22,e,r,t),e.elementType=Bx,e.lanes=n,e.stateNode={isHidden:!1},e}function Ru(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function Lu(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ah(e,t,n,r,s,o,i,l,c){return e=new DS(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(o),e}function AS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rv(e){if(!e)return vr;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(gt(n))return Ry(e,n,t)}return t}function Lv(e,t,n,r,s,o,i,l,c){return e=Ah(n,r,!0,e,s,o,i,l,c),e.context=Rv(null),n=e.current,r=lt(),s=pr(n),o=In(r,s),o.callback=t??null,fr(n,o,s),e.current.lanes=s,ki(e,s,r),xt(e,r),e}function sc(e,t,n,r){var s=t.current,o=lt(),i=pr(s);return n=Rv(n),t.context===null?t.context=n:t.pendingContext=n,t=In(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fr(s,t,i),e!==null&&(nn(e,s,i,o),_a(e,s,i)),i}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){Gm(e,t),(e=e.alternate)&&Gm(e,t)}function FS(){return null}var Iv=typeof reportError=="function"?reportError:function(e){console.error(e)};function $h(e){this._internalRoot=e}oc.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));sc(e,t,null,null)};oc.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){sc(null,e,null,null)}),t[Vn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nr.length&&t!==0&&t<nr[n].priority;n++);nr.splice(n,0,e),n===0&&hy(e)}};function Vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Km(){}function $S(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=vl(i);o.call(u)}}var i=Lv(t,r,e,0,null,!1,!1,"",Km);return e._reactRootContainer=i,e[Vn]=i.current,ri(e.nodeType===8?e.parentNode:e),Kr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=vl(c);l.call(u)}}var c=Ah(e,0,!1,null,null,!1,!1,"",Km);return e._reactRootContainer=c,e[Vn]=c.current,ri(e.nodeType===8?e.parentNode:e),Kr(function(){sc(t,c,n,r)}),c}function ac(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=vl(i);l.call(c)}}sc(t,i,e,s)}else i=$S(n,t,e,s,r);return vl(i)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oo(t.pendingLanes);n!==0&&(oh(t,n|1),xt(t,Re()),!(ce&6)&&(Bs=Re()+500,Er()))}break;case 13:Kr(function(){var r=Bn(e,1);if(r!==null){var s=lt();nn(r,e,1,s)}}),Fh(e,1)}};ih=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var n=lt();nn(t,e,134217728,n)}Fh(e,134217728)}};uy=function(e){if(e.tag===13){var t=pr(e),n=Bn(e,t);if(n!==null){var r=lt();nn(n,e,t,r)}Fh(e,t)}};dy=function(){return pe};fy=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};Od=function(e,t,n){switch(t){case"input":if(jd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Yl(r);if(!s)throw Error(z(90));Ux(r),jd(r,s)}}}break;case"textarea":Wx(e,n);break;case"select":t=n.value,t!=null&&Ns(e,!!n.multiple,t,!1)}};Qx=Lh;Zx=Kr;var VS={usingClientEntryPoint:!1,Events:[Ei,ps,Yl,Jx,Yx,Lh]},vo={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BS={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ny(e),e===null?null:e.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||FS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Kl=ua.inject(BS),bn=ua}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(t))throw Error(z(200));return AS(e,t,null,n)};Tt.createRoot=function(e,t){if(!Vh(e))throw Error(z(299));var n=!1,r="",s=Iv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ah(e,1,!1,null,null,n,!1,r,s),e[Vn]=t.current,ri(e.nodeType===8?e.parentNode:e),new $h(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=ny(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return Kr(e)};Tt.hydrate=function(e,t,n){if(!ic(t))throw Error(z(200));return ac(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Vh(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Iv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Lv(t,null,e,1,n??null,s,!1,o,i),e[Vn]=t.current,ri(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oc(t)};Tt.render=function(e,t,n){if(!ic(t))throw Error(z(200));return ac(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!ic(e))throw Error(z(40));return e._reactRootContainer?(Kr(function(){ac(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1};Tt.unstable_batchedUpdates=Lh;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return ac(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),Mx.exports=Tt;var Dv=Mx.exports,Xm=Dv;md.createRoot=Xm.createRoot,md.hydrateRoot=Xm.hydrateRoot;const zS="modulepreload",US=function(e){return"/"+e},qm={},Av=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=US(o),o in qm)return;qm[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":zS,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};var Jm="popstate";function HS(e={}){function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return cf("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fi(s)}return GS(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ht(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function Ym(e,t){return{usr:e.state,key:e.key,idx:t}}function cf(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ys(t):t,state:n,key:t&&t.key||r||WS()}}function fi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ys(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function GS(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let g=d(),y=g==null?null:g-u;u=g,c&&c({action:l,location:h.location,delta:y})}function p(g,y){l="PUSH";let w=cf(h.location,g,y);n&&n(w,g),u=d()+1;let b=Ym(w,u),j=h.createHref(w);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}o&&c&&c({action:l,location:h.location,delta:1})}function x(g,y){l="REPLACE";let w=cf(h.location,g,y);n&&n(w,g),u=d();let b=Ym(w,u),j=h.createHref(w);i.replaceState(b,"",j),o&&c&&c({action:l,location:h.location,delta:0})}function m(g){return KS(g)}let h={get action(){return l},get location(){return e(s,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Jm,f),c=g,()=>{s.removeEventListener(Jm,f),c=null}},createHref(g){return t(s,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:x,go(g){return i.go(g)}};return h}function KS(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ke(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:fi(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Fv(e,t,n="/"){return XS(e,t,n,!1)}function XS(e,t,n,r){let s=typeof t=="string"?Ys(t):t,o=Un(s.pathname||"/",n);if(o==null)return null;let i=$v(e);qS(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=ik(o);l=sk(i[c],u,r)}return l}function $v(e,t=[],n=[],r="",s=!1){let o=(i,l,c=s,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;ke(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Mn([r,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(ke(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$v(i.children,t,p,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:nk(f,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,l);else for(let u of Vv(i.path))o(i,l,!0,u)}),t}function Vv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Vv(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JS=/^:[\w-]+$/,YS=3,QS=2,ZS=1,ek=10,tk=-2,Qm=e=>e==="*";function nk(e,t){let n=e.split("/"),r=n.length;return n.some(Qm)&&(r+=tk),t&&(r+=QS),n.filter(s=>!Qm(s)).reduce((s,o)=>s+(JS.test(o)?YS:o===""?ZS:ek),r)}function rk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function sk(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=bl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=bl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Mn([o,f.pathname]),pathnameBase:uk(Mn([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Mn([o,f.pathnameBase]))}return i}function bl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ok(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let m=l[p]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?u[d]=void 0:u[d]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function ok(e,t=!1,n=!0){Ht(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ik(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ht(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Un(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ak=e=>Bv.test(e);function lk(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ys(e):e,o;if(n)if(ak(n))o=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${n}`)}n.startsWith("/")?o=Zm(n.substring(1),"/"):o=Zm(n,t)}else o=t;return{pathname:o,search:dk(r),hash:fk(s)}}function Zm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Iu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ck(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bh(e){let t=ck(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zh(e,t,n,r=!1){let s;typeof e=="string"?s=Ys(e):(s={...e},ke(!s.pathname||!s.pathname.includes("?"),Iu("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Iu("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Iu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=lk(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Mn=e=>e.join("/").replace(/\/\/+/g,"/"),uk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,hk=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function mk(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Uv(e,t){let n=e;if(typeof n!="string"||!Bv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(zv)try{let o=new URL(window.location.href),i=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=Un(i.pathname,t);i.origin===o.origin&&l!=null?n=l+i.search+i.hash:s=!0}catch{Ht(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hv=["POST","PUT","PATCH","DELETE"];new Set(Hv);var gk=["GET",...Hv];new Set(gk);var Qs=v.createContext(null);Qs.displayName="DataRouter";var lc=v.createContext(null);lc.displayName="DataRouterState";var xk=v.createContext(!1),Wv=v.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var yk=v.createContext(new Map);yk.displayName="Fetchers";var vk=v.createContext(null);vk.displayName="Await";var Pt=v.createContext(null);Pt.displayName="Navigation";var Ti=v.createContext(null);Ti.displayName="Location";var an=v.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var Uh=v.createContext(null);Uh.displayName="RouteError";var Gv="REACT_ROUTER_ERROR",bk="REDIRECT",wk="ROUTE_ERROR_RESPONSE";function jk(e){if(e.startsWith(`${Gv}:${bk}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Sk(e){if(e.startsWith(`${Gv}:${wk}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new hk(t.status,t.statusText,t.data)}catch{}}function kk(e,{relative:t}={}){ke(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Pt),{hash:s,pathname:o,search:i}=Oi(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:Mn([n,o])),r.createHref({pathname:l,search:i,hash:s})}function Zs(){return v.useContext(Ti)!=null}function _t(){return ke(Zs(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ti).location}var Kv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xv(e){v.useContext(Pt).static||v.useLayoutEffect(e)}function Ve(){let{isDataRoute:e}=v.useContext(an);return e?$k():Nk()}function Nk(){ke(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Qs),{basename:t,navigator:n}=v.useContext(Pt),{matches:r}=v.useContext(an),{pathname:s}=_t(),o=JSON.stringify(Bh(r)),i=v.useRef(!1);return Xv(()=>{i.current=!0}),v.useCallback((c,u={})=>{if(Ht(i.current,Kv),!i.current)return;if(typeof c=="number"){n.go(c);return}let d=zh(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Mn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,s,e])}var Ek=v.createContext(null);function Ck(e){let t=v.useContext(an).outlet;return v.useMemo(()=>t&&v.createElement(Ek.Provider,{value:e},t),[t,e])}function Oi(e,{relative:t}={}){let{matches:n}=v.useContext(an),{pathname:r}=_t(),s=JSON.stringify(Bh(n));return v.useMemo(()=>zh(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Tk(e,t){return qv(e,t)}function qv(e,t,n,r,s){var w;ke(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Pt),{matches:i}=v.useContext(an),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";Yv(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=_t(),x;if(t){let b=typeof t=="string"?Ys(t):t;ke(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),x=b}else x=p;let m=x.pathname||"/",h=m;if(d!=="/"){let b=d.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=Fv(e,{pathname:h});Ht(f||g!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ht(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Lk(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Mn([d,o.encodeLocation?o.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Mn([d,o.encodeLocation?o.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),i,n,r,s);return t&&y?v.createElement(Ti.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},y):y}function Ok(){let e=Fk(),t=pk(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,i)}var Pk=v.createElement(Ok,null),Jv=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Sk(e.digest);n&&(e=n)}let t=e!==void 0?v.createElement(an.Provider,{value:this.props.routeContext},v.createElement(Uh.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(_k,{error:e},t):t}};Jv.contextType=xk;var Mu=new WeakMap;function _k({children:e,error:t}){let{basename:n}=v.useContext(Pt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=jk(t.digest);if(r){let s=Mu.get(t);if(s)throw s;let o=Uv(r.location,n);if(zv&&!Mu.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Mu.set(t,i),i}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function Rk({routeContext:e,match:t,children:n}){let r=v.useContext(Qs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(an.Provider,{value:e},n)}function Lk(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=n==null?void 0:n.errors;if(i!=null){let d=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:x}=n,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=n&&r?(d,f)=>{var p,x;r(d,{location:n.location,params:((x=(p=n.matches)==null?void 0:p[0])==null?void 0:x.params)??{},unstable_pattern:mk(n.matches),errorInfo:f})}:void 0;return o.reduceRight((d,f,p)=>{let x,m=!1,h=null,g=null;n&&(x=i&&f.route.id?i[f.route.id]:void 0,h=f.route.errorElement||Pk,l&&(c<0&&p===0?(Yv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):c===p&&(m=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),w=()=>{let b;return x?b=h:m?b=g:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,v.createElement(Rk,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(Jv,{location:n.location,revalidation:n.revalidation,component:h,error:x,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):w()},null)}function Hh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ik(e){let t=v.useContext(Qs);return ke(t,Hh(e)),t}function Mk(e){let t=v.useContext(lc);return ke(t,Hh(e)),t}function Dk(e){let t=v.useContext(an);return ke(t,Hh(e)),t}function Wh(e){let t=Dk(e),n=t.matches[t.matches.length-1];return ke(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ak(){return Wh("useRouteId")}function Fk(){var r;let e=v.useContext(Uh),t=Mk("useRouteError"),n=Wh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function $k(){let{router:e}=Ik("useNavigate"),t=Wh("useNavigate"),n=v.useRef(!1);return Xv(()=>{n.current=!0}),v.useCallback(async(s,o={})=>{Ht(n.current,Kv),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var eg={};function Yv(e,t,n){!t&&!eg[e]&&(eg[e]=!0,Ht(!1,n))}v.memo(Vk);function Vk({routes:e,future:t,state:n,onError:r}){return qv(e,void 0,n,r,t)}function Bk({to:e,replace:t,state:n,relative:r}){ke(Zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Pt);Ht(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(an),{pathname:i}=_t(),l=Ve(),c=zh(e,Bh(o),i,r==="path"),u=JSON.stringify(c);return v.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function zk(e){return Ck(e.context)}function Ae(e){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:i}){ke(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,unstable_useTransitions:i,future:{}}),[l,s,o,i]);typeof n=="string"&&(n=Ys(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:x="default"}=n,m=v.useMemo(()=>{let h=Un(u,l);return h==null?null:{location:{pathname:h,search:d,hash:f,state:p,key:x},navigationType:r}},[l,u,d,f,p,x,r]);return Ht(m!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Pt.Provider,{value:c},v.createElement(Ti.Provider,{children:t,value:m}))}function Hk({children:e,location:t}){return Tk(uf(e),t)}function uf(e,t=[]){let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let o=[...t,s];if(r.type===v.Fragment){n.push.apply(n,uf(r.props.children,o));return}ke(r.type===Ae,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=uf(r.props.children,o)),n.push(i)}),n}var Fa="get",$a="application/x-www-form-urlencoded";function cc(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Wk(e){return cc(e)&&e.tagName.toLowerCase()==="button"}function Gk(e){return cc(e)&&e.tagName.toLowerCase()==="form"}function Kk(e){return cc(e)&&e.tagName.toLowerCase()==="input"}function Xk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qk(e,t){return e.button===0&&(!t||t==="_self")&&!Xk(e)}var da=null;function Jk(){if(da===null)try{new FormData(document.createElement("form"),0),da=!1}catch{da=!0}return da}var Yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Du(e){return e!=null&&!Yk.has(e)?(Ht(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$a}"`),null):e}function Qk(e,t){let n,r,s,o,i;if(Gk(e)){let l=e.getAttribute("action");r=l?Un(l,t):null,n=e.getAttribute("method")||Fa,s=Du(e.getAttribute("enctype"))||$a,o=new FormData(e)}else if(Wk(e)||Kk(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?Un(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Fa,s=Du(e.getAttribute("formenctype"))||Du(l.getAttribute("enctype"))||$a,o=new FormData(l,e),!Jk()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(cc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fa,r=null,s=$a,i=e}return o&&s==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Un(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function eN(e,t){if(e.id in t)return t[e.id];try{let n=await Av(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tN(e){return e!=null&&typeof e.page=="string"}function nN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rN(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let i=await eN(o,n);return i.links?i.links():[]}return[]}));return aN(r.flat(1).filter(nN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tg(e,t,n,r,s,o){let i=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function sN(e,t,{includeHydrateFallback:n}={}){return oN(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function oN(e){return[...new Set(e)]}function iN(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function aN(e,t){let n=new Set,r=new Set(t);return e.reduce((s,o)=>{if(t&&!tN(o)&&o.as==="script"&&o.href&&r.has(o.href))return s;let l=JSON.stringify(iN(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function Qv(){let e=v.useContext(Qs);return Gh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lN(){let e=v.useContext(lc);return Gh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kh=v.createContext(void 0);Kh.displayName="FrameworkContext";function Zv(){let e=v.useContext(Kh);return Gh(e,"You must render this element inside a <HydratedRouter> element"),e}function cN(e,t){let n=v.useContext(Kh),[r,s]=v.useState(!1),[o,i]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=v.useRef(null);v.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let h=y=>{y.forEach(w=>{i(w.isIntersecting)})},g=new IntersectionObserver(h,{threshold:.5});return p.current&&g.observe(p.current),()=>{g.disconnect()}}},[e]),v.useEffect(()=>{if(r){let h=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(h)}}},[r]);let x=()=>{s(!0)},m=()=>{s(!1),i(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:bo(l,x),onBlur:bo(c,m),onMouseEnter:bo(u,x),onMouseLeave:bo(d,m),onTouchStart:bo(f,x)}]:[!1,p,{}]}function bo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function uN({page:e,...t}){let{router:n}=Qv(),r=v.useMemo(()=>Fv(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(fN,{page:e,matches:r,...t}):null}function dN(e){let{manifest:t,routeModules:n}=Zv(),[r,s]=v.useState([]);return v.useEffect(()=>{let o=!1;return rN(e,t,n).then(i=>{o||s(i)}),()=>{o=!0}},[e,t,n]),r}function fN({page:e,matches:t,...n}){let r=_t(),{manifest:s,routeModules:o}=Zv(),{basename:i}=Qv(),{loaderData:l,matches:c}=lN(),u=v.useMemo(()=>tg(e,t,c,s,r,"data"),[e,t,c,s,r]),d=v.useMemo(()=>tg(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,h=!1;if(t.forEach(y=>{var b;let w=s.routes[y.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((b=o[y.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?h=!0:m.add(y.route.id))}),m.size===0)return[];let g=Zk(e,i,"data");return h&&m.size>0&&g.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[i,l,r,s,u,t,e,o]),p=v.useMemo(()=>sN(d,s),[d,s]),x=dN(d);return v.createElement(v.Fragment,null,f.map(m=>v.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),p.map(m=>v.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),x.map(({key:m,link:h})=>v.createElement("link",{key:m,nonce:n.nonce,...h})))}function hN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var pN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pN&&(window.__reactRouterVersion="7.11.0")}catch{}function mN({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=v.useRef();s.current==null&&(s.current=HS({window:r,v5Compat:!0}));let o=s.current,[i,l]=v.useState({action:o.action,location:o.location}),c=v.useCallback(u=>{n===!1?l(u):v.startTransition(()=>l(u))},[n]);return v.useLayoutEffect(()=>o.listen(c),[o,c]),v.createElement(Uk,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o,unstable_useTransitions:n})}var eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tb=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},m){let{basename:h,unstable_useTransitions:g}=v.useContext(Pt),y=typeof u=="string"&&eb.test(u),w=Uv(u,h);u=w.to;let b=kk(u,{relative:s}),[j,k,N]=cN(r,x),S=vN(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g});function E(T){t&&t(T),T.defaultPrevented||S(T)}let O=v.createElement("a",{...x,...N,href:w.absoluteURL||b,onClick:w.isExternal||o?t:E,ref:hN(m,k),target:c,"data-discover":!y&&n==="render"?"true":void 0});return j&&!y?v.createElement(v.Fragment,null,O,v.createElement(uN,{page:b})):O});tb.displayName="Link";var gN=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:i,viewTransition:l,children:c,...u},d){let f=Oi(i,{relative:u.relative}),p=_t(),x=v.useContext(lc),{navigator:m,basename:h}=v.useContext(Pt),g=x!=null&&kN(f)&&l===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&h&&(b=Un(b,h)||b);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!s&&w.startsWith(y)&&w.charAt(j)==="/",N=b!=null&&(b===y||!s&&b.startsWith(y)&&b.charAt(y.length)==="/"),S={isActive:k,isPending:N,isTransitioning:g},E=k?t:void 0,O;typeof r=="function"?O=r(S):O=[r,k?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(S):o;return v.createElement(tb,{...u,"aria-current":E,className:O,ref:d,style:T,to:i,viewTransition:l},typeof c=="function"?c(S):c)});gN.displayName="NavLink";var xN=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:i=Fa,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},m)=>{let{unstable_useTransitions:h}=v.useContext(Pt),g=jN(),y=SN(l,{relative:u}),w=i.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&eb.test(l),j=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,S=(N==null?void 0:N.getAttribute("formmethod"))||i,E=()=>g(N||k.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:s,state:o,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});h&&n!==!1?v.startTransition(()=>E()):E()};return v.createElement("form",{ref:m,method:w,action:y,onSubmit:r?c:j,...x,"data-discover":!b&&e==="render"?"true":void 0})});xN.displayName="Form";function yN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(e){let t=v.useContext(Qs);return ke(t,yN(e)),t}function vN(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Ve(),d=_t(),f=Oi(e,{relative:o});return v.useCallback(p=>{if(qk(p,t)){p.preventDefault();let x=n!==void 0?n:fi(d)===fi(f),m=()=>u(e,{replace:x,state:r,preventScrollReset:s,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l});c?v.startTransition(()=>m()):m()}},[d,u,f,n,r,t,e,s,o,i,l,c])}var bN=0,wN=()=>`__${String(++bN)}__`;function jN(){let{router:e}=nb("useSubmit"),{basename:t}=v.useContext(Pt),n=Ak(),r=e.fetch,s=e.navigate;return v.useCallback(async(o,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Qk(o,t);if(i.navigate===!1){let p=i.fetcherKey||wN();await r(p,n,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await s(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,s,t,n])}function SN(e,{relative:t}={}){let{basename:n}=v.useContext(Pt),r=v.useContext(an);ke(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Oi(e||".",{relative:t})},i=_t();if(e==null){o.search=i.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mn([n,o.pathname])),fi(o)}function kN(e,{relative:t}={}){let n=v.useContext(Wv);ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nb("useViewTransitionState"),s=Oi(e,{relative:t});if(!n.isTransitioning)return!1;let o=Un(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Un(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bl(s.pathname,i)!=null||bl(s.pathname,o)!=null}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ng=e=>{const t=EN(e);return t.charAt(0).toUpperCase()+t.slice(1)},rb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),CN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...TN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:rb("lucide",s),...!o&&!CN(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=(e,t)=>{const n=v.forwardRef(({className:r,...s},o)=>v.createElement(ON,{ref:o,iconNode:t,className:rb(`lucide-${NN(ng(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ng(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_N=ns("chevron-down",PN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LN=ns("chevron-left",RN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MN=ns("chevron-right",IN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rg=ns("globe",DN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],FN=ns("menu",AN);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xr=ns("user",$N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BN=ns("x",VN),sb="/assets/miniAture-7f4962d6.jpg",re=e=>typeof e=="string",wo=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},sg=e=>e==null?"":""+e,zN=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},UN=/###/g,og=e=>e&&e.indexOf("###")>-1?e.replace(UN,"."):e,ig=e=>!e||re(e),Uo=(e,t,n)=>{const r=re(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(ig(e))return{};const o=og(r[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return ig(e)?{}:{obj:e,k:og(r[s])}},ag=(e,t,n)=>{const{obj:r,k:s}=Uo(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let o=t[t.length-1],i=t.slice(0,t.length-1),l=Uo(e,i,Object);for(;l.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),l=Uo(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=n},HN=(e,t,n,r)=>{const{obj:s,k:o}=Uo(e,t,Object);s[o]=s[o]||[],s[o].push(n)},wl=(e,t)=>{const{obj:n,k:r}=Uo(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},WN=(e,t,n)=>{const r=wl(e,n);return r!==void 0?r:wl(t,n)},ob=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?re(e[r])||e[r]instanceof String||re(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):ob(e[r],t[r],n):e[r]=t[r]);return e},as=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var GN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const KN=e=>re(e)?e.replace(/[&<>"'\/]/g,t=>GN[t]):e;class XN{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const qN=[" ",",","?","!",";"],JN=new XN(20),YN=(e,t,n)=>{t=t||"",n=n||"";const r=qN.filter(i=>t.indexOf(i)<0&&n.indexOf(i)<0);if(r.length===0)return!0;const s=JN.getRegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!s.test(e);if(!o){const i=e.indexOf(n);i>0&&!s.test(e.substring(0,i))&&(o=!0)}return o},df=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let i,l="";for(let c=o;c<r.length;++c)if(c!==o&&(l+=n),l+=r[c],i=s[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<r.length-1)continue;o+=c-o+1;break}s=i}return s},hi=e=>e==null?void 0:e.replace("_","-"),QN={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class jl{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||QN,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(re(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new jl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new jl(this.logger,t)}}var vn=new jl;class uc{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,o])=>{for(let i=0;i<o;i++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let i=0;i<o;i++)s.apply(s,[t,...n])})}}class lg extends uc{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){var u,d;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,i=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):re(r)&&o?l.push(...r.split(o)):l.push(r)));const c=wl(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!i||!re(r)?c:df((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],r,o)}addResource(t,n,r,s,o={silent:!1}){const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(i?r.split(i):r)),t.indexOf(".")>-1&&(l=t.split("."),s=n,n=l[1]),this.addNamespaces(n),ag(this.data,l,s),o.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const o in r)(re(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,o,i={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let c=wl(this.data,l)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?ob(c,r,o):c={...c,...r},ag(this.data,l,c),i.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var ib={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(o=>{var i;t=((i=this.processors[o])==null?void 0:i.process(t,n,r,s))??t}),t}};const ab=Symbol("i18next/PATH_KEY");function ZN(){const e=[],t=Object.create(null);let n;return t.get=(r,s)=>{var o;return(o=n==null?void 0:n.revoke)==null||o.call(n),s===ab?e:(e.push(s),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function ff(e,t){const{[ab]:n}=e(ZN());return n.join((t==null?void 0:t.keySeparator)??".")}const cg={},Au=e=>!re(e)&&typeof e!="boolean"&&typeof e!="number";class Sl extends uc{constructor(t,n={}){super(),zN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);if((s==null?void 0:s.res)===void 0)return!1;const o=Au(s.res);return!(r.returnObjects===!1&&o)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const i=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!YN(t,r,s);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:re(o)?[o]:o};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(s)}return{key:t,namespaces:re(o)?[o]:o}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=ff(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],s),u=c[c.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return p?o?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${l}`:o?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:l;const x=this.resolve(t,s);let m=x==null?void 0:x.res;const h=(x==null?void 0:x.usedKey)||l,g=(x==null?void 0:x.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,j=s.count!==void 0&&!re(s.count),k=Sl.hasDefaultValue(s),N=j?this.pluralResolver.getSuffix(f,s.count,s):"",S=s.ordinal&&j?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",E=j&&!s.ordinal&&s.count===0,O=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${N}`]||s[`defaultValue${S}`]||s.defaultValue;let T=m;b&&!m&&k&&(T=O);const _=Au(T),P=Object.prototype.toString.apply(T);if(b&&T&&_&&y.indexOf(P)<0&&!(re(w)&&Array.isArray(T))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,T,{...s,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return o?(x.res=M,x.usedParams=this.getUsedParamsDetails(s),x):M}if(i){const M=Array.isArray(T),C=M?[]:{},I=M?g:h;for(const R in T)if(Object.prototype.hasOwnProperty.call(T,R)){const U=`${I}${i}${R}`;k&&!m?C[R]=this.translate(U,{...s,defaultValue:Au(O)?O[R]:void 0,joinArrays:!1,ns:c}):C[R]=this.translate(U,{...s,joinArrays:!1,ns:c}),C[R]===U&&(C[R]=T[R])}m=C}}else if(b&&re(w)&&Array.isArray(m))m=m.join(w),m&&(m=this.extendTranslation(m,t,s,r));else{let M=!1,C=!1;!this.isValidLookup(m)&&k&&(M=!0,m=O),this.isValidLookup(m)||(C=!0,m=l);const R=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:m,U=k&&O!==m&&this.options.updateMissing;if(C||M||U){if(this.logger.log(U?"updateKey":"missingKey",f,u,l,U?O:m),i){const V=this.resolve(l,{...s,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let V=0;V<B.length;V++)D.push(B[V]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(s.lng||this.language):D.push(s.lng||this.language);const W=(V,K,ie)=>{var ge;const le=k&&ie!==m?ie:R;this.options.missingKeyHandler?this.options.missingKeyHandler(V,u,K,le,U,s):(ge=this.backendConnector)!=null&&ge.saveMissing&&this.backendConnector.saveMissing(V,u,K,le,U,s),this.emit("missingKey",V,u,K,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?D.forEach(V=>{const K=this.pluralResolver.getSuffixes(V,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(ie=>{W([V],l+ie,s[`defaultValue${ie}`]||O)})}):W(D,l,O))}m=this.extendTranslation(m,t,s,x,r),C&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${u}${d}${l}`),(C||M)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,M?m:void 0,s))}return o?(x.res=m,x.usedParams=this.getUsedParamsDetails(s),x):m}extendTranslation(t,n,r,s,o){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=re(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const x=t.match(this.interpolator.nestingRegexp);f=x&&x.length}let p=r.replace&&!re(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),t=this.interpolator.interpolate(t,p,r.lng||this.language||s.usedLng,r),d){const x=t.match(this.interpolator.nestingRegexp),m=x&&x.length;f<m&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...x)=>(o==null?void 0:o[0])===x[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${n[0]}`),null):this.translate(...x,n),r)),r.interpolation&&this.interpolator.reset()}const i=r.postProcess||this.options.postProcess,l=re(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(t=ib.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,o,i,l;return re(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!re(n.count),x=p&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(re(n.context)||typeof n.context=="number")&&n.context!=="",h=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(g=>{var y,w;this.isValidLookup(r)||(l=g,!cg[`${h[0]}-${g}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(cg[`${h[0]}-${g}`]=!0,this.logger.warn(`key "${s}" for languages "${h.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(b=>{var N;if(this.isValidLookup(r))return;i=b;const j=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,b,g,n);else{let S;p&&(S=this.pluralResolver.getSuffix(b,n.count,n));const E=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&S.indexOf(O)===0&&j.push(d+S.replace(O,this.options.pluralSeparator)),j.push(d+S),x&&j.push(d+E)),m){const T=`${d}${this.options.contextSeparator||"_"}${n.context}`;j.push(T),p&&(n.ordinal&&S.indexOf(O)===0&&j.push(T+S.replace(O,this.options.pluralSeparator)),j.push(T+S),x&&j.push(T+E))}}let k;for(;k=j.pop();)this.isValidLookup(r)||(o=k,r=this.getResource(b,g,k,n))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!re(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class ug{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vn.create("languageUtils")}getScriptPartFromCode(t){if(t=hi(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=hi(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(re(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),re(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],o=i=>{i&&(this.isSupportedCode(i)?s.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return re(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):re(t)&&o(this.formatLanguageCode(t)),r.forEach(i=>{s.indexOf(i)<0&&o(this.formatLanguageCode(i))}),s}}const dg={zero:0,one:1,two:2,few:3,many:4,other:5},fg={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class eE{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=vn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=hi(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fg;if(!t.match(/-|_/))return fg;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,n)}return this.pluralRulesCache[o]=i,i}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>dg[s]-dg[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const hg=(e,t,n,r=".",s=!0)=>{let o=WN(e,t,n);return!o&&s&&re(n)&&(o=df(e,n,r),o===void 0&&(o=df(t,n,r))),o},Fu=e=>e.replace(/\$/g,"$$$$");class pg{constructor(t={}){var n;this.logger=vn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:x,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:w}=t.interpolation;this.escape=n!==void 0?n:KN,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?as(o):i||"{{",this.suffix=l?as(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?as(p):x||as("$t("),this.nestingSuffix=m?as(m):h||as(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,s){var x;let o,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const w=hg(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...n,interpolationkey:m}):w}const h=m.split(this.formatSeparator),g=h.shift().trim(),y=h.join(this.formatSeparator).trim();return this.format(hg(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:g})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((x=s==null?void 0:s.interpolation)==null?void 0:x.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Fu(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Fu(this.escape(m)):Fu(m)}].forEach(m=>{for(l=0;o=m.regex.exec(t);){const h=o[1].trim();if(i=u(h),i===void 0)if(typeof d=="function"){const y=d(t,o,s);i=re(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,h))i="";else if(f){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${t}`),i="";else!re(i)&&!this.useRawValueToEscape&&(i=sg(i));const g=m.safeValue(i);if(t=t.replace(o[0],g),f?(m.regex.lastIndex+=i.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,o,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,i);const x=p.match(/'/g),m=p.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!m||m.length%2!==0)&&(p=p.replace(/'/g,'"'));try{i=JSON.parse(p),u&&(i={...u,...i})}catch(h){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,h),`${c}${d}${p}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];i={...r},i=i.replace&&!re(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(c=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),o=n(l.call(this,s[1].trim(),i),i),o&&s[0]===t&&!re(o))return o;re(o)||(o=sg(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),c.length&&(o=c.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const tE=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},mg=e=>{const t={};return(n,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const i=r+JSON.stringify(o);let l=t[i];return l||(l=e(hi(r),s),t[i]=l),l(n)}},nE=e=>(t,n,r)=>e(hi(n),r)(t);class rE{constructor(t={}){this.logger=vn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?mg:nE;this.formats={number:r((s,o)=>{const i=new Intl.NumberFormat(s,{...o});return l=>i.format(l)}),currency:r((s,o)=>{const i=new Intl.NumberFormat(s,{...o,style:"currency"});return l=>i.format(l)}),datetime:r((s,o)=>{const i=new Intl.DateTimeFormat(s,{...o});return l=>i.format(l)}),relativetime:r((s,o)=>{const i=new Intl.RelativeTimeFormat(s,{...o});return l=>i.format(l,o.range||"day")}),list:r((s,o)=>{const i=new Intl.ListFormat(s,{...o});return l=>i.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=mg(n)}format(t,n,r,s={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=tE(c);if(this.formats[u]){let p=l;try{const x=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},m=x.locale||x.lng||s.locale||s.lng||r;p=this.formats[u](l,m,{...d,...s,...x})}catch(x){this.logger.warn(x)}return p}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const sE=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class oE extends uc{constructor(t,n,r,s={}){var o,i;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=vn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(i=(o=this.backend)==null?void 0:o.init)==null||i.call(o,r,s.backend,s)}queueLoad(t,n,r,s){const o={},i={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const p=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?i[p]===void 0&&(i[p]=!0):(this.state[p]=1,d=!1,i[p]===void 0&&(i[p]=!0),o[p]===void 0&&(o[p]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const s=t.split("|"),o=s[0],i=s[1];n&&this.emit("failedLoading",o,i,n),!n&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{HN(c.loaded,[o],i),sE(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,s=0,o=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:o,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,o*2,i)},o);return}i(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();re(t)&&(t=this.languageUtils.toResolveHierarchy(t)),re(n)&&(n=[n]);const o=this.queueLoad(t,n,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,i),!i&&l&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,l),this.loaded(t,i,l)})}saveMissing(t,n,r,s,o,i={},l=()=>{}){var c,u,d,f,p;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const x={...i,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let h;m.length===5?h=m(t,n,r,s,x):h=m(t,n,r,s),h&&typeof h.then=="function"?h.then(g=>l(null,g)).catch(l):l(null,h)}catch(h){l(h)}else m(t,n,r,s,l,x)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const gg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),re(e[1])&&(t.defaultValue=e[1]),re(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),xg=e=>{var t,n;return re(e.ns)&&(e.ns=[e.ns]),re(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),re(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},fa=()=>{},iE=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Ho extends uc{constructor(t={},n){if(super(),this.options=xg(t),this.services={},this.logger=vn,this.modules={external:[]},iE(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(re(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=gg();this.options={...r,...this.options,...xg(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?vn.init(s(this.modules.logger),this.options):vn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=rE;const d=new ug(this.options);this.store=new lg(this.options.resources,this.options);const f=this.services;f.logger=vn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new eE(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new pg(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oE(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(x,...m)=>{this.emit(x,...m)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Sl(this.services,this.options),this.translator.on("*",(x,...m)=>{this.emit(x,...m)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=fa),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=wo(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=fa){var o,i;let r=n;const s=re(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(o=this.options.preload)==null?void 0:o.forEach)==null||i.call(o,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const s=wo();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=fa),this.services.backendConnector.reload(t,n,o=>{s.resolve(),r(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&ib.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=wo();this.emit("languageChanging",t);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?this.isLanguageChangingTo===t&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=re(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(re(l)?[l]:l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,p=>{o(p,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),r}getFixedT(t,n,r){const s=(o,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([o,i].concat(l)):c={...i},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||s.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(o)?d=o.map(f=>(typeof f=="function"&&(f=ff(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof o=="function"&&(o=ff(o,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${o}`:o),this.t(d,c)};return re(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,t)&&(!s||i(o,t)))}loadNamespaces(t,n){const r=wo();return this.options.ns?(re(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=wo();re(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(i=>s.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=s.concat(o),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}dir(t){var s,o;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new ug(gg());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new Ho(t,n);return r.createInstance=Ho.createInstance,r}cloneInstance(t={},n=fa){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new Ho(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});o.store=new lg(l,s),o.services.resourceStore=o.store}return t.interpolation&&(o.services.interpolator=new pg(s)),o.translator=new Sl(o.services,s),o.translator.on("*",(l,...c)=>{o.emit(l,...c)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=Ho.createInstance();dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const aE=(e,t,n,r)=>{var o,i,l,c;const s=[n,{code:t,...r||{}}];if((i=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&i.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);qr(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},yg={},lb=(e,t,n,r)=>{qr(n)&&yg[n]||(qr(n)&&(yg[n]=new Date),aE(e,t,n,r))},cb=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},hf=(e,t,n)=>{e.loadNamespaces(t,cb(e,n))},vg=(e,t,n,r)=>{if(qr(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return hf(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,cb(e,r))},lE=(e,t,n={})=>!t.languages||!t.languages.length?(lb(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),qr=e=>typeof e=="string",cE=e=>typeof e=="object"&&e!==null,uE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,dE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fE=e=>dE[e],hE=e=>e.replace(uE,fE);let pf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hE,transDefaultProps:void 0};const pE=(e={})=>{pf={...pf,...e}},mE=()=>pf;let ub;const gE=e=>{ub=e},xE=()=>ub,yE={type:"3rdParty",init(e){pE(e.options.react),gE(e)}},vE=v.createContext();class bE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var db={exports:{}},fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=v;function wE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jE=typeof Object.is=="function"?Object.is:wE,SE=zs.useState,kE=zs.useEffect,NE=zs.useLayoutEffect,EE=zs.useDebugValue;function CE(e,t){var n=t(),r=SE({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return NE(function(){s.value=n,s.getSnapshot=t,$u(s)&&o({inst:s})},[e,n,t]),kE(function(){return $u(s)&&o({inst:s}),e(function(){$u(s)&&o({inst:s})})},[e]),EE(n),n}function $u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jE(e,n)}catch{return!0}}function TE(e,t){return t()}var OE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TE:CE;fb.useSyncExternalStore=zs.useSyncExternalStore!==void 0?zs.useSyncExternalStore:OE;db.exports=fb;var PE=db.exports;const _E=(e,t)=>qr(t)?t:cE(t)&&qr(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,RE={t:_E,ready:!1},LE=()=>()=>{},hb=(e,t={})=>{var O,T,_;const{i18n:n}=t,{i18n:r,defaultNS:s}=v.useContext(vE)||{},o=n||r||xE();o&&!o.reportNamespaces&&(o.reportNamespaces=new bE),o||lb(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=v.useMemo(()=>{var P;return{...mE(),...(P=o==null?void 0:o.options)==null?void 0:P.react,...t}},[o,t]),{useSuspense:l,keyPrefix:c}=i,u=e||s||((O=o==null?void 0:o.options)==null?void 0:O.defaultNS),d=qr(u)?[u]:u||["translation"],f=v.useMemo(()=>d,d);(_=(T=o==null?void 0:o.reportNamespaces)==null?void 0:T.addUsedNamespaces)==null||_.call(T,f);const p=v.useRef(0),x=v.useCallback(P=>{if(!o)return LE;const{bindI18n:M,bindI18nStore:C}=i,I=()=>{p.current+=1,P()};return M&&o.on(M,I),C&&o.store.on(C,I),()=>{M&&M.split(" ").forEach(R=>o.off(R,I)),C&&C.split(" ").forEach(R=>o.store.off(R,I))}},[o,i]),m=v.useRef(),h=v.useCallback(()=>{if(!o)return RE;const P=!!(o.isInitialized||o.initializedStoreOnce)&&f.every(D=>lE(D,o,i)),M=t.lng||o.language,C=p.current,I=m.current;if(I&&I.ready===P&&I.lng===M&&I.keyPrefix===c&&I.revision===C)return I;const U={t:o.getFixedT(M,i.nsMode==="fallback"?f:f[0],c),ready:P,lng:M,keyPrefix:c,revision:C};return m.current=U,U},[o,f,c,i,t.lng]),[g,y]=v.useState(0),{t:w,ready:b}=PE.useSyncExternalStore(x,h,h);v.useEffect(()=>{if(o&&!b&&!l){const P=()=>y(M=>M+1);t.lng?vg(o,t.lng,f,P):hf(o,f,P)}},[o,t.lng,f,b,l,g]);const j=o||{},k=v.useRef(null),N=v.useRef(),S=P=>{const M=Object.getOwnPropertyDescriptors(P);M.__original&&delete M.__original;const C=Object.create(Object.getPrototypeOf(P),M);if(!Object.prototype.hasOwnProperty.call(C,"__original"))try{Object.defineProperty(C,"__original",{value:P,writable:!1,enumerable:!1,configurable:!1})}catch{}return C},E=v.useMemo(()=>{const P=j,M=P==null?void 0:P.language;let C=P;P&&(k.current&&k.current.__original===P?N.current!==M?(C=S(P),k.current=C,N.current=M):C=k.current:(C=S(P),k.current=C,N.current=M));const I=[w,C,b];return I.t=w,I.i18n=C,I.ready=b,I},[w,j,b,j.resolvedLanguage,j.language,j.languages]);if(o&&l&&!b)throw new Promise(P=>{const M=()=>P();t.lng?vg(o,t.lng,f,M):hf(o,f,M)});return E};function IE(){const e=_t(),{t,i18n:n}=hb(),[r,s]=v.useState(!1),[o,i]=v.useState("home"),[l,c]=v.useState(n.language||"ru");v.useEffect(()=>{n.changeLanguage&&(n.changeLanguage(l),localStorage.setItem("appLang",l))},[l,n]),v.useEffect(()=>{const f=()=>{const p=["home","rooms","about","contacts"],x=window.scrollY+window.innerHeight/3;for(let m=p.length-1;m>=0;m--){const h=document.getElementById(p[m]);if(h&&h.offsetTop<=x){i(p[m]);break}}};return window.addEventListener("scroll",f),f(),()=>window.removeEventListener("scroll",f)},[]);const u=f=>{s(!1);const p=document.getElementById(f);p?(p.scrollIntoView({behavior:"smooth"}),setTimeout(()=>i(f),600)):i(f),e.pathname!=="/"&&(window.location.href=`/#${f}`)},d=[{label:t("header.home"),id:"home"},{label:t("header.rooms"),id:"rooms"},{label:t("header.about"),id:"about"},{label:t("header.contacts"),id:"contacts"}];return a.jsxs("header",{className:"w-full fixed top-0 left-0 z-50",children:[a.jsx("div",{className:"bg-yellow-400 text-black text-sm font-semibold text-center py-2 shadow-md",children:t("header.testMode")}),a.jsx("div",{className:"bg-green-950/80 relative z-50 backdrop-blur-md border-b border-green-800 shadow-lg",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 py-3",children:[a.jsxs("div",{onClick:()=>{u("home"),s(!1)},className:"flex items-center hover:scale-105 gap-3 cursor-pointer hover:opacity-90 transition",children:[a.jsx("img",{className:"w-12 h-12 rounded-full shadow-xl object-cover",src:sb,alt:"Miniature Hotel"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-xl font-bold text-gray-300 leading-tight",children:"Miniature"}),a.jsx("span",{className:"text-yellow-500 font-semibold text-xl leading-tight",children:"Hotel"})]})]}),a.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:d.map(f=>a.jsxs("button",{onClick:()=>u(f.id),className:`relative font-medium px-1 py-2 transition-all duration-300 ${o===f.id?"text-yellow-400 font-semibold":"text-gray-300 hover:text-yellow-400"}`,children:[f.label,a.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-yellow-400 transition-opacity duration-500 ${o===f.id?"opacity-100":"opacity-0"}`})]},f.id))}),a.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full border border-yellow-400/40 shadow-sm hover:border-yellow-400 transition-all cursor-pointer",children:[a.jsx(rg,{className:"w-4 h-4 text-yellow-400"}),a.jsxs("select",{value:l,onChange:f=>c(f.target.value),className:"bg-transparent text-yellow-300 font-medium focus:outline-none cursor-pointer",children:[a.jsx("option",{value:"ru",children:"RU"}),a.jsx("option",{value:"en",children:"EN"})]})]})}),a.jsx("button",{onClick:()=>{const f=document.getElementById("booking");f&&f.scrollIntoView({behavior:"smooth",block:"start"}),s(!1)},className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold px-8 py-3 rounded-full shadow-lg hover:shadow-yellow-300/50 hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 transform hover:-translate-y-0.5",children:t("header.book")})]}),a.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-gray-100 hover:bg-gray-200 relative z-50 transition",onClick:()=>s(f=>!f),children:r?a.jsx(BN,{size:24,className:"text-gray-700"}):a.jsx(FN,{size:24,className:"text-gray-700"})})]})}),a.jsx("div",{className:`lg:hidden fixed inset-0 z-40 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:a.jsxs("div",{className:"absolute w-full top-32 min-[417px]:top-[106px] px-6 bg-green-950/90 py-4 backdrop-blur-md",children:[a.jsx("nav",{className:"flex flex-col space-y-2",children:d.map(f=>a.jsx("button",{onClick:()=>u(f.id),className:`text-lg font-medium py-4 px-4 rounded-xl text-left transition-all duration-200 ${o===f.id?"bg-yellow-50 text-yellow-600 border-l-4 border-yellow-600":"text-gray-100 hover:text-yellow-400"}`,children:f.label},f.id))}),a.jsxs("div",{className:"mt-6 flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full border border-yellow-400/40 shadow-sm",children:[a.jsx(rg,{className:"w-4 h-4 text-yellow-400"}),a.jsxs("select",{value:l,onChange:f=>c(f.target.value),className:"bg-transparent text-yellow-300 font-medium focus:outline-none cursor-pointer w-full",children:[a.jsx("option",{value:"ru",children:"RU"}),a.jsx("option",{value:"en",children:"EN"})]})]})]})})]})}function ME(){return a.jsxs("div",{children:[a.jsx(IE,{}),a.jsx("main",{className:"pt-10 bg-[#1d2a25]",children:a.jsx(zk,{})})]})}const DE=({children:e})=>localStorage.getItem("access_token")?e:a.jsx(Bk,{to:"/admin/login",replace:!0});function pb(e,t){return function(){return e.apply(t,arguments)}}const{toString:AE}=Object.prototype,{getPrototypeOf:Xh}=Object,{iterator:dc,toStringTag:mb}=Symbol,fc=(e=>t=>{const n=AE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=e=>(e=e.toLowerCase(),t=>fc(t)===e),hc=e=>t=>typeof t===e,{isArray:eo}=Array,Us=hc("undefined");function Pi(e){return e!==null&&!Us(e)&&e.constructor!==null&&!Us(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gb=ln("ArrayBuffer");function FE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gb(e.buffer),t}const $E=hc("string"),yt=hc("function"),xb=hc("number"),_i=e=>e!==null&&typeof e=="object",VE=e=>e===!0||e===!1,Va=e=>{if(fc(e)!=="object")return!1;const t=Xh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mb in e)&&!(dc in e)},BE=e=>{if(!_i(e)||Pi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},zE=ln("Date"),UE=ln("File"),HE=ln("Blob"),WE=ln("FileList"),GE=e=>_i(e)&&yt(e.pipe),KE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yt(e.append)&&((t=fc(e))==="formdata"||t==="object"&&yt(e.toString)&&e.toString()==="[object FormData]"))},XE=ln("URLSearchParams"),[qE,JE,YE,QE]=["ReadableStream","Request","Response","Headers"].map(ln),ZE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ri(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),eo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Pi(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function yb(e,t){if(Pi(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Fr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis)(),vb=e=>!Us(e)&&e!==Fr;function mf(){const{caseless:e,skipUndefined:t}=vb(this)&&this||{},n={},r=(s,o)=>{const i=e&&yb(n,o)||o;Va(n[i])&&Va(s)?n[i]=mf(n[i],s):Va(s)?n[i]=mf({},s):eo(s)?n[i]=s.slice():(!t||!Us(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ri(arguments[s],r);return n}const eC=(e,t,n,{allOwnKeys:r}={})=>(Ri(t,(s,o)=>{n&&yt(s)?e[o]=pb(s,n):e[o]=s},{allOwnKeys:r}),e),tC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nC=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rC=(e,t,n,r)=>{let s,o,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Xh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},sC=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},oC=e=>{if(!e)return null;if(eo(e))return e;let t=e.length;if(!xb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},iC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xh(Uint8Array)),aC=(e,t)=>{const r=(e&&e[dc]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},lC=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},cC=ln("HTMLFormElement"),uC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),bg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dC=ln("RegExp"),bb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ri(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},fC=e=>{bb(e,(t,n)=>{if(yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(yt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hC=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return eo(e)?r(e):r(String(e).split(t)),n},pC=()=>{},mC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gC(e){return!!(e&&yt(e.append)&&e[mb]==="FormData"&&e[dc])}const xC=e=>{const t=new Array(10),n=(r,s)=>{if(_i(r)){if(t.indexOf(r)>=0)return;if(Pi(r))return r;if(!("toJSON"in r)){t[s]=r;const o=eo(r)?[]:{};return Ri(r,(i,l)=>{const c=n(i,s+1);!Us(c)&&(o[l]=c)}),t[s]=void 0,o}}return r};return n(e,0)},yC=ln("AsyncFunction"),vC=e=>e&&(_i(e)||yt(e))&&yt(e.then)&&yt(e.catch),wb=((e,t)=>e?setImmediate:t?((n,r)=>(Fr.addEventListener("message",({source:s,data:o})=>{s===Fr&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Fr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yt(Fr.postMessage)),bC=typeof queueMicrotask<"u"?queueMicrotask.bind(Fr):typeof process<"u"&&process.nextTick||wb,wC=e=>e!=null&&yt(e[dc]),$={isArray:eo,isArrayBuffer:gb,isBuffer:Pi,isFormData:KE,isArrayBufferView:FE,isString:$E,isNumber:xb,isBoolean:VE,isObject:_i,isPlainObject:Va,isEmptyObject:BE,isReadableStream:qE,isRequest:JE,isResponse:YE,isHeaders:QE,isUndefined:Us,isDate:zE,isFile:UE,isBlob:HE,isRegExp:dC,isFunction:yt,isStream:GE,isURLSearchParams:XE,isTypedArray:iC,isFileList:WE,forEach:Ri,merge:mf,extend:eC,trim:ZE,stripBOM:tC,inherits:nC,toFlatObject:rC,kindOf:fc,kindOfTest:ln,endsWith:sC,toArray:oC,forEachEntry:aC,matchAll:lC,isHTMLForm:cC,hasOwnProperty:bg,hasOwnProp:bg,reduceDescriptors:bb,freezeMethods:fC,toObjectSet:hC,toCamelCase:uC,noop:pC,toFiniteNumber:mC,findKey:yb,globalThis:Fr,isContextDefined:vb,isSpecCompliantForm:gC,toJSONObject:xC,isAsyncFn:yC,isThenable:vC,setImmediate:wb,asap:bC,isIterable:wC};function oe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const jb=oe.prototype,Sb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Sb[e]={value:e}});Object.defineProperties(oe,Sb);Object.defineProperty(jb,"isAxiosError",{value:!0});oe.from=(e,t,n,r,s,o)=>{const i=Object.create(jb);$.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return oe.call(i,l,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const jC=null;function gf(e){return $.isPlainObject(e)||$.isArray(e)}function kb(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function wg(e,t,n){return e?e.concat(t).map(function(s,o){return s=kb(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function SC(e){return $.isArray(e)&&!e.some(gf)}const kC=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function pc(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,g){return!$.isUndefined(g[h])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if($.isDate(m))return m.toISOString();if($.isBoolean(m))return m.toString();if(!c&&$.isBlob(m))throw new oe("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(m)||$.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,h,g){let y=m;if(m&&!g&&typeof m=="object"){if($.endsWith(h,"{}"))h=r?h:h.slice(0,-2),m=JSON.stringify(m);else if($.isArray(m)&&SC(m)||($.isFileList(m)||$.endsWith(h,"[]"))&&(y=$.toArray(m)))return h=kb(h),y.forEach(function(b,j){!($.isUndefined(b)||b===null)&&t.append(i===!0?wg([h],j,o):i===null?h:h+"[]",u(b))}),!1}return gf(m)?!0:(t.append(wg(g,h,o),u(m)),!1)}const f=[],p=Object.assign(kC,{defaultVisitor:d,convertValue:u,isVisitable:gf});function x(m,h){if(!$.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(m),$.forEach(m,function(y,w){(!($.isUndefined(y)||y===null)&&s.call(t,y,$.isString(w)?w.trim():w,h,p))===!0&&x(y,h?h.concat(w):[w])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return x(e),t}function jg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qh(e,t){this._pairs=[],e&&pc(e,this,t)}const Nb=qh.prototype;Nb.append=function(t,n){this._pairs.push([t,n])};Nb.toString=function(t){const n=t?function(r){return t.call(this,r,jg)}:jg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Eb(e,t,n){if(!t)return e;const r=n&&n.encode||NC;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=$.isURLSearchParams(t)?t.toString():new qh(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class EC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Sg=EC,Cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CC=typeof URLSearchParams<"u"?URLSearchParams:qh,TC=typeof FormData<"u"?FormData:null,OC=typeof Blob<"u"?Blob:null,PC={isBrowser:!0,classes:{URLSearchParams:CC,FormData:TC,Blob:OC},protocols:["http","https","file","blob","url","data"]},Jh=typeof window<"u"&&typeof document<"u",xf=typeof navigator=="object"&&navigator||void 0,_C=Jh&&(!xf||["ReactNative","NativeScript","NS"].indexOf(xf.product)<0),RC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),LC=Jh&&window.location.href||"http://localhost",IC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jh,hasStandardBrowserEnv:_C,hasStandardBrowserWebWorkerEnv:RC,navigator:xf,origin:LC},Symbol.toStringTag,{value:"Module"})),Ze={...IC,...PC};function MC(e,t){return pc(e,new Ze.classes.URLSearchParams,{visitor:function(n,r,s,o){return Ze.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function DC(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AC(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Tb(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&$.isArray(s)?s.length:i,c?($.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!$.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&$.isArray(s[i])&&(s[i]=AC(s[i])),!l)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(r,s)=>{t(DC(r),s,n,0)}),n}return null}function FC(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Yh={transitional:Cb,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=$.isObject(t);if(o&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return s?JSON.stringify(Tb(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MC(t,this.formSerializer).toString();if((l=$.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return pc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),FC(t)):t}],transformResponse:[function(t){const n=this.transitional||Yh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?oe.from(l,oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{Yh.headers[e]={}});const Qh=Yh,$C=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VC=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&$C[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},kg=Symbol("internals");function jo(e){return e&&String(e).trim().toLowerCase()}function Ba(e){return e===!1||e==null?e:$.isArray(e)?e.map(Ba):String(e)}function BC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vu(e,t,n,r,s){if($.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!$.isString(t)){if($.isString(r))return t.indexOf(r)!==-1;if($.isRegExp(r))return r.test(t)}}function UC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function HC(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class mc{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,c,u){const d=jo(c);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ba(l))}const i=(l,c)=>$.forEach(l,(u,d)=>o(u,d,c));if($.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if($.isString(t)&&(t=t.trim())&&!zC(t))i(VC(t),n);else if($.isObject(t)&&$.isIterable(t)){let l={},c,u;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?$.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=jo(t),t){const r=$.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return BC(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jo(t),t){const r=$.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Vu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=jo(i),i){const l=$.findKey(r,i);l&&(!n||Vu(r,r[l],l,n))&&(delete r[l],s=!0)}}return $.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Vu(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return $.forEach(this,(s,o)=>{const i=$.findKey(r,o);if(i){n[i]=Ba(s),delete n[o];return}const l=t?UC(o):String(o).trim();l!==o&&delete n[o],n[l]=Ba(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[kg]=this[kg]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=jo(i);r[l]||(HC(s,i),r[l]=!0)}return $.isArray(t)?t.forEach(o):o(t),this}}mc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(mc.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});$.freezeMethods(mc);const rn=mc;function Bu(e,t){const n=this||Qh,r=t||n,s=rn.from(r.headers);let o=r.data;return $.forEach(e,function(l){o=l.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Ob(e){return!!(e&&e.__CANCEL__)}function to(e,t,n){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(to,oe,{__CANCEL__:!0});function Pb(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new oe("Request failed with status code "+n.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function WC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function GC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const x=d&&u-d;return x?Math.round(p*1e3/x):void 0}}function KC(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const kl=(e,t,n=3)=>{let r=0;const s=GC(50,250);return KC(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Ng=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Eg=e=>(...t)=>$.asap(()=>e(...t)),XC=Ze.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ze.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,qC=Ze.hasStandardBrowserEnv?{write(e,t,n,r,s,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];$.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&l.push(`path=${r}`),$.isString(s)&&l.push(`domain=${s}`),o===!0&&l.push("secure"),$.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function JC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _b(e,t,n){let r=!JC(t);return e&&(r||n==!1)?YC(e,t):t}const Cg=e=>e instanceof rn?{...e}:e;function Jr(e,t){t=t||{};const n={};function r(u,d,f,p){return $.isPlainObject(u)&&$.isPlainObject(d)?$.merge.call({caseless:p},u,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function s(u,d,f,p){if($.isUndefined(d)){if(!$.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function o(u,d){if(!$.isUndefined(d))return r(void 0,d)}function i(u,d){if($.isUndefined(d)){if(!$.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(Cg(u),Cg(d),f,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,p=f(e[d],t[d],d);$.isUndefined(p)&&f!==l||(n[d]=p)}),n}const Rb=e=>{const t=Jr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=rn.from(i),t.url=Eb(_b(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if($.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ze.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(t)),r||r!==!1&&XC(t.url))){const c=s&&o&&qC.read(o);c&&i.set(s,c)}return t},QC=typeof XMLHttpRequest<"u",ZC=QC&&function(e){return new Promise(function(n,r){const s=Rb(e);let o=s.data;const i=rn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,x,m;function h(){x&&x(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function y(){if(!g)return;const b=rn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};Pb(function(S){n(S),h()},function(S){r(S),h()},k),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(r(new oe("Request aborted",oe.ECONNABORTED,e,g)),g=null)},g.onerror=function(j){const k=j&&j.message?j.message:"Network Error",N=new oe(k,oe.ERR_NETWORK,e,g);N.event=j||null,r(N),g=null},g.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Cb;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new oe(j,k.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&$.forEach(i.toJSON(),function(j,k){g.setRequestHeader(k,j)}),$.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),l&&l!=="json"&&(g.responseType=s.responseType),u&&([p,m]=kl(u,!0),g.addEventListener("progress",p)),c&&g.upload&&([f,x]=kl(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(d=b=>{g&&(r(!b||b.type?new to(null,e,g):b),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=WC(s.url);if(w&&Ze.protocols.indexOf(w)===-1){r(new oe("Unsupported protocol "+w+":",oe.ERR_BAD_REQUEST,e));return}g.send(o||null)})},e4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof oe?d:new to(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>$.asap(l),c}},t4=e4,n4=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},r4=async function*(e,t){for await(const n of s4(e))yield*n4(n,t)},s4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Tg=(e,t,n,r)=>{const s=r4(e,t);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=o+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Og=64*1024,{isFunction:ha}=$,o4=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:Pg,TextEncoder:_g}=$.global,Rg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},i4=e=>{e=$.merge.call({skipUndefined:!0},o4,e);const{fetch:t,Request:n,Response:r}=e,s=t?ha(t):typeof fetch=="function",o=ha(n),i=ha(r);if(!s)return!1;const l=s&&ha(Pg),c=s&&(typeof _g=="function"?(m=>h=>m.encode(h))(new _g):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=o&&l&&Rg(()=>{let m=!1;const h=new n(Ze.origin,{body:new Pg,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!h}),d=i&&l&&Rg(()=>$.isReadableStream(new r("").body)),f={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(h,g)=>{let y=h&&h[m];if(y)return y.call(h);throw new oe(`Response type '${m}' is not supported`,oe.ERR_NOT_SUPPORT,g)})});const p=async m=>{if(m==null)return 0;if($.isBlob(m))return m.size;if($.isSpecCompliantForm(m))return(await new n(Ze.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if($.isArrayBufferView(m)||$.isArrayBuffer(m))return m.byteLength;if($.isURLSearchParams(m)&&(m=m+""),$.isString(m))return(await c(m)).byteLength},x=async(m,h)=>{const g=$.toFiniteNumber(m.getContentLength());return g??p(h)};return async m=>{let{url:h,method:g,data:y,signal:w,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:N,responseType:S,headers:E,withCredentials:O="same-origin",fetchOptions:T}=Rb(m),_=t||fetch;S=S?(S+"").toLowerCase():"text";let P=t4([w,b&&b.toAbortSignal()],j),M=null;const C=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let I;try{if(N&&u&&g!=="get"&&g!=="head"&&(I=await x(E,y))!==0){let V=new n(h,{method:"POST",body:y,duplex:"half"}),K;if($.isFormData(y)&&(K=V.headers.get("content-type"))&&E.setContentType(K),V.body){const[ie,le]=Ng(I,kl(Eg(N)));y=Tg(V.body,Og,ie,le)}}$.isString(O)||(O=O?"include":"omit");const R=o&&"credentials"in n.prototype,U={...T,signal:P,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:R?O:void 0};M=o&&new n(h,U);let D=await(o?_(M,T):_(h,U));const B=d&&(S==="stream"||S==="response");if(d&&(k||B&&C)){const V={};["status","statusText","headers"].forEach(ge=>{V[ge]=D[ge]});const K=$.toFiniteNumber(D.headers.get("content-length")),[ie,le]=k&&Ng(K,kl(Eg(k),!0))||[];D=new r(Tg(D.body,Og,ie,()=>{le&&le(),C&&C()}),V)}S=S||"text";let W=await f[$.findKey(f,S)||"text"](D,m);return!B&&C&&C(),await new Promise((V,K)=>{Pb(V,K,{data:W,headers:rn.from(D.headers),status:D.status,statusText:D.statusText,config:m,request:M})})}catch(R){throw C&&C(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,m,M),{cause:R.cause||R}):oe.from(R,R&&R.code,m,M)}}},a4=new Map,Lb=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,l=i,c,u,d=a4;for(;l--;)c=o[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:i4(t)),d=u;return u};Lb();const Zh={http:jC,xhr:ZC,fetch:{get:Lb}};$.forEach(Zh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lg=e=>`- ${e}`,l4=e=>$.isFunction(e)||e===null||e===!1;function c4(e,t){e=$.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!l4(r)&&(s=Zh[(l=String(r)).toLowerCase()],s===void 0))throw new oe(`Unknown adapter '${l}'`);if(s&&($.isFunction(s)||(s=s.get(t))))break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(Lg).join(`
`):" "+Lg(i[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Ib={getAdapter:c4,adapters:Zh};function zu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new to(null,e)}function Ig(e){return zu(e),e.headers=rn.from(e.headers),e.data=Bu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ib.getAdapter(e.adapter||Qh.adapter,e)(e).then(function(r){return zu(e),r.data=Bu.call(e,e.transformResponse,r),r.headers=rn.from(r.headers),r},function(r){return Ob(r)||(zu(e),r&&r.response&&(r.response.data=Bu.call(e,e.transformResponse,r.response),r.response.headers=rn.from(r.response.headers))),Promise.reject(r)})}const Mb="1.13.2",gc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Mg={};gc.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Mb+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new oe(s(i," has been removed"+(n?" in "+n:"")),oe.ERR_DEPRECATED);return n&&!Mg[i]&&(Mg[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};gc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function u4(e,t,n){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new oe("option "+o+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oe("Unknown option "+o,oe.ERR_BAD_OPTION)}}const za={assertOptions:u4,validators:gc},pn=za.validators;class Nl{constructor(t){this.defaults=t||{},this.interceptors={request:new Sg,response:new Sg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Jr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&za.assertOptions(r,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:za.assertOptions(s,{encode:pn.function,serialize:pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),za.assertOptions(n,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&$.merge(o.common,o[n.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=rn.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(c=c&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let d,f=0,p;if(!c){const m=[Ig.bind(this),void 0];for(m.unshift(...l),m.push(...u),p=m.length,d=Promise.resolve(n);f<p;)d=d.then(m[f++],m[f++]);return d}p=l.length;let x=n;for(;f<p;){const m=l[f++],h=l[f++];try{x=m(x)}catch(g){h.call(this,g);break}}try{d=Ig.call(this,x)}catch(m){return Promise.reject(m)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Jr(this.defaults,t);const n=_b(t.baseURL,t.url,t.allowAbsoluteUrls);return Eb(n,t.params,t.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(t){Nl.prototype[t]=function(n,r){return this.request(Jr(r||{},{method:t,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,l){return this.request(Jr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Nl.prototype[t]=n(),Nl.prototype[t+"Form"]=n(!0)});const Ua=Nl;class ep{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new to(o,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ep(function(s){t=s}),cancel:t}}}const d4=ep;function f4(e){return function(n){return e.apply(null,n)}}function h4(e){return $.isObject(e)&&e.isAxiosError===!0}const yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yf).forEach(([e,t])=>{yf[t]=e});const p4=yf;function Db(e){const t=new Ua(e),n=pb(Ua.prototype.request,t);return $.extend(n,Ua.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Db(Jr(e,s))},n}const De=Db(Qh);De.Axios=Ua;De.CanceledError=to;De.CancelToken=d4;De.isCancel=Ob;De.VERSION=Mb;De.toFormData=pc;De.AxiosError=oe;De.Cancel=De.CanceledError;De.all=function(t){return Promise.all(t)};De.spread=f4;De.isAxiosError=h4;De.mergeConfig=Jr;De.AxiosHeaders=rn;De.formToJSON=e=>Tb($.isHTMLForm(e)?new FormData(e):e);De.getAdapter=Ib.getAdapter;De.HttpStatusCode=p4;De.default=De;const Uu=De;let je;je="";function H(e,t,n,r){let s=localStorage.getItem("access_token");return Uu({url:je+e,method:t,data:n,params:r,headers:{Authorization:s},params:r}).then(o=>{if(o.data)return{error:!1,data:o.data}}).catch(o=>o.response.status===401?localStorage.getItem("refresh_token")===null?{error:!0,data:o.response.status}:Uu({url:je+`/api/v1/auth/refresh?refreshToken=${localStorage.getItem("refresh_token")}`,method:"POST"}).then(i=>(localStorage.setItem("access_token",i.data),Uu({url:je+e,method:t,data:n,headers:{Authorization:localStorage.getItem("access_token")}}).then(l=>({error:!1,data:l.data})).catch(l=>({error:!0,data:l.response.data})))).catch(i=>({error:!0,data:i.response.data})):{error:!0,data:o.response.data})}function xc({onLogout:e}){const t=Ve(),n=_t(),r=s=>`
      block w-full text-left px-4 py-2 rounded-lg font-medium transition-colors
      ${n.pathname===s?"bg-blue-600 text-white shadow-md":"text-gray-200 hover:bg-gray-700 hover:text-white"}
    `;return a.jsxs("aside",{className:"w-64 bg-gray-800 text-white p-6 flex flex-col justify-between min-h-screen",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Admin Panel"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>t("/admin/dashboard"),className:r("/admin/dashboard"),children:" Bosh sahifa"}),a.jsx("button",{onClick:()=>t("/admin/bookings"),className:r("/admin/bookings"),children:" Bookings"}),a.jsx("button",{onClick:()=>t("/admin/users"),className:r("/admin/users"),children:" Users"}),a.jsx("button",{onClick:()=>t("/admin/talk"),className:r("/admin/talk"),children:" Chats"})]})]}),a.jsx("button",{onClick:e,className:"mt-8 bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg text-white font-semibold transition-all duration-200",children:" "})]})}function Ab(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ab(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zr(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ab(e))&&(r&&(r+=" "),r+=t);return r}function m4(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}m4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Li=e=>typeof e=="number"&&!isNaN(e),Yr=e=>typeof e=="string",Hn=e=>typeof e=="function",g4=e=>Yr(e)||Li(e),vf=e=>Yr(e)||Hn(e)?e:null,x4=(e,t)=>e===!1||Li(e)&&e>0?e:t,bf=e=>v.isValidElement(e)||Yr(e)||Hn(e)||Li(e);function y4(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function v4({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:i,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let p=n?`${e}--${i}`:e,x=n?`${t}--${i}`:t,m=v.useRef(0);return v.useLayoutEffect(()=>{let h=u.current,g=p.split(" "),y=w=>{w.target===u.current&&(f(),h.removeEventListener("animationend",y),h.removeEventListener("animationcancel",y),m.current===0&&w.type!=="animationcancel"&&h.classList.remove(...g))};h.classList.add(...g),h.addEventListener("animationend",y),h.addEventListener("animationcancel",y)},[]),v.useEffect(()=>{let h=u.current,g=()=>{h.removeEventListener("animationend",g),r?y4(h,c,s):c()};d||(l?g():(m.current=1,h.className+=` ${x}`,h.addEventListener("animationend",g)))},[d]),J.createElement(J.Fragment,null,o)}}function Dg(e,t){return{content:Fb(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Fb(e,t,n=!1){return v.isValidElement(e)&&!Yr(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Hn(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function b4({closeToast:e,theme:t,ariaLabel:n="close"}){return J.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},J.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},J.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function w4({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:o,controlledProgress:i,progress:l,rtl:c,isIn:u,theme:d}){let f=s||i&&l===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};i&&(p.transform=`scaleX(${l})`);let x=zr("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),m=Hn(o)?o({rtl:c,type:r,defaultClassName:x}):zr(x,o),h={[i&&l>=1?"onTransitionEnd":"onAnimationEnd"]:i&&l<1?null:()=>{u&&n()}};return J.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},J.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),J.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:p,...h}))}var j4=1,$b=()=>`${j4++}`;function S4(e,t,n){let r=1,s=0,o=[],i=[],l=t,c=new Map,u=new Set,d=w=>(u.add(w),()=>u.delete(w)),f=()=>{i=Array.from(c.values()),u.forEach(w=>w())},p=({containerId:w,toastId:b,updateId:j})=>{let k=w?w!==e:e!==1,N=c.has(b)&&j==null;return k||N},x=(w,b)=>{c.forEach(j=>{var k;(b==null||b===j.props.toastId)&&((k=j.toggle)==null||k.call(j,w))})},m=w=>{var b,j;(j=(b=w.props)==null?void 0:b.onClose)==null||j.call(b,w.removalReason),w.isActive=!1},h=w=>{if(w==null)c.forEach(m);else{let b=c.get(w);b&&m(b)}f()},g=()=>{s-=o.length,o=[]},y=w=>{var b,j;let{toastId:k,updateId:N}=w.props,S=N==null;w.staleId&&c.delete(w.staleId),w.isActive=!0,c.set(k,w),f(),n(Dg(w,S?"added":"updated")),S&&((j=(b=w.props).onOpen)==null||j.call(b))};return{id:e,props:l,observe:d,toggle:x,removeToast:h,toasts:c,clearQueue:g,buildToast:(w,b)=>{if(p(b))return;let{toastId:j,updateId:k,data:N,staleId:S,delay:E}=b,O=k==null;O&&s++;let T={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([P,M])=>M!=null)),toastId:j,updateId:k,data:N,isIn:!1,className:vf(b.className||l.toastClassName),progressClassName:vf(b.progressClassName||l.progressClassName),autoClose:b.isLoading?!1:x4(b.autoClose,l.autoClose),closeToast(P){c.get(j).removalReason=P,h(j)},deleteToast(){let P=c.get(j);if(P!=null){if(n(Dg(P,"removed")),c.delete(j),s--,s<0&&(s=0),o.length>0){y(o.shift());return}f()}}};T.closeButton=l.closeButton,b.closeButton===!1||bf(b.closeButton)?T.closeButton=b.closeButton:b.closeButton===!0&&(T.closeButton=bf(l.closeButton)?l.closeButton:!0);let _={content:w,props:T,staleId:S};l.limit&&l.limit>0&&s>l.limit&&O?o.push(_):Li(E)?setTimeout(()=>{y(_)},E):y(_)},setProps(w){l=w},setToggle:(w,b)=>{let j=c.get(w);j&&(j.toggle=b)},isToastActive:w=>{var b;return(b=c.get(w))==null?void 0:b.isActive},getSnapshot:()=>i}}var at=new Map,pi=[],wf=new Set,k4=e=>wf.forEach(t=>t(e)),Vb=()=>at.size>0;function N4(){pi.forEach(e=>zb(e.content,e.options)),pi=[]}var E4=(e,{containerId:t})=>{var n;return(n=at.get(t||1))==null?void 0:n.toasts.get(e)};function Bb(e,t){var n;if(t)return!!((n=at.get(t))!=null&&n.isToastActive(e));let r=!1;return at.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function C4(e){if(!Vb()){pi=pi.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||g4(e))at.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=at.get(e.containerId);t?t.removeToast(e.id):at.forEach(n=>{n.removeToast(e.id)})}}var T4=(e={})=>{at.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function zb(e,t){bf(e)&&(Vb()||pi.push({content:e,options:t}),at.forEach(n=>{n.buildToast(e,t)}))}function O4(e){var t;(t=at.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function Ub(e,t){at.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function P4(e){let t=e.containerId||1;return{subscribe(n){let r=S4(t,e,k4);at.set(t,r);let s=r.observe(n);return N4(),()=>{s(),at.delete(t)}},setProps(n){var r;(r=at.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=at.get(t))==null?void 0:n.getSnapshot()}}}function _4(e){return wf.add(e),()=>{wf.delete(e)}}function R4(e){return e&&(Yr(e.toastId)||Li(e.toastId))?e.toastId:$b()}function Ii(e,t){return zb(e,t),t.toastId}function yc(e,t){return{...t,type:t&&t.type||e,toastId:R4(t)}}function vc(e){return(t,n)=>Ii(t,yc(e,n))}function A(e,t){return Ii(e,yc("default",t))}A.loading=(e,t)=>Ii(e,yc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function L4(e,{pending:t,error:n,success:r},s){let o;t&&(o=Yr(t)?A.loading(t,s):A.loading(t.render,{...s,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){A.dismiss(o);return}let p={type:u,...i,...s,data:f},x=Yr(d)?{render:d}:d;return o?A.update(o,{...p,...x}):A(x.render,{...p,...x}),f},c=Hn(e)?e():e;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}A.promise=L4;A.success=vc("success");A.info=vc("info");A.error=vc("error");A.warning=vc("warning");A.warn=A.warning;A.dark=(e,t)=>Ii(e,yc("default",{theme:"dark",...t}));function I4(e){C4(e)}A.dismiss=I4;A.clearWaitingQueue=T4;A.isActive=Bb;A.update=(e,t={})=>{let n=E4(e,t);if(n){let{props:r,content:s}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:$b()};o.toastId!==e&&(o.staleId=e);let i=o.render||s;delete o.render,Ii(i,o)}};A.done=e=>{A.update(e,{progress:1})};A.onChange=_4;A.play=e=>Ub(!0,e);A.pause=e=>Ub(!1,e);function M4(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=v.useRef(P4(e)).current;s(e);let o=(t=v.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function i(l){if(!o)return[];let c=new Map;return e.newestOnTop&&o.reverse(),o.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:i,isToastActive:Bb,count:o==null?void 0:o.length}}function D4(e){let[t,n]=v.useState(!1),[r,s]=v.useState(!1),o=v.useRef(null),i=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;O4({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{x()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)}function x(){window.removeEventListener("focus",g),window.removeEventListener("blur",y)}function m(S){if(e.draggable===!0||e.draggable===S.pointerType){w();let E=o.current;i.canCloseOnClick=!0,i.canDrag=!0,E.style.transition="none",e.draggableDirection==="x"?(i.start=S.clientX,i.removalDistance=E.offsetWidth*(e.draggablePercent/100)):(i.start=S.clientY,i.removalDistance=E.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function h(S){let{top:E,bottom:O,left:T,right:_}=o.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&S.clientX>=T&&S.clientX<=_&&S.clientY>=E&&S.clientY<=O?y():g()}function g(){n(!0)}function y(){n(!1)}function w(){i.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",k)}function b(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",k)}function j(S){let E=o.current;if(i.canDrag&&E){i.didMove=!0,t&&y(),e.draggableDirection==="x"?i.delta=S.clientX-i.start:i.delta=S.clientY-i.start,i.start!==S.clientX&&(i.canCloseOnClick=!1);let O=e.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;E.style.transform=`translate3d(${O},0)`,E.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function k(){b();let S=o.current;if(i.canDrag&&i.didMove&&S){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let N={onPointerDown:m,onPointerUp:h};return l&&c&&(N.onMouseEnter=y,e.stacked||(N.onMouseLeave=g)),f&&(N.onClick=S=>{d&&d(S),i.canCloseOnClick&&u(!0)}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:N}}var A4=typeof window<"u"?v.useLayoutEffect:v.useEffect,bc=({theme:e,type:t,isLoading:n,...r})=>J.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function F4(e){return J.createElement(bc,{...e},J.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function $4(e){return J.createElement(bc,{...e},J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function V4(e){return J.createElement(bc,{...e},J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function B4(e){return J.createElement(bc,{...e},J.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function z4(){return J.createElement("div",{className:"Toastify__spinner"})}var jf={info:$4,warning:F4,success:V4,error:B4,spinner:z4},U4=e=>e in jf;function H4({theme:e,type:t,isLoading:n,icon:r}){let s=null,o={theme:e,type:t};return r===!1||(Hn(r)?s=r({...o,isLoading:n}):v.isValidElement(r)?s=v.cloneElement(r,o):n?s=jf.spinner():U4(t)&&(s=jf[t](o))),s}var W4=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=D4(e),{closeButton:i,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:x,position:m,className:h,style:g,progressClassName:y,updateId:w,role:b,progress:j,rtl:k,toastId:N,deleteToast:S,isIn:E,isLoading:O,closeOnClick:T,theme:_,ariaLabel:P}=e,M=zr("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":T}),C=Hn(h)?h({rtl:k,position:m,type:d,defaultClassName:M}):zr(M,h),I=H4(e),R=!!j||!c,U={closeToast:p,type:d,theme:_},D=null;return i===!1||(Hn(i)?D=i(U):v.isValidElement(i)?D=v.cloneElement(i,U):D=b4(U)),J.createElement(x,{isIn:E,done:S,position:m,preventExitTransition:n,nodeRef:r,playToast:o},J.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":E,className:C,...s,style:g,ref:r,...E&&{role:b,"aria-label":P}},I!=null&&J.createElement("div",{className:zr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},I),Fb(l,e,!t),D,!e.customProgressBar&&J.createElement(w4,{...w&&!R?{key:`p-${w}`}:{},rtl:k,theme:_,delay:c,isRunning:t,isIn:E,closeToast:p,hide:f,type:d,className:y,controlledProgress:R,progress:j||0})))},G4=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),K4=v4(G4("bounce",!0)),X4={position:"top-right",transition:K4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function cn(e){let t={...X4,...e},n=e.stacked,[r,s]=v.useState(!0),o=v.useRef(null),{getToastToRender:i,isToastActive:l,count:c}=M4(t),{className:u,style:d,rtl:f,containerId:p,hotKeys:x}=t;function m(g){let y=zr("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":f});return Hn(u)?u({position:g,rtl:f,defaultClassName:y}):zr(y,vf(u))}function h(){n&&(s(!0),A.play())}return A4(()=>{var g;if(n){let y=o.current.querySelectorAll('[data-in="true"]'),w=12,b=(g=t.position)==null?void 0:g.includes("top"),j=0,k=0;Array.from(y).reverse().forEach((N,S)=>{let E=N;E.classList.add("Toastify__toast--stacked"),S>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=b?"top":"bot");let O=j*(r?.2:1)+(r?0:w*S);E.style.setProperty("--y",`${b?O:O*-1}px`),E.style.setProperty("--g",`${w}`),E.style.setProperty("--s",`${1-(r?k:0)}`),j+=E.offsetHeight,k+=.025})}},[r,c,n]),v.useEffect(()=>{function g(y){var w;let b=o.current;x(y)&&((w=b.querySelector('[tabIndex="0"]'))==null||w.focus(),s(!1),A.pause()),y.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(s(!0),A.play())}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[x]),J.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),A.pause())},onMouseLeave:h,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i((g,y)=>{let w=y.length?{...d}:{...d,pointerEvents:"none"};return J.createElement("div",{tabIndex:-1,className:m(g),"data-stacked":n,style:w,key:`c-${g}`},y.map(({content:b,props:j})=>J.createElement(W4,{...j,stacked:n,collapseAll:h,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},b)))}))}function Hb(e){if(!e)return!0;try{const n=JSON.parse(atob(e.split(".")[1])).exp*1e3;return Date.now()>n}catch{return!0}}function q4(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),[s,o]=v.useState(!0),i=Ve(),l=v.useRef(0),c=v.useRef(0);v.useEffect(()=>{const h=y=>{l.current=y.touches[0].clientX},g=y=>{c.current=y.changedTouches[0].clientX;const w=c.current-l.current;l.current<50&&w>80&&r(!0)};return window.addEventListener("touchstart",h),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",h),window.removeEventListener("touchend",g)}},[]),v.useEffect(()=>{const h=localStorage.getItem("access_token");(!h||Hb(h))&&(localStorage.clear(),i("/admin/login"))},[i]);const u=async(h,g="GET",y=null,w=null)=>{let b=await H(h,g,y,w);if(b&&b.error&&(b.data===401||b.data===403)){const j=await H("/api/auth/refresh","POST",null,null);j&&!j.error?(localStorage.setItem("access_token",j.data.accessToken),b=await H(h,g,y,w)):(localStorage.removeItem("access_token"),i("/admin/login"))}return b},d=async()=>{const h=await u("/api/v1/room-booking","GET");if(h&&!h.error){const g=h.data.filter(y=>!y.manual&&y.bookingStatus<3);t(g)}};v.useEffect(()=>{d()},[]),v.useEffect(()=>{u("/api/v1/settings/booking-status","GET").then(h=>{h&&!h.error&&o(h.data.enabled)})},[]);const f=async(h,g)=>{const y=await u(`/api/v1/room-booking/status/${h}/${g}`,"PUT");y&&!y.error?(A.info(y.data||" "),await d()):A.error("   ")},p=async()=>{const h=!s;console.log(h);const g=await u("/api/v1/settings/booking-status","PUT",null,{enabled:h});console.log(g),g&&!g.error?(o(g.data.enabled),A.success(g.data.enabled?" ":" ")):A.error(" ")},x=()=>{localStorage.clear(),i("/admin/login")},m=h=>{switch(h){case 1:return a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-900 rounded text-xs",children:""});case 2:return a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-900 rounded text-xs",children:" "});case 3:return a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:""});case 4:return a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs",children:""});default:return a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:""})}};return a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[a.jsx(cn,{position:"top-right",autoClose:2e3}),!n&&a.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(xc,{onLogout:x})}),n&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>r(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx("h1",{className:"text-2xl text-center font-bold mb-6 ml-8",children:" -  "}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("button",{onClick:p,className:`px-6 py-3 rounded-xl font-semibold shadow-md transition-all ${s?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:s?" ":" "})}),a.jsx("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-center p-4",children:"  ."}):a.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[a.jsx("th",{className:"border px-3 py-2",children:"ID"}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:"Email"}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:" "}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:""}),a.jsx("th",{className:"border px-3 py-2",children:""})]})}),a.jsx("tbody",{children:e.map(h=>{var g,y;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"border px-3 py-2",children:h.bookingId}),a.jsx("td",{className:"border px-3 py-2",children:h.client?h.client.fullName:""}),a.jsx("td",{className:"border px-3 py-2",children:h.client.email}),a.jsx("td",{className:"border px-3 py-2",children:h.client.phone}),a.jsx("td",{className:"border px-3 py-2",children:((y=(g=h.room)==null?void 0:g.roomType)==null?void 0:y.name)||h.roomType||""}),a.jsx("td",{className:"border px-3 py-2",children:h.checkInTime?new Date(h.checkInTime).toLocaleDateString():""}),a.jsx("td",{className:"border px-3 py-2",children:h.checkOutTime?new Date(h.checkOutTime).toLocaleDateString():""}),a.jsx("td",{className:"border px-3 py-2",children:h.breakfast?"":""}),a.jsx("td",{className:"border px-3 py-2 text-center",children:m(h.bookingStatus)}),a.jsxs("td",{className:"border px-3 py-2 text-center space-y-1 md:space-x-2",children:[h.bookingStatus===1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(h.id,2),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded transition w-full md:w-auto",children:"  "}),a.jsx("button",{onClick:()=>f(h.id,4),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1 rounded transition w-full md:w-auto",children:""})]}),h.bookingStatus===2&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(h.id,3),className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-1 rounded transition w-full md:w-auto",children:" "}),a.jsx("button",{onClick:()=>f(h.id,4),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1 rounded transition w-full md:w-auto",children:""})]})]})]},h.id)})})]})})})]})]})}function J4(){const[e,t]=v.useState({phone:"",password:""}),n=Ve();v.useEffect(()=>{const i=localStorage.getItem("access_token"),l=JSON.parse(localStorage.getItem("roles")||"[]");!i||l.length===0||(Hb(i)?localStorage.clear():r(l[0].name))},[]);const r=i=>{i==="ROLE_ADMIN"?n("/admin/dashboard"):i==="ROLE_RECEPTION"?n("/reception/dashboard"):i==="ROLE_COOK"?n("/cook/dashboard"):i==="ROLE_OTHER"?n("/other/dashboard"):A.error(" ")},s=i=>{const{name:l,value:c}=i.target;t(u=>({...u,[l]:c}))},o=async i=>{var l;i.preventDefault(),localStorage.clear();try{const c=await A.promise(H("/api/v1/auth/login","POST",e,null,!1),{pending:"...",error:" "});if((l=c==null?void 0:c.data)!=null&&l.access_token){localStorage.setItem("access_token",c.data.access_token),c.data.refresh_token&&localStorage.setItem("refresh_token",c.data.refresh_token);const u=c.data.roles||[];console.log("user"+e.phone),localStorage.setItem("roles",JSON.stringify(u)),localStorage.setItem("phone",e.phone),u.length>0?r(u[0].name):A.error("   ")}else A.error("   ")}catch(c){console.error(" :",c),A.error(" ")}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md",children:[a.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:" "}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:" "}),a.jsx("input",{type:"text",name:"phone",value:e.phone,onChange:s,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-400",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:""}),a.jsx("input",{type:"password",name:"password",value:e.password,onChange:s,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-400",required:!0})]}),a.jsx("button",{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-4 rounded-lg transition",children:""})]})]}),a.jsx(cn,{})]})}var Wb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ag=J.createContext&&J.createContext(Wb),Y4=["attr","size","title"];function Q4(e,t){if(e==null)return{};var n=Z4(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(n),!0).forEach(function(r){eT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eT(e,t,n){return t=tT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tT(e){var t=nT(e,"string");return typeof t=="symbol"?t:t+""}function nT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gb(e){return e&&e.map((t,n)=>J.createElement(t.tag,Cl({key:n},t.attr),Gb(t.child)))}function wt(e){return t=>J.createElement(rT,El({attr:Cl({},e.attr)},t),Gb(e.child))}function rT(e){var t=n=>{var{attr:r,size:s,title:o}=e,i=Q4(e,Y4),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),J.createElement("svg",El({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:Cl(Cl({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&J.createElement("title",null,o),e.children)};return Ag!==void 0?J.createElement(Ag.Consumer,null,n=>t(n)):t(Wb)}function wc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function _s(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Rs(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function jc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Gt(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function br(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Sc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function et(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(e)}function kc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function Nc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function Ec(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function Cc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Tc(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Wt(e){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function sT(){var lo,F,q,se;const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,o]=v.useState(!0),[i,l]=v.useState(new Date),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,x]=v.useState(null),[m,h]=v.useState(!1),[g,y]=v.useState(!1),[w,b]=v.useState(!1),[j,k]=v.useState(null),[N,S]=v.useState([]),[E,O]=v.useState(!1),[T,_]=v.useState({fullName:"",email:"",passportNumber:"",phone:"",breakfast:!0}),[P,M]=v.useState({roomId:"",checkInTime:"",checkOutTime:"",manual:!0,color:"yellow",description:"",toCook:""}),[C,I]=v.useState(null),[R,U]=v.useState(""),[D,B]=v.useState(""),W=i.getFullYear(),V=i.getMonth(),K=new Date(W,V+1,0).getDate(),ie=Array.from({length:K},(L,G)=>G+1),le=["","","","","","","","","","","",""],[ge,he]=v.useState(window.innerWidth<768),[ue,nt]=v.useState(null),[ft,Lt]=v.useState("idle"),[rt,Xn]=v.useState([]),Nn=JSON.parse(localStorage.getItem("roles"))||[],En=Nn.length>0?Nn[0].name:null,Kt=En==="ROLE_ADMIN",Cn=En==="ROLE_RECEPTION",Tr=L=>{Lt("exiting"),setTimeout(()=>{Lt("idle"),L()},300)};v.useEffect(()=>{const L=G=>{if(G.ctrlKey&&G.key==="c")C&&(nt(C),A.success(" !"));else if(G.ctrlKey&&G.key==="v"&&ue){const ne=n.find(Q=>Q.id>ue.room.id);if(ne){const Q={clientId:ue.client.id,roomId:ne.id,checkInTime:ue.checkInTime,checkOutTime:ue.checkOutTime,breakfast:ue.breakfast,manual:!0};H("/api/v1/room-booking","POST",Q).then(ve=>{ve.error||(A.success(`   ${ne.roomName}`),qn())})}else A.error("    !")}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[C,ue,n]),v.useEffect(()=>{const L=()=>he(window.innerWidth<768);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),v.useEffect(()=>{const L=document.body;m||g||w?L.style.overflow="hidden":L.style.overflow=""},[m,g,w]);const Bi=async()=>{const L=await H("/api/v1/room/type","GET");L&&!L.error?(Xn(L.data),console.log(L.data)):A.error("    ")};v.useEffect(()=>{qn(),Bi()},[i]);const qn=async()=>{o(!0),await Promise.all([ro(),so(),ru()]),o(!1)},ru=async()=>{const L=await H("/api/v1/client","GET");L&&!L.error&&S(L.data)},ro=async()=>{const L=await H("/api/v1/room-booking","GET");if(L&&!L.error){const G=L.data.filter(ne=>ne.bookingStatus===3);t(G)}},so=async()=>{const L=await H("/api/v1/room","GET");L&&!L.error&&r(L.data)},su=(L,G)=>{const ne=os(W,V,G);return e.find(Q=>{const ve=Q.checkInTime.includes("T")?Q.checkInTime.split("T")[0]:Q.checkInTime,Xt=Q.checkOutTime.includes("T")?Q.checkOutTime.split("T")[0]:Q.checkOutTime,qt=new Date(ne),It=new Date(ve),fn=new Date(Xt);return Q.room.id===L&&qt>=It&&qt<=fn})},os=(L,G,ne)=>{const Q=String(G+1).padStart(2,"0"),ve=String(ne).padStart(2,"0");return`${L}-${Q}-${ve}`},zi=(L,G)=>{u(!0),f({roomId:L,day:G}),x({roomId:L,day:G})},Ui=(L,G)=>{c&&x({roomId:L,day:G})},Hi=()=>{if(d&&p){const L=Math.min(d.day,p.day),G=Math.max(d.day,p.day),ne=dn.findIndex(It=>It.id===d.roomId),Q=dn.findIndex(It=>It.id===p.roomId),ve=Math.min(ne,Q),Xt=Math.max(ne,Q),qt=dn.slice(ve,Xt+1);M({rooms:qt,roomIds:qt.map(It=>It.id),checkInTime:os(W,V,L),checkOutTime:os(W,V,G+1),manual:!0}),h(!0)}u(!1)},ou=async()=>{try{const L=await H("/api/v1/client","POST",T);if(L.error){A.error("   ");return}const G=L.data.id,ne=Array.isArray(P.roomIds)?P.roomIds:[P.roomId];for(const Q of ne){const ve={clientId:G,roomId:Q,checkInTime:P.checkInTime,checkOutTime:P.checkOutTime,breakfast:T.breakfast,manual:!0,color:P.color,description:P.description,toCook:P.toCook,bookingStatus:3};(await H("/api/v1/room-booking","POST",ve)).error&&console.error("   ",Q)}A.success(" !"),h(!1),_({fullName:"",email:"",passportNumber:"",phone:"",breakfast:!0}),M({roomId:"",checkInTime:"",checkOutTime:"",manual:!0}),qn()}catch{A.error("   ")}},oo=L=>{var G,ne;(Cn||Kt)&&(I({...L,description:L.description||""}),U(L.room.id.toString()),B(((ne=(G=L.room.roomType)==null?void 0:G.id)==null?void 0:ne.toString())||""),y(!0))},iu=L=>{var G;k({...L,originalStatus:L.status,originalPrice:L.price,originalTypeId:(G=L.roomType)==null?void 0:G.id}),Bi(),b(!0)},Wi=async()=>{var L;if(j)try{if(j.status!==j.originalStatus&&(await H(`/api/v1/room/status/${j.id}`,"PUT",{status:j.status})).error)throw new Error("   ");if(j.price!==j.originalPrice&&(await H(`/api/v1/room/price/${j.id}/${j.price}`,"PUT")).error)throw new Error("   ");if((L=j.roomType)!=null&&L.id&&j.roomType.id!==j.originalTypeId&&(await H(`/api/v1/room/type/${j.id}/${j.roomType.id}`,"PUT")).error)throw new Error("   ");A.success(" !"),b(!1),so()}catch(G){A.error(G.message||"   ")}},io=async()=>{if(!C)return;const L={roomId:R,clientId:C.client.id,checkInTime:C.checkInTime,checkOutTime:C.checkOutTime,breakfast:C.breakfast,arrived:C.arrived,color:C.color,description:C.description,toCook:C.toCook},G=await H(`/api/v1/room-booking/change-booking-time/${C.id}`,"PUT",L);D&&await H(`/api/v1/room/type/${R}/${D}`,"PUT"),G.error?A.error("  "):(A.success(" "),y(!1),qn())},au=async()=>{if(!C||!window.confirm(" ?"))return;(await H(`/api/v1/room-booking/${C.id}`,"DELETE")).error?A.error("  "):(A.success(" "),y(!1),qn())},un=L=>{if(!L)return"";const[G,ne,Q]=L.split("-");return`${Q}-${ne}-${G}`},ao=L=>{l(new Date(W,V+L,1))},Gi=L=>{const G=new Date(W,V,L);return["","","","","","",""][G.getDay()]};if(s)return a.jsx("div",{className:"flex justify-center items-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const dn=[...n].sort((L,G)=>L.id-G.id);return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[le[V]," ",W]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ao(-1),className:"p-2 bg-white rounded-lg shadow hover:shadow-md transition-shadow","aria-label":" ",children:""}),a.jsx("button",{onClick:()=>l(new Date),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:""}),a.jsx("button",{onClick:()=>ao(1),className:"p-2 bg-white rounded-lg shadow hover:shadow-md transition-shadow","aria-label":" ",children:""})]})]})}),a.jsx("div",{className:"overflow-x-auto overflow-y-hidden bg-white select-none scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{maxWidth:"100%",overscrollBehaviorX:"contain"},onMouseDown:L=>L.preventDefault(),onMouseUp:Hi,onTouchEnd:Hi,children:a.jsx("div",{className:"min-w-max",children:a.jsxs("table",{className:"w-full border-collapse text-sm",onMouseDown:L=>{if(L.target.closest("th")){L.stopPropagation(),L.preventDefault();return}},onTouchStart:L=>{if(L.target.closest("th")){L.stopPropagation(),L.preventDefault();return}},children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsxs("th",{className:"sticky left-0 z-10 bg-gray-100 border border-gray-200 px-3 py-3 text-left min-w-[120px]",children:[a.jsx("div",{className:"font-semibold text-gray-700",children:""}),a.jsx("div",{className:"text-xs text-gray-500 font-normal",children:" / "})]}),ie.map(L=>{const G=new Date(W,V,L),ne=new Date;ne.setHours(0,0,0,0);const Q=G.getTime()===ne.getTime(),ve=G.getDay()===0||G.getDay()===6;return a.jsxs("th",{className:`border border-gray-200 px-1 py-2 text-center min-w-[${ge?"32":"48"}px] ${Q?"bg-blue-500 text-white border-blue-600":ve?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:[a.jsx("div",{className:"text-xs font-semibold",children:Gi(L)}),a.jsx("div",{className:`text-sm font-bold ${Q?"text-white":""}`,children:L})]},L)})]})}),a.jsx("tbody",{children:dn.map(L=>{var G;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"sticky left-0 z-10 bg-white border border-gray-200 px-3 py-1 cursor-pointer hover:bg-blue-50 transition-colors group",onClick:()=>iu(L),children:[a.jsx("div",{className:"font-semibold text-gray-800",children:L.roomName}),a.jsx("div",{className:"text-xs text-gray-600",children:((G=L.roomType)==null?void 0:G.name)||""}),a.jsx("div",{className:"text-[10px] text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:L.description})]}),ie.map(ne=>{var Fp;const Q=su(L.id,ne),ve=dn.findIndex(uo=>uo.id===L.id),Xt=d?dn.findIndex(uo=>uo.id===d.roomId):-1,qt=p?dn.findIndex(uo=>uo.id===p.roomId):-1,It=c&&d&&p&&ne>=Math.min(d.day,p.day)&&ne<=Math.max(d.day,p.day)&&ve>=Math.min(Xt,qt)&&ve<=Math.max(Xt,qt),fn=new Date(W,V,ne),Jn=new Date;Jn.setHours(0,0,0,0);const Ki=fn.getTime()===Jn.getTime();let Mt="bg-green-50 hover:bg-green-100",co="";if(Q){switch(Q.color){case"red":Mt="bg-red-400 text-white";break;case"brown":Mt="bg-amber-800 text-white";break;case"green":Mt="bg-green-500 text-white";break;case"yellow":Mt="bg-yellow-400 text-black";break;default:Mt="bg-orange-300 text-white"}Q.arrived===!0?co="":Q.arrived===!1?co="":co="?"}return a.jsxs("td",{className:`border h-12 cursor-pointer transition-colors relative ${Mt} 
                        ${Ki?"ring-2 ring-blue-400 ring-inset":""}
                        ${It?"bg-blue-200":""}
                        ${Q?Q.manual?"border-2 border-gray-200":"border-2 border-fuchsia-950":"border border-gray-200"}
                      `,onMouseDown:()=>{Q?oo(Q):zi(L.id,ne)},onTouchStart:()=>{Q?oo(Q):zi(L.id,ne)},onMouseEnter:()=>!Q&&Ui(L.id,ne),"data-room-id":L.id,"data-day":ne,children:[((Fp=Q==null?void 0:Q.client)==null?void 0:Fp.fullName)&&a.jsxs("div",{className:"absolute inset-1 flex flex-col justify-center items-center text-center",children:[a.jsx("span",{className:"text-[10px] font-medium leading-tight truncate",children:ge?Q.client.fullName.split(" ")[0]:Q.client.fullName}),co&&a.jsx("span",{className:"text-xs font-bold mt-1",children:co})]}),It&&a.jsx("div",{className:"absolute inset-0 bg-blue-300 bg-opacity-40 border-2 border-blue-500 pointer-events-none"})]},ne)})]},L.id)})})]})})}),Kt&&m&&a.jsx(Hu,{onClose:()=>Tr(()=>h(!1)),title:" ",animation:ft,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:a.jsx("i",{children:un(P.checkInTime)})})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:a.jsx("i",{children:un(P.checkOutTime)})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-semibold text-sm mb-3 text-slate-700",children:" :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(lo=P.rooms)==null?void 0:lo.map(L=>{var G;return a.jsxs("span",{className:"bg-white px-4 py-2 rounded-full text-sm font-medium text-slate-700 border border-slate-300 shadow-sm",children:[L.roomName,"  ",((G=L.roomType)==null?void 0:G.name)||""]},L.id)})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"  *"}),a.jsx("input",{list:"client-list",type:"text",placeholder:"  ...",value:T.fullName,onChange:L=>{const G=L.target.value;_({...T,fullName:G});const ne=N.find(Q=>Q.fullName.toLowerCase()===G.toLowerCase());ne&&_({fullName:ne.fullName,email:ne.email||"",passportNumber:ne.passportNumber||"",phone:ne.phone||"",breakfast:ne.breakfast??!0})},className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",required:!0}),a.jsx("datalist",{id:"client-list",children:N.map(L=>a.jsx("option",{value:L.fullName},L.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:""}),a.jsx("textarea",{placeholder:"   ...",value:P.description,onChange:L=>M({...P,description:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-200 bg-white",rows:3})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:P.toCook||"",onChange:L=>M({...P,toCook:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:T.breakfast,onChange:L=>_({...T,breakfast:L.target.checked}),className:"sr-only"}),a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${T.breakfast?"bg-emerald-500":"bg-slate-300"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ${T.breakfast?"transform translate-x-7":"transform translate-x-1"}`})})]}),a.jsx("span",{className:"font-medium text-slate-700",children:" "})]})}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("div",{className:"flex gap-3",children:[{name:"",value:"red",className:"bg-red-500"},{name:"",value:"brown",className:"bg-amber-800"},{name:"",value:"green",className:"bg-green-500"},{name:"",value:"yellow",className:"bg-yellow-400"}].map(L=>a.jsx("button",{type:"button",onClick:()=>M({...P,color:L.value}),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 transform ${P.color===L.value?"border-slate-800 scale-110 shadow-lg":"border-slate-300 hover:scale-105"} ${L.className}`,title:L.name},L.value))})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-6 border-t border-slate-200",children:[a.jsx("button",{onClick:()=>Tr(()=>h(!1)),className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:ou,className:"px-8 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:"  "})]})]})}),Kt&&w&&j&&a.jsx(Hu,{onClose:()=>b(!1),title:" ",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-lg",children:j.roomName}),a.jsxs("p",{className:"text-gray-600",children:[" :",j.description]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),a.jsx("input",{type:"number",value:j.price,onChange:L=>k({...j,price:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),a.jsxs("select",{value:((F=j.roomType)==null?void 0:F.id)||"",onChange:L=>k({...j,roomType:{id:Number(L.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:" "}),rt.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j.status,onChange:L=>k({...j,status:L.target.checked}),className:"w-4 h-4 text-blue-500 rounded focus:ring-blue-500"}),a.jsx("span",{className:"font-medium",children:j.status?" ":" "})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between pt-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""}),a.jsx("button",{onClick:Wi,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" "})]})]})}),g&&C&&a.jsx(Hu,{onClose:()=>Tr(()=>y(!1)),title:Cn?"  ":" ",animation:ft,children:Cn?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"   "}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.client.fullName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.room.roomName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:((q=C.room.roomType)==null?void 0:q.name)||""})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:C.toCook||"",onChange:L=>I({...C,toCook:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsx("div",{className:"flex gap-3 justify-between pt-6 border-t border-slate-200",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Tr(()=>y(!1)),className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:io,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:" "})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"   "}),a.jsxs("div",{className:"gap-4 text-sm",children:[a.jsxs("div",{className:"md:col-span-2 bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.client.fullName})]}),a.jsxs("div",{className:"flex gap-4 justify-between mt-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.room.roomName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:((se=C.room.roomType)==null?void 0:se.name)||""})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("input",{type:"date",value:C.checkInTime.split("T")[0],onChange:L=>I({...C,checkInTime:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("input",{type:"date",value:C.checkOutTime.split("T")[0],onChange:L=>I({...C,checkOutTime:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:""}),a.jsx("textarea",{value:C.description||"",onChange:L=>I({...C,description:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:C.toCook||"",onChange:L=>I({...C,toCook:L.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-slate-50 p-4 my-2 rounded-xl border border-slate-200",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:C.breakfast,onChange:L=>I({...C,breakfast:L.target.checked}),className:"sr-only"}),a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${C.breakfast?"bg-emerald-500":"bg-slate-300"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ${C.breakfast?"transform translate-x-7":"transform translate-x-1"}`})})]}),a.jsx("span",{className:"font-medium text-slate-700",children:" "})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsxs("select",{value:C.arrived===null?"null":C.arrived?"true":"false",onChange:L=>{const G=L.target.value==="null"?null:L.target.value==="true";I({...C,arrived:G})},className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"null",children:" "}),a.jsx("option",{value:"true",children:" "}),a.jsx("option",{value:"false",children:"  "})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("div",{className:"flex gap-3",children:[{name:"",value:"red",className:"bg-red-500"},{name:"",value:"brown",className:"bg-amber-800"},{name:"",value:"green",className:"bg-green-500"},{name:"",value:"yellow",className:"bg-yellow-400"}].map(L=>a.jsx("button",{onClick:()=>I({...C,color:L.value}),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 transform ${C.color===L.value?"border-slate-800 scale-110 shadow-lg":"border-slate-300 hover:scale-105"} ${L.className}`,title:L.name},L.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsxs("select",{value:R,onChange:L=>U(L.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"",children:" "}),n.map(L=>{var G;return a.jsxs("option",{value:L.id,children:[L.roomName," (",((G=L.roomType)==null?void 0:G.name)||"",")"]},L.id)})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 justify-between pt-6 border-t border-slate-200",children:[a.jsx("button",{onClick:au,className:"w-full md:w-fit px-6 py-3 bg-gradient-to-r from-rose-500 to-rose-600 text-white rounded-xl hover:from-rose-600 hover:to-rose-700 transition-all duration-200 font-semibold",children:"  "}),a.jsxs("div",{className:"flex gap-3 w-full md:w-fit",children:[a.jsx("button",{onClick:()=>Tr(()=>y(!1)),className:"w-1/2 md:w-fit px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:io,className:"w-full md:w-fit px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:" "})]})]})]})})]})}function Hu({onClose:e,title:t,children:n,animation:r}){return a.jsx("div",{className:`fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-md transition-opacity duration-300 ${r==="entering"||r==="exiting"?"opacity-0":"opacity-100"}`,children:a.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-y-auto transform transition-all duration-300 ${r==="entering"?"scale-95 opacity-0 translate-y-4":r==="exiting"?"scale-100 opacity-0 -translate-y-4":"scale-100 opacity-100 translate-y-0"}`,children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-8 py-6 rounded-t-3xl backdrop-blur-sm bg-opacity-90 z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-xl transition-all duration-200 text-slate-500 hover:text-slate-700 hover:rotate-90",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-8",children:n})]})})}function oT(){const e=Ve(),[t,n]=v.useState(!1),r=v.useRef(0),s=v.useRef(0),o=()=>{localStorage.clear(),e("/admin/login")};return v.useEffect(()=>{localStorage.getItem("access_token")||e("/admin/login")},[]),v.useEffect(()=>{const i=c=>{r.current=c.touches[0].clientX},l=c=>{s.current=c.changedTouches[0].clientX;const u=s.current-r.current;r.current<50&&u>80&&n(!0)};return window.addEventListener("touchstart",i),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",i),window.removeEventListener("touchend",l)}},[]),a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[!t&&a.jsx("button",{onClick:()=>n(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(xc,{onLogout:o})}),t&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>n(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx(cn,{position:"top-right",autoClose:2e3}),a.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:" "}),a.jsx("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:a.jsx(sT,{})})})]})]})}const Kb=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Oc=v.createContext({}),Pc=v.createContext(null),_c=typeof document<"u",tp=_c?v.useLayoutEffect:v.useEffect,Xb=v.createContext({strict:!1}),np=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iT="framerAppearId",qb="data-"+np(iT);function aT(e,t,n,r){const{visualElement:s}=v.useContext(Oc),o=v.useContext(Xb),i=v.useContext(Pc),l=v.useContext(Kb).reducedMotion,c=v.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;v.useInsertionEffect(()=>{u&&u.update(n,i)});const d=v.useRef(!!(n[qb]&&!window.HandoffComplete));return tp(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lT(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ws(n)&&(n.current=r))},[t])}function mi(e){return typeof e=="string"||Array.isArray(e)}function Rc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sp=["initial",...rp];function Lc(e){return Rc(e.animate)||sp.some(t=>mi(e[t]))}function Jb(e){return!!(Lc(e)||e.variants)}function cT(e,t){if(Lc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||mi(n)?n:void 0,animate:mi(r)?r:void 0}}return e.inherit!==!1?t:{}}function uT(e){const{initial:t,animate:n}=cT(e,v.useContext(Oc));return v.useMemo(()=>({initial:t,animate:n}),[$g(t),$g(n)])}function $g(e){return Array.isArray(e)?e.join(" "):e}const Vg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gi={};for(const e in Vg)gi[e]={isEnabled:t=>Vg[e].some(n=>!!t[n])};function dT(e){for(const t in e)gi[t]={...gi[t],...e[t]}}const op=v.createContext({}),Yb=v.createContext({}),fT=Symbol.for("motionComponentSymbol");function hT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&dT(e);function o(l,c){let u;const d={...v.useContext(Kb),...l,layoutId:pT(l)},{isStatic:f}=d,p=uT(l),x=r(l,f);if(!f&&_c){p.visualElement=aT(s,x,d,t);const m=v.useContext(Yb),h=v.useContext(Xb).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,h,e,m))}return v.createElement(Oc.Provider,{value:p},u&&p.visualElement?v.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,lT(x,p.visualElement,c),x,f,p.visualElement))}const i=v.forwardRef(o);return i[fT]=s,i}function pT({layoutId:e}){const t=v.useContext(op).id;return t&&e!==void 0?t+"-"+e:e}function mT(e){function t(r,s={}){return hT(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const gT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ip(e){return typeof e!="string"||e.includes("-")?!1:!!(gT.indexOf(e)>-1||/[A-Z]/.test(e))}const Tl={};function xT(e){Object.assign(Tl,e)}const Mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rs=new Set(Mi);function Qb(e,{layout:t,layoutId:n}){return rs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tl[e]||e==="opacity")}const vt=e=>!!(e&&e.getVelocity),yT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vT=Mi.length;function bT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<vT;i++){const l=Mi[i];if(e[l]!==void 0){const c=yT[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const Zb=e=>t=>typeof t=="string"&&t.startsWith(e),e1=Zb("--"),Sf=Zb("var(--"),wT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,jT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,wr=(e,t,n)=>Math.min(Math.max(n,e),t),ss={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wo={...ss,transform:e=>wr(0,1,e)},pa={...ss,default:1},Go=e=>Math.round(e*1e5)/1e5,Ic=/(-)?([\d]*\.?[\d])+/g,t1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ST=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Di(e){return typeof e=="string"}const Ai=e=>({test:t=>Di(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qn=Ai("deg"),jn=Ai("%"),te=Ai("px"),kT=Ai("vh"),NT=Ai("vw"),Bg={...jn,parse:e=>jn.parse(e)/100,transform:e=>jn.transform(e*100)},zg={...ss,transform:Math.round},n1={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scale:pa,scaleX:pa,scaleY:pa,scaleZ:pa,skew:Qn,skewX:Qn,skewY:Qn,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Wo,originX:Bg,originY:Bg,originZ:te,zIndex:zg,fillOpacity:Wo,strokeOpacity:Wo,numOctaves:zg};function ap(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(e1(f)){o[f]=p;continue}const x=n1[f],m=jT(p,x);if(rs.has(f)){if(c=!0,i[f]=m,!d)continue;p!==(x.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=m):s[f]=m}if(t.transform||(c||r?s.transform=bT(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:x=0}=l;s.transformOrigin=`${f} ${p} ${x}`}}const lp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(e,t,n){for(const r in t)!vt(t[r])&&!Qb(r,n)&&(e[r]=t[r])}function ET({transformTemplate:e},t,n){return v.useMemo(()=>{const r=lp();return ap(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function CT(e,t,n){const r=e.style||{},s={};return r1(s,r,e),Object.assign(s,ET(e,t,n)),e.transformValues?e.transformValues(s):s}function TT(e,t,n){const r={},s=CT(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const OT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ol(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OT.has(e)}let s1=e=>!Ol(e);function PT(e){e&&(s1=t=>t.startsWith("on")?!Ol(t):e(t))}try{PT(require("@emotion/is-prop-valid").default)}catch{}function _T(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(s1(s)||n===!0&&Ol(s)||!t&&!Ol(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Ug(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function RT(e,t,n){const r=Ug(t,e.x,e.width),s=Ug(n,e.y,e.height);return`${r} ${s}`}const LT={offset:"stroke-dashoffset",array:"stroke-dasharray"},IT={offset:"strokeDashoffset",array:"strokeDasharray"};function MT(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?LT:IT;e[o.offset]=te.transform(-r);const i=te.transform(t),l=te.transform(n);e[o.array]=`${i} ${l}`}function cp(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(ap(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:m,dimensions:h}=e;x.transform&&(h&&(m.transform=x.transform),delete x.transform),h&&(s!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=RT(h,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),i!==void 0&&MT(x,i,l,c,!1)}const o1=()=>({...lp(),attrs:{}}),up=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DT(e,t,n,r){const s=v.useMemo(()=>{const o=o1();return cp(o,t,{enableHardwareAcceleration:!1},up(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};r1(o,e.style,e),s.style={...o,...s.style}}return s}function AT(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(ip(n)?DT:TT)(r,o,i,n),d={..._T(r,typeof n=="string",e),...c,ref:s},{children:f}=r,p=v.useMemo(()=>vt(f)?f.get():f,[f]);return v.createElement(n,{...d,children:p})}}function i1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const a1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l1(e,t,n,r){i1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(a1.has(s)?s:np(s),t.attrs[s])}function dp(e,t){const{style:n}=e,r={};for(const s in n)(vt(n[s])||t.style&&vt(t.style[s])||Qb(s,e))&&(r[s]=n[s]);return r}function c1(e,t){const n=dp(e,t);for(const r in e)if(vt(e[r])||vt(t[r])){const s=Mi.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function fp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function u1(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Pl=e=>Array.isArray(e),FT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$T=e=>Pl(e)?e[e.length-1]||0:e;function Ha(e){const t=vt(e)?e.get():e;return FT(t)?t.toValue():t}function VT({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:BT(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const d1=e=>(t,n)=>{const r=v.useContext(Oc),s=v.useContext(Pc),o=()=>VT(e,t,r,s);return n?o():u1(o)};function BT(e,t,n,r){const s={},o=r(e,{});for(const p in o)s[p]=Ha(o[p]);let{initial:i,animate:l}=e;const c=Lc(e),u=Jb(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Rc(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const m=fp(e,x);if(!m)return;const{transitionEnd:h,transition:g,...y}=m;for(const w in y){let b=y[w];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[w]=b)}for(const w in h)s[w]=h[w]}),s}const Pe=e=>e;class Hg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function zT(e){let t=new Hg,n=new Hg,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?t:n;return u&&i.add(c),p.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const ma=["prepare","read","update","preRender","render","postRender"],UT=40;function HT(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=ma.reduce((f,p)=>(f[p]=zT(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,UT),1),s.timestamp=f,s.isProcessing=!0,ma.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:ma.reduce((f,p)=>{const x=o[p];return f[p]=(m,h=!1,g=!1)=>(n||c(),x.schedule(m,h,g)),f},{}),cancel:f=>ma.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:ye,cancel:Wn,state:Ye,steps:Wu}=HT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pe,!0),WT={useVisualState:d1({scrapeMotionValuesFromProps:c1,createRenderState:o1,onMount:(e,t,{renderState:n,latestValues:r})=>{ye.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{cp(n,r,{enableHardwareAcceleration:!1},up(t.tagName),e.transformTemplate),l1(t,n)})}})},GT={useVisualState:d1({scrapeMotionValuesFromProps:dp,createRenderState:lp})};function KT(e,{forwardMotionProps:t=!1},n,r){return{...ip(e)?WT:GT,preloadedFeatures:n,useRender:AT(t),createVisualElement:r,Component:e}}function Rn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const f1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Mc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const XT=e=>t=>f1(t)&&e(t,Mc(t));function Dn(e,t,n,r){return Rn(e,t,XT(n),r)}const qT=(e,t)=>n=>t(e(n)),gr=(...e)=>e.reduce(qT);function h1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Wg=h1("dragHorizontal"),Gg=h1("dragVertical");function p1(e){let t=!1;if(e==="y")t=Gg();else if(e==="x")t=Wg();else{const n=Wg(),r=Gg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function m1(){const e=p1(!0);return e?(e(),!1):!0}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Kg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||m1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ye.update(()=>l[r](o,i))};return Dn(e.current,n,s,{passive:!e.getProps()[r]})}class JT extends Cr{mount(){this.unmount=gr(Kg(this.node,!0),Kg(this.node,!1))}unmount(){}}class YT extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gr(Rn(this.node.current,"focus",()=>this.onFocus()),Rn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const g1=(e,t)=>t?e===t?!0:g1(e,t.parentElement):!1;function Gu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Mc(n))}class QT extends Cr{constructor(){super(...arguments),this.removeStartListeners=Pe,this.removeEndListeners=Pe,this.removeAccessibleListeners=Pe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Dn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ye.update(()=>{!f&&!g1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=Dn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=gr(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Gu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ye.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Rn(this.node.current,"keyup",i),Gu("down",(l,c)=>{this.startPress(l,c)})},n=Rn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gu("cancel",(o,i)=>this.cancelPress(o,i))},s=Rn(this.node.current,"blur",r);this.removeAccessibleListeners=gr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ye.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!m1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ye.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Dn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Rn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kf=new WeakMap,Ku=new WeakMap,ZT=e=>{const t=kf.get(e.target);t&&t(e)},e3=e=>{e.forEach(ZT)};function t3({root:e,...t}){const n=e||document;Ku.has(n)||Ku.set(n,{});const r=Ku.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(e3,{root:e,...t})),r[s]}function n3(e,t,n){const r=t3(t);return kf.set(e,n),r.observe(e),()=>{kf.delete(e),r.unobserve(e)}}const r3={some:0,all:1};class s3 extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:r3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return n3(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(o3(t,n))&&this.startObserver()}unmount(){}}function o3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i3={inView:{Feature:s3},tap:{Feature:QT},focus:{Feature:YT},hover:{Feature:JT}};function x1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function a3(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function l3(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Dc(e,t,n){const r=e.getProps();return fp(r,t,n!==void 0?n:r.custom,a3(e),l3(e))}let c3=Pe,hp=Pe;const xr=e=>e*1e3,An=e=>e/1e3,u3={current:!1},y1=e=>Array.isArray(e)&&typeof e[0]=="number";function v1(e){return!!(!e||typeof e=="string"&&b1[e]||y1(e)||Array.isArray(e)&&e.every(v1))}const _o=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,b1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function w1(e){if(e)return y1(e)?_o(e):Array.isArray(e)?e.map(w1):b1[e]}function d3(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=w1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function f3(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const j1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,h3=1e-7,p3=12;function m3(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=j1(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>h3&&++l<p3);return i}function Fi(e,t,n,r){if(e===t&&n===r)return Pe;const s=o=>m3(o,0,1,e,n);return o=>o===0||o===1?o:j1(s(o),t,r)}const g3=Fi(.42,0,1,1),x3=Fi(0,0,.58,1),S1=Fi(.42,0,.58,1),y3=e=>Array.isArray(e)&&typeof e[0]!="number",k1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,N1=e=>t=>1-e(1-t),pp=e=>1-Math.sin(Math.acos(e)),E1=N1(pp),v3=k1(pp),C1=Fi(.33,1.53,.69,.99),mp=N1(C1),b3=k1(mp),w3=e=>(e*=2)<1?.5*mp(e):.5*(2-Math.pow(2,-10*(e-1))),j3={linear:Pe,easeIn:g3,easeInOut:S1,easeOut:x3,circIn:pp,circInOut:v3,circOut:E1,backIn:mp,backInOut:b3,backOut:C1,anticipate:w3},Xg=e=>{if(Array.isArray(e)){hp(e.length===4);const[t,n,r,s]=e;return Fi(t,n,r,s)}else if(typeof e=="string")return j3[e];return e},gp=(e,t)=>n=>!!(Di(n)&&ST.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),T1=(e,t,n)=>r=>{if(!Di(r))return r;const[s,o,i,l]=r.match(Ic);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},S3=e=>wr(0,255,e),Xu={...ss,transform:e=>Math.round(S3(e))},$r={test:gp("rgb","red"),parse:T1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xu.transform(e)+", "+Xu.transform(t)+", "+Xu.transform(n)+", "+Go(Wo.transform(r))+")"};function k3(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Nf={test:gp("#"),parse:k3,transform:$r.transform},js={test:gp("hsl","hue"),parse:T1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+jn.transform(Go(t))+", "+jn.transform(Go(n))+", "+Go(Wo.transform(r))+")"},st={test:e=>$r.test(e)||Nf.test(e)||js.test(e),parse:e=>$r.test(e)?$r.parse(e):js.test(e)?js.parse(e):Nf.parse(e),transform:e=>Di(e)?e:e.hasOwnProperty("red")?$r.transform(e):js.transform(e)},Ee=(e,t,n)=>-n*e+n*t+e;function qu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function N3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=qu(c,l,e+1/3),o=qu(c,l,e),i=qu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Ju=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},E3=[Nf,$r,js],C3=e=>E3.find(t=>t.test(e));function qg(e){const t=C3(e);let n=t.parse(e);return t===js&&(n=N3(n)),n}const O1=(e,t)=>{const n=qg(e),r=qg(t),s={...n};return o=>(s.red=Ju(n.red,r.red,o),s.green=Ju(n.green,r.green,o),s.blue=Ju(n.blue,r.blue,o),s.alpha=Ee(n.alpha,r.alpha,o),$r.transform(s))};function T3(e){var t,n;return isNaN(e)&&Di(e)&&(((t=e.match(Ic))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(t1))===null||n===void 0?void 0:n.length)||0)>0}const P1={regex:wT,countKey:"Vars",token:"${v}",parse:Pe},_1={regex:t1,countKey:"Colors",token:"${c}",parse:st.parse},R1={regex:Ic,countKey:"Numbers",token:"${n}",parse:ss.parse};function Yu(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function _l(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yu(n,P1),Yu(n,_1),Yu(n,R1),n}function L1(e){return _l(e).values}function I1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=_l(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(P1.token,i[c]):c<r+n?l=l.replace(_1.token,st.transform(i[c])):l=l.replace(R1.token,Go(i[c]));return l}}const O3=e=>typeof e=="number"?0:e;function P3(e){const t=L1(e);return I1(e)(t.map(O3))}const jr={test:T3,parse:L1,createTransformer:I1,getAnimatableNone:P3},M1=(e,t)=>n=>`${n>0?t:e}`;function D1(e,t){return typeof e=="number"?n=>Ee(e,t,n):st.test(e)?O1(e,t):e.startsWith("var(")?M1(e,t):F1(e,t)}const A1=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>D1(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},_3=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=D1(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},F1=(e,t)=>{const n=jr.createTransformer(t),r=_l(e),s=_l(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?gr(A1(r.values,s.values),n):M1(e,t)},xi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Jg=(e,t)=>n=>Ee(e,t,n);function R3(e){return typeof e=="number"?Jg:typeof e=="string"?st.test(e)?O1:F1:Array.isArray(e)?A1:typeof e=="object"?_3:Jg}function L3(e,t,n){const r=[],s=n||R3(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Pe:t;l=gr(c,l)}r.push(l)}return r}function $1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(hp(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=L3(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=xi(e[d],e[d+1],u);return i[d](f)};return n?u=>c(wr(e[0],e[o-1],u)):c}function I3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=xi(0,t,r);e.push(Ee(n,1,s))}}function M3(e){const t=[0];return I3(t,e.length-1),t}function D3(e,t){return e.map(n=>n*t)}function A3(e,t){return e.map(()=>t||S1).splice(0,e.length-1)}function Rl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=y3(r)?r.map(Xg):Xg(r),o={done:!1,value:t[0]},i=D3(n&&n.length===t.length?n:M3(t),e),l=$1(i,t,{ease:Array.isArray(s)?s:A3(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function V1(e,t){return t?e*(1e3/t):0}const F3=5;function B1(e,t,n){const r=Math.max(t-F3,0);return V1(n-e(r),t-r)}const Qu=.001,$3=.01,Yg=10,V3=.05,B3=1;function z3({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;c3(e<=xr(Yg));let i=1-t;i=wr(V3,B3,i),e=wr($3,Yg,An(e)),i<1?(s=u=>{const d=u*i,f=d*e,p=d-n,x=Ef(u,i),m=Math.exp(-f);return Qu-p/x*m},o=u=>{const f=u*i*e,p=f*n+n,x=Math.pow(i,2)*Math.pow(u,2)*e,m=Math.exp(-f),h=Ef(Math.pow(u,2),i);return(-s(u)+Qu>0?-1:1)*((p-x)*m)/h}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Qu+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=H3(s,o,l);if(e=xr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const U3=12;function H3(e,t,n){let r=n;for(let s=1;s<U3;s++)r=r-e(r)/t(r);return r}function Ef(e,t){return e*Math.sqrt(1-t*t)}const W3=["duration","bounce"],G3=["stiffness","damping","mass"];function Qg(e,t){return t.some(n=>e[n]!==void 0)}function K3(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Qg(e,G3)&&Qg(e,W3)){const n=z3(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function z1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=K3({...r,velocity:-An(r.velocity||0)}),x=f||0,m=c/(2*Math.sqrt(l*u)),h=o-s,g=An(Math.sqrt(l/u)),y=Math.abs(h)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let w;if(m<1){const b=Ef(g,m);w=j=>{const k=Math.exp(-m*g*j);return o-k*((x+m*g*h)/b*Math.sin(b*j)+h*Math.cos(b*j))}}else if(m===1)w=b=>o-Math.exp(-g*b)*(h+(x+g*h)*b);else{const b=g*Math.sqrt(m*m-1);w=j=>{const k=Math.exp(-m*g*j),N=Math.min(b*j,300);return o-k*((x+m*g*h)*Math.sinh(N)+b*h*Math.cosh(N))/b}}return{calculatedDuration:p&&d||null,next:b=>{const j=w(b);if(p)i.done=b>=d;else{let k=x;b!==0&&(m<1?k=B1(w,b,j):k=0);const N=Math.abs(k)<=n,S=Math.abs(o-j)<=t;i.done=N&&S}return i.value=i.done?o:j,i}}}function Zg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},x=E=>l!==void 0&&E<l||c!==void 0&&E>c,m=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let h=n*t;const g=f+h,y=i===void 0?g:i(g);y!==g&&(h=y-f);const w=E=>-h*Math.exp(-E/r),b=E=>y+w(E),j=E=>{const O=w(E),T=b(E);p.done=Math.abs(O)<=u,p.value=p.done?y:T};let k,N;const S=E=>{x(p.value)&&(k=E,N=z1({keyframes:[p.value,m(p.value)],velocity:B1(b,E,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let O=!1;return!N&&k===void 0&&(O=!0,j(E),S(E)),k!==void 0&&E>k?N.next(E-k):(!O&&j(E),p)}}}const X3=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ye.update(t,!0),stop:()=>Wn(t),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},e0=2e4;function t0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<e0;)t+=n,r=e.next(t);return t>=e0?1/0:t}const q3={decay:Zg,inertia:Zg,tween:Rl,keyframes:Rl,spring:z1};function Ll({autoplay:e=!0,delay:t=0,driver:n=X3,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let x=1,m=!1,h,g;const y=()=>{g=new Promise(V=>{h=V})};y();let w;const b=q3[s]||Rl;let j;b!==Rl&&typeof r[0]!="number"&&(j=$1([0,100],r,{clamp:!1}),r=[0,100]);const k=b({...p,keyframes:r});let N;l==="mirror"&&(N=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let S="idle",E=null,O=null,T=null;k.calculatedDuration===null&&o&&(k.calculatedDuration=t0(k));const{calculatedDuration:_}=k;let P=1/0,M=1/0;_!==null&&(P=_+i,M=P*(o+1)-i);let C=0;const I=V=>{if(O===null)return;x>0&&(O=Math.min(O,V)),x<0&&(O=Math.min(V-M/x,O)),E!==null?C=E:C=Math.round(V-O)*x;const K=C-t*(x>=0?1:-1),ie=x>=0?K<0:K>M;C=Math.max(K,0),S==="finished"&&E===null&&(C=M);let le=C,ge=k;if(o){const ft=Math.min(C,M)/P;let Lt=Math.floor(ft),rt=ft%1;!rt&&ft>=1&&(rt=1),rt===1&&Lt--,Lt=Math.min(Lt,o+1),!!(Lt%2)&&(l==="reverse"?(rt=1-rt,i&&(rt-=i/P)):l==="mirror"&&(ge=N)),le=wr(0,1,rt)*P}const he=ie?{done:!1,value:r[0]}:ge.next(le);j&&(he.value=j(he.value));let{done:ue}=he;!ie&&_!==null&&(ue=x>=0?C>=M:C<=0);const nt=E===null&&(S==="finished"||S==="running"&&ue);return f&&f(he.value),nt&&D(),he},R=()=>{w&&w.stop(),w=void 0},U=()=>{S="idle",R(),h(),y(),O=T=null},D=()=>{S="finished",d&&d(),R(),h()},B=()=>{if(m)return;w||(w=n(I));const V=w.now();c&&c(),E!==null?O=V-E:(!O||S==="finished")&&(O=V),S==="finished"&&y(),T=O,E=null,S="running",w.start()};e&&B();const W={then(V,K){return g.then(V,K)},get time(){return An(C)},set time(V){V=xr(V),C=V,E!==null||!w||x===0?E=V:O=w.now()-V/x},get duration(){const V=k.calculatedDuration===null?t0(k):k.calculatedDuration;return An(V)},get speed(){return x},set speed(V){V===x||!w||(x=V,W.time=An(C))},get state(){return S},play:B,pause:()=>{S="paused",E=C},stop:()=>{m=!0,S!=="idle"&&(S="idle",u&&u(),U())},cancel:()=>{T!==null&&I(T),U()},complete:()=>{S="finished"},sample:V=>(O=0,I(V))};return W}function J3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Y3=J3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Q3=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ga=10,Z3=2e4,eO=(e,t)=>t.type==="spring"||e==="backgroundColor"||!v1(t.ease);function tO(e,t,{onUpdate:n,onComplete:r,...s}){if(!(Y3()&&Q3.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:p=300,ease:x,times:m}=s;if(eO(t,s)){const b=Ll({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const k=[];let N=0;for(;!j.done&&N<Z3;)j=b.sample(N),k.push(j.value),N+=ga;m=void 0,f=k,p=N-ga,x="linear"}const h=d3(e.owner.current,t,f,{...s,duration:p,ease:x,times:m}),g=()=>{u=!1,h.cancel()},y=()=>{u=!0,ye.update(g),l(),d()};return h.onfinish=()=>{u||(e.set(f3(f,s)),r&&r(),y())},{then(b,j){return c.then(b,j)},attachTimeline(b){return h.timeline=b,h.onfinish=null,Pe},get time(){return An(h.currentTime||0)},set time(b){h.currentTime=xr(b)},get speed(){return h.playbackRate},set speed(b){h.playbackRate=b},get duration(){return An(p)},play:()=>{i||(h.play(),Wn(g))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:b}=h;if(b){const j=Ll({...s,autoplay:!1});e.setWithVelocity(j.sample(b-ga).value,j.sample(b).value,ga)}y()},complete:()=>{u||h.finish()},cancel:y}}function nO({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pe,pause:Pe,stop:Pe,then:o=>(o(),Promise.resolve()),cancel:Pe,complete:Pe});return t?Ll({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const rO={type:"spring",stiffness:500,damping:25,restSpeed:10},sO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oO={type:"keyframes",duration:.8},iO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aO=(e,{keyframes:t})=>t.length>2?oO:rs.has(e)?e.startsWith("scale")?sO(t[1]):rO:iO,Cf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url(")),lO=new Set(["brightness","contrast","saturate","opacity"]);function cO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ic)||[];if(!r)return e;const s=n.replace(r,"");let o=lO.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const uO=/([a-z-]*)\(.*?\)/g,Tf={...jr,getAnimatableNone:e=>{const t=e.match(uO);return t?t.map(cO).join(" "):e}},dO={...n1,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Tf,WebkitFilter:Tf},xp=e=>dO[e];function U1(e,t){let n=xp(e);return n!==Tf&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const H1=e=>/^0[^.\s]+$/.test(e);function fO(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||H1(e)}function hO(e,t,n,r){const s=Cf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),fO(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=U1(t,l)}return o}function pO({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function yp(e,t){return e[t]||e.default||e}const mO={skipAnimations:!1},vp=(e,t,n,r={})=>s=>{const o=yp(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-xr(i);const c=hO(t,e,n,o),u=c[0],d=c[c.length-1],f=Cf(e,u),p=Cf(e,d);let x={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(pO(o)||(x={...x,...aO(e,x)}),x.duration&&(x.duration=xr(x.duration)),x.repeatDelay&&(x.repeatDelay=xr(x.repeatDelay)),!f||!p||u3.current||o.type===!1||mO.skipAnimations)return nO(x);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=tO(t,e,x);if(m)return m}return Ll(x)};function Il(e){return!!(vt(e)&&e.add)}const W1=e=>/^\-?\d*\.?\d+$/.test(e);function bp(e,t){e.indexOf(t)===-1&&e.push(t)}function wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jp{constructor(){this.subscriptions=[]}add(t){return bp(this.subscriptions,t),()=>wp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gO=e=>!isNaN(parseFloat(e));class xO{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Ye;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=gO(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jp);const r=this.events[t].add(n);return t==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?V1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hs(e,t){return new xO(e,t)}const G1=e=>t=>t.test(e),yO={test:e=>e==="auto",parse:e=>e},K1=[ss,te,jn,Qn,NT,kT,yO],So=e=>K1.find(G1(e)),vO=[...K1,st,jr],bO=e=>vO.find(G1(e));function wO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hs(n))}function jO(e,t){const n=Dc(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=$T(o[i]);wO(e,i,l)}}function SO(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(W1(d)||H1(d))?d=parseFloat(d):!bO(d)&&jr.test(u)&&(d=U1(c,u)),e.addValue(c,Hs(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function kO(e,t){return t?(t[e]||t.default||t).from:void 0}function NO(e,t,n){const r={};for(const s in e){const o=kO(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function EO({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function CO(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function X1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const p=e.getValue(f),x=l[f];if(!p||x===void 0||d&&EO(d,f))continue;const m={delay:n,elapsed:0,...yp(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[qb];if(y){const w=window.HandoffAppearAnimations(y,f,p,ye);w!==null&&(m.elapsed=w,m.isHandoff=!0)}}let h=!m.isHandoff&&!CO(p,x);if(m.type==="spring"&&(p.getVelocity()||m.velocity)&&(h=!1),p.animation&&(h=!1),h)continue;p.start(vp(f,p,x,e.shouldReduceMotion&&rs.has(f)?{type:!1}:m));const g=p.animation;Il(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return i&&Promise.all(u).then(()=>{i&&jO(e,i)}),u}function Of(e,t,n={}){const r=Dc(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(X1(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return TO(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function TO(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(OO).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Of(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function OO(e,t){return e.sortNodePosition(t)}function PO(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Of(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Of(e,t,n);else{const s=typeof t=="function"?Dc(e,t,n.custom):t;r=Promise.all(X1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const _O=[...rp].reverse(),RO=rp.length;function LO(e){return t=>Promise.all(t.map(({animation:n,options:r})=>PO(e,n,r)))}function IO(e){let t=LO(e);const n=DO();let r=!0;const s=(c,u)=>{const d=Dc(e,u);if(d){const{transition:f,transitionEnd:p,...x}=d;c={...c,...x,...p}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],x=new Set;let m={},h=1/0;for(let y=0;y<RO;y++){const w=_O[y],b=n[w],j=d[w]!==void 0?d[w]:f[w],k=mi(j),N=w===u?b.isActive:null;N===!1&&(h=y);let S=j===f[w]&&j!==d[w]&&k;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...m},!b.isActive&&N===null||!j&&!b.prevProp||Rc(j)||typeof j=="boolean")continue;let O=MO(b.prevProp,j)||w===u&&b.isActive&&!S&&k||y>h&&k,T=!1;const _=Array.isArray(j)?j:[j];let P=_.reduce(s,{});N===!1&&(P={});const{prevResolvedValues:M={}}=b,C={...M,...P},I=R=>{O=!0,x.has(R)&&(T=!0,x.delete(R)),b.needsAnimating[R]=!0};for(const R in C){const U=P[R],D=M[R];if(m.hasOwnProperty(R))continue;let B=!1;Pl(U)&&Pl(D)?B=!x1(U,D):B=U!==D,B?U!==void 0?I(R):x.add(R):U!==void 0&&x.has(R)?I(R):b.protectedKeys[R]=!0}b.prevProp=j,b.prevResolvedValues=P,b.isActive&&(m={...m,...P}),r&&e.blockInitialAnimation&&(O=!1),O&&(!S||T)&&p.push(..._.map(R=>({animation:R,options:{type:w,...c}})))}if(x.size){const y={};x.forEach(w=>{const b=e.getBaseTarget(w);b!==void 0&&(y[w]=b)}),p.push({animation:y})}let g=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(x=>{var m;return(m=x.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const p=i(d,c);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function MO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!x1(t,e):!1}function Or(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DO(){return{animate:Or(!0),whileInView:Or(),whileHover:Or(),whileTap:Or(),whileDrag:Or(),whileFocus:Or(),exit:Or()}}class AO extends Cr{constructor(t){super(t),t.animationState||(t.animationState=IO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Rc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let FO=0;class $O extends Cr{constructor(){super(...arguments),this.id=FO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const VO={animation:{Feature:AO},exit:{Feature:$O}},n0=(e,t)=>Math.abs(e-t);function BO(e,t){const n=n0(e.x,t.x),r=n0(e.y,t.y);return Math.sqrt(n**2+r**2)}class q1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ed(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=BO(f.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:m}=f,{timestamp:h}=Ye;this.history.push({...m,timestamp:h});const{onStart:g,onMove:y}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Zu(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:m,resumeAnimation:h}=this.handlers;if(this.dragSnapToOrigin&&h&&h(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ed(f.type==="pointercancel"?this.lastMoveEventInfo:Zu(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,g),m&&m(f,g)},!f1(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Mc(t),l=Zu(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ye;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ed(l,this.history)),this.removeListeners=gr(Dn(this.contextWindow,"pointermove",this.handlePointerMove),Dn(this.contextWindow,"pointerup",this.handlePointerUp),Dn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wn(this.updatePoint)}}function Zu(e,t){return t?{point:t(e.point)}:e}function r0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ed({point:e},t){return{point:e,delta:r0(e,J1(t)),offset:r0(e,zO(t)),velocity:UO(t,.1)}}function zO(e){return e[0]}function J1(e){return e[e.length-1]}function UO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=J1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>xr(t)));)n--;if(!r)return{x:0,y:0};const o=An(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ct(e){return e.max-e.min}function Pf(e,t=0,n=.01){return Math.abs(e-t)<=n}function s0(e,t,n,r=.5){e.origin=r,e.originPoint=Ee(t.min,t.max,e.origin),e.scale=Ct(n)/Ct(t),(Pf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ee(n.min,n.max,e.origin)-e.originPoint,(Pf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ko(e,t,n,r){s0(e.x,t.x,n.x,r?r.originX:void 0),s0(e.y,t.y,n.y,r?r.originY:void 0)}function o0(e,t,n){e.min=n.min+t.min,e.max=e.min+Ct(t)}function HO(e,t,n){o0(e.x,t.x,n.x),o0(e.y,t.y,n.y)}function i0(e,t,n){e.min=t.min-n.min,e.max=e.min+Ct(t)}function Xo(e,t,n){i0(e.x,t.x,n.x),i0(e.y,t.y,n.y)}function WO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ee(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ee(n,e,r.max):Math.min(e,n)),e}function a0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GO(e,{top:t,left:n,bottom:r,right:s}){return{x:a0(e.x,n,s),y:a0(e.y,t,r)}}function l0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KO(e,t){return{x:l0(e.x,t.x),y:l0(e.y,t.y)}}function XO(e,t){let n=.5;const r=Ct(e),s=Ct(t);return s>r?n=xi(t.min,t.max-r,e.min):r>s&&(n=xi(e.min,e.max-s,t.min)),wr(0,1,n)}function qO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _f=.35;function JO(e=_f){return e===!1?e=0:e===!0&&(e=_f),{x:c0(e,"left","right"),y:c0(e,"top","bottom")}}function c0(e,t,n){return{min:u0(e,t),max:u0(e,n)}}function u0(e,t){return typeof e=="number"?e:e[t]||0}const d0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:d0(),y:d0()}),f0=()=>({min:0,max:0}),Le=()=>({x:f0(),y:f0()});function At(e){return[e("x"),e("y")]}function Y1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function YO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function QO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function td(e){return e===void 0||e===1}function Rf({scale:e,scaleX:t,scaleY:n}){return!td(e)||!td(t)||!td(n)}function Rr(e){return Rf(e)||Q1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Q1(e){return h0(e.x)||h0(e.y)}function h0(e){return e&&e!=="0%"}function Ml(e,t,n){const r=e-n,s=t*r;return n+s}function p0(e,t,n,r,s){return s!==void 0&&(e=Ml(e,s,r)),Ml(e,n,r)+t}function Lf(e,t=0,n=1,r,s){e.min=p0(e.min,t,n,r,s),e.max=p0(e.max,t,n,r,s)}function Z1(e,{x:t,y:n}){Lf(e.x,t.translate,t.scale,t.originPoint),Lf(e.y,n.translate,n.scale,n.originPoint)}function ZO(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ks(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Z1(e,i)),r&&Rr(o.latestValues)&&ks(e,o.latestValues))}t.x=m0(t.x),t.y=m0(t.y)}function m0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function tr(e,t){e.min=e.min+t,e.max=e.max+t}function g0(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=Ee(e.min,e.max,o);Lf(e,t[n],t[r],i,t.scale)}const e5=["x","scaleX","originX"],t5=["y","scaleY","originY"];function ks(e,t){g0(e.x,t,e5),g0(e.y,t,t5)}function ew(e,t){return Y1(QO(e.getBoundingClientRect(),t))}function n5(e,t,n){const r=ew(e,n),{scroll:s}=t;return s&&(tr(r.x,s.offset.x),tr(r.y,s.offset.y)),r}const tw=({current:e})=>e?e.ownerDocument.defaultView:null,r5=new WeakMap;class s5{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mc(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:x,onDragStart:m}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=p1(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(g=>{let y=this.getAxisMotionValue(g).get()||0;if(jn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[g];b&&(y=Ct(b)*(parseFloat(y)/100))}}this.originPoint[g]=y}),m&&ye.update(()=>m(d,f),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:m,onDrag:h}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:g}=f;if(x&&this.currentDirection===null){this.currentDirection=o5(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),h&&h(d,f)},l=(d,f)=>this.stop(d,f),c=()=>At(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new q1(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ye.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!xa(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=WO(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&ws(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=GO(s.layoutBox,n):this.constraints=!1,this.elastic=JO(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&At(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=qO(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ws(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=n5(r,s.root,this.visualElement.getTransformPagePoint());let i=KO(s.layout.layoutBox,o);if(n){const l=n(YO(i));this.hasMutatedConstraints=!!l,l&&(i=Y1(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=At(d=>{if(!xa(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const p=s?200:1e6,x=s?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vp(t,r,0,n))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){At(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){At(n=>{const{drag:r}=this.getProps();if(!xa(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-Ee(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ws(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};At(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=XO({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),At(i=>{if(!xa(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ee(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;r5.set(this.visualElement,this);const t=this.visualElement.current,n=Dn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ws(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Rn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(At(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=_f,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function xa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function o5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class i5 extends Cr{constructor(t){super(t),this.removeGroupControls=Pe,this.removeListeners=Pe,this.controls=new s5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pe}unmount(){this.removeGroupControls(),this.removeListeners()}}const x0=e=>(t,n)=>{e&&ye.update(()=>e(t,n))};class a5 extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Pe}onPointerDown(t){this.session=new q1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:x0(t),onStart:x0(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&ye.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=Dn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function l5(){const e=v.useContext(Pc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=v.useId();return v.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ko={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=y0(e,t.target.x),r=y0(e,t.target.y);return`${n}% ${r}%`}},c5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=jr.parse(e);if(s.length>5)return r;const o=jr.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Ee(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class u5 extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;xT(d5),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||ye.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nw(e){const[t,n]=l5(),r=v.useContext(op);return J.createElement(u5,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(Yb),isPresent:t,safeToRemove:n})}const d5={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:c5},rw=["TopLeft","TopRight","BottomLeft","BottomRight"],f5=rw.length,v0=e=>typeof e=="string"?parseFloat(e):e,b0=e=>typeof e=="number"||te.test(e);function h5(e,t,n,r,s,o){s?(e.opacity=Ee(0,n.opacity!==void 0?n.opacity:1,p5(r)),e.opacityExit=Ee(t.opacity!==void 0?t.opacity:1,0,m5(r))):o&&(e.opacity=Ee(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<f5;i++){const l=`border${rw[i]}Radius`;let c=w0(t,l),u=w0(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||b0(c)===b0(u)?(e[l]=Math.max(Ee(v0(c),v0(u),r),0),(jn.test(u)||jn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ee(t.rotate||0,n.rotate||0,r))}function w0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p5=sw(0,.5,E1),m5=sw(.5,.95,Pe);function sw(e,t,n){return r=>r<e?0:r>t?1:n(xi(e,t,r))}function j0(e,t){e.min=t.min,e.max=t.max}function Dt(e,t){j0(e.x,t.x),j0(e.y,t.y)}function S0(e,t,n,r,s){return e-=t,e=Ml(e,1/n,r),s!==void 0&&(e=Ml(e,1/s,r)),e}function g5(e,t=0,n=1,r=.5,s,o=e,i=e){if(jn.test(t)&&(t=parseFloat(t),t=Ee(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Ee(o.min,o.max,r);e===o&&(l-=t),e.min=S0(e.min,t,n,l,s),e.max=S0(e.max,t,n,l,s)}function k0(e,t,[n,r,s],o,i){g5(e,t[n],t[r],t[s],t.scale,o,i)}const x5=["x","scaleX","originX"],y5=["y","scaleY","originY"];function N0(e,t,n,r){k0(e.x,t,x5,n?n.x:void 0,r?r.x:void 0),k0(e.y,t,y5,n?n.y:void 0,r?r.y:void 0)}function E0(e){return e.translate===0&&e.scale===1}function ow(e){return E0(e.x)&&E0(e.y)}function v5(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function iw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function C0(e){return Ct(e.x)/Ct(e.y)}class b5{constructor(){this.members=[]}add(t){bp(this.members,t),t.scheduleRender()}remove(t){if(wp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T0(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const w5=(e,t)=>e.depth-t.depth;class j5{constructor(){this.children=[],this.isDirty=!1}add(t){bp(this.children,t),this.isDirty=!0}remove(t){wp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(w5),this.isDirty=!1,this.children.forEach(t)}}function S5(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Wn(r),e(o-t))};return ye.read(r,!0),()=>Wn(r)}function k5(e){window.MotionDebug&&window.MotionDebug.record(e)}function N5(e){return e instanceof SVGElement&&e.tagName!=="svg"}function E5(e,t,n){const r=vt(e)?e:Hs(e);return r.start(vp("",r,t,n)),r.animation}const O0=["","X","Y","Z"],C5={visibility:"hidden"},P0=1e3;let T5=0;const Lr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function aw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=T5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lr.totalNodes=Lr.resolvedTargetDeltas=Lr.recalculatedProjection=0,this.nodes.forEach(_5),this.nodes.forEach(D5),this.nodes.forEach(A5),this.nodes.forEach(R5),k5(Lr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new j5)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new jp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=N5(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=S5(p,250),Wa.hasAnimatedSinceResize&&(Wa.hasAnimatedSinceResize=!1,this.nodes.forEach(R0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||d.getDefaultTransition()||z5,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),w=!this.targetLayout||!iw(this.targetLayout,m)||x,b=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...yp(h,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||R0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F5),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_0);return}this.isUpdating||this.nodes.forEach(I5),this.isUpdating=!1,this.nodes.forEach(M5),this.nodes.forEach(O5),this.nodes.forEach(P5),this.clearAllSnapshots();const l=performance.now();Ye.delta=wr(0,1e3/60,l-Ye.timestamp),Ye.timestamp=l,Ye.isProcessing=!0,Wu.update.process(Ye),Wu.preRender.process(Ye),Wu.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(L5),this.sharedNodes.forEach($5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ow(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Rr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),U5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Le();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(tr(l.x,c.offset.x),tr(l.y,c.offset.y)),l}removeElementScroll(i){const l=Le();Dt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Dt(l,i);const{scroll:p}=this.root;p&&(tr(l.x,-p.offset.x),tr(l.y,-p.offset.y))}tr(l.x,d.offset.x),tr(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Le();Dt(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ks(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rr(d.latestValues)&&ks(c,d.latestValues)}return Rr(this.latestValues)&&ks(c,this.latestValues),c}removeTransform(i){const l=Le();Dt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rr(u.latestValues))continue;Rf(u.latestValues)&&u.updateSnapshot();const d=Le(),f=u.measurePageBox();Dt(d,f),N0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rr(this.latestValues)&&N0(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Xo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dt(this.target,this.layout.layoutBox),Z1(this.target,this.targetDelta)):Dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Xo(this.relativeTargetOrigin,this.target,x.target),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rf(this.parent.latestValues)||Q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Dt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;ZO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:m}=l;if(!m){this.projectionTransform&&(this.projectionDelta=Ss(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss());const h=this.projectionTransform;Ko(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=T0(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Lr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Le(),x=c?c.source:void 0,m=this.layout?this.layout.source:void 0,h=x!==m,g=this.getStack(),y=!g||g.members.length<=1,w=!!(h&&!y&&this.options.crossfade===!0&&!this.path.some(B5));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const k=j/1e3;L0(f.x,i.x,k),L0(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V5(this.relativeTarget,this.relativeTargetOrigin,p,k),b&&v5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Le()),Dt(b,this.relativeTarget)),h&&(this.animationValues=d,h5(d,u,this.latestValues,k,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Wa.hasAnimatedSinceResize=!0,this.currentAnimation=E5(0,P0,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&lw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Le();const f=Ct(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const p=Ct(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Dt(l,c),ks(l,d),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new b5),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<O0.length;d++){const f="rotate"+O0[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return C5;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ha(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Ha(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Rr(this.latestValues)&&(h.transform=d?d({},""):"none",this.hasProjected=!1),h}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=T0(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x,y:m}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const h in Tl){if(p[h]===void 0)continue;const{correct:g,applyTo:y}=Tl[h],w=u.transform==="none"?p[h]:g(p[h],f);if(y){const b=y.length;for(let j=0;j<b;j++)u[y[j]]=w}else u[h]=w}return this.options.layoutId&&(u.pointerEvents=f===this?Ha(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_0),this.root.sharedNodes.clear()}}}function O5(e){e.updateLayout()}function P5(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?At(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],x=Ct(p);p.min=r[f].min,p.max=p.min+x}):lw(o,n.layoutBox,r)&&At(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],x=Ct(r[f]);p.max=p.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=Ss();Ko(l,r,n.layoutBox);const c=Ss();i?Ko(c,e.applyTransform(s,!0),n.measuredBox):Ko(c,r,n.layoutBox);const u=!ow(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const m=Le();Xo(m,n.layoutBox,p.layoutBox);const h=Le();Xo(h,r,x.layoutBox),iw(m,h)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=h,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _5(e){Lr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function R5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L5(e){e.clearSnapshot()}function _0(e){e.clearMeasurements()}function I5(e){e.isLayoutDirty=!1}function M5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function R0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function D5(e){e.resolveTargetDelta()}function A5(e){e.calcProjection()}function F5(e){e.resetRotation()}function $5(e){e.removeLeadSnapshot()}function L0(e,t,n){e.translate=Ee(t.translate,0,n),e.scale=Ee(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function I0(e,t,n,r){e.min=Ee(t.min,n.min,r),e.max=Ee(t.max,n.max,r)}function V5(e,t,n,r){I0(e.x,t.x,n.x,r),I0(e.y,t.y,n.y,r)}function B5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const z5={duration:.45,ease:[.4,0,.1,1]},M0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),D0=M0("applewebkit/")&&!M0("chrome/")?Math.round:Pe;function A0(e){e.min=D0(e.min),e.max=D0(e.max)}function U5(e){A0(e.x),A0(e.y)}function lw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Pf(C0(t),C0(n),.2)}const H5=aw({attachResizeListener:(e,t)=>Rn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nd={current:void 0},cw=aw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nd.current){const e=new H5({});e.mount(window),e.setOptions({layoutScroll:!0}),nd.current=e}return nd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),W5={pan:{Feature:a5},drag:{Feature:i5,ProjectionNode:cw,MeasureLayout:nw}},G5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function K5(e){const t=G5.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function If(e,t,n=1){const[r,s]=K5(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return W1(i)?parseFloat(i):i}else return Sf(s)?If(s,t,n+1):s}function X5(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!Sf(o))return;const i=If(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!Sf(o))continue;const i=If(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const q5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uw=e=>q5.has(e),J5=e=>Object.keys(e).some(uw),F0=e=>e===ss||e===te,$0=(e,t)=>parseFloat(e.split(", ")[t]),V0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return $0(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?$0(o[1],e):0}},Y5=new Set(["x","y","z"]),Q5=Mi.filter(e=>!Y5.has(e));function Z5(e){const t=[];return Q5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ws={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:V0(4,13),y:V0(5,14)};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const eP=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Ws[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ws[u](c,o)}),e},tP=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(uw);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=So(d);const p=t[c];let x;if(Pl(p)){const m=p.length,h=p[0]===null?1:0;d=p[h],f=So(d);for(let g=h;g<m&&p[g]!==null;g++)x?hp(So(p[g])===x):x=So(p[g])}else x=So(p);if(f!==x)if(F0(f)&&F0(x)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&x===te&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(d===0||p===0)?d===0?u.set(x.transform(d)):t[c]=f.transform(p):(i||(o=Z5(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=eP(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),_c&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function nP(e,t,n,r){return J5(t)?tP(e,t,n,r):{target:t,transitionEnd:r}}const rP=(e,t,n,r)=>{const s=X5(e,t,r);return t=s.target,r=s.transitionEnd,nP(e,t,n,r)},Mf={current:null},dw={current:!1};function sP(){if(dw.current=!0,!!_c)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mf.current=e.matches;e.addListener(t),t()}else Mf.current=!1}function oP(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(vt(o))e.addValue(s,o),Il(r)&&r.add(s);else if(vt(i))e.addValue(s,Hs(o,{owner:e})),Il(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,Hs(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const B0=new WeakMap,fw=Object.keys(gi),iP=fw.length,z0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aP=sp.length;class lP{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Lc(n),this.isVariantNode=Jb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&vt(p)&&(p.set(l[f],!1),Il(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,B0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dw.current||sP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){B0.delete(this.current),this.projection&&this.projection.unmount(),Wn(this.notifyUpdate),Wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=rs.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<iP;c++){const u=fw[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:x}=gi[u];p&&(i=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ws(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:x})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<z0.length;r++){const s=z0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=oP(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<aP;r++){const s=sp[r],o=this.props[s];(mi(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Hs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=fp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hw extends lP{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=NO(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){SO(this,r,i);const l=rP(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function cP(e){return window.getComputedStyle(e)}class uP extends hw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(rs.has(n)){const r=xp(n);return r&&r.default||0}else{const r=cP(t),s=(e1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ew(t,n)}build(t,n,r,s){ap(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return dp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){i1(t,n,r,s)}}class dP extends hw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rs.has(n)){const r=xp(n);return r&&r.default||0}return n=a1.has(n)?n:np(n),t.getAttribute(n)}measureInstanceViewportBox(){return Le()}scrapeMotionValuesFromProps(t,n){return c1(t,n)}build(t,n,r,s){cp(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){l1(t,n,r,s)}mount(t){this.isSVGTag=up(t.tagName),super.mount(t)}}const fP=(e,t)=>ip(e)?new dP(t,{enableHardwareAcceleration:!1}):new uP(t,{enableHardwareAcceleration:!0}),hP={layout:{ProjectionNode:cw,MeasureLayout:nw}},pP={...VO,...i3,...W5,...hP},kn=mT((e,t)=>KT(e,t,pP,fP));function pw(){const e=v.useRef(!1);return tp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mP(){const e=pw(),[t,n]=v.useState(0),r=v.useCallback(()=>{e.current&&n(t+1)},[t]);return[v.useCallback(()=>ye.postRender(r),[r]),t]}class gP extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xP({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(gP,{isPresent:t,childRef:r,sizeRef:s},v.cloneElement(e,{ref:r}))}const rd=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=u1(yP),c=v.useId(),u=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=v.createElement(xP,{isPresent:n},e)),v.createElement(Pc.Provider,{value:u},e)};function yP(){return new Map}function vP(e){return v.useEffect(()=>()=>e(),[])}const Ir=e=>e.key||"";function bP(e,t){e.forEach(n=>{const r=Ir(n);t.set(r,n)})}function wP(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const $i=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=v.useContext(op).forceRender||mP()[0],c=pw(),u=wP(e);let d=u;const f=v.useRef(new Map).current,p=v.useRef(d),x=v.useRef(new Map).current,m=v.useRef(!0);if(tp(()=>{m.current=!1,bP(u,x),p.current=d}),vP(()=>{m.current=!0,x.clear(),f.clear()}),m.current)return v.createElement(v.Fragment,null,d.map(w=>v.createElement(rd,{key:Ir(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},w)));d=[...d];const h=p.current.map(Ir),g=u.map(Ir),y=h.length;for(let w=0;w<y;w++){const b=h[w];g.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((w,b)=>{if(g.indexOf(b)!==-1)return;const j=x.get(b);if(!j)return;const k=h.indexOf(b);let N=w;if(!N){const S=()=>{f.delete(b);const E=Array.from(x.keys()).filter(O=>!g.includes(O));if(E.forEach(O=>x.delete(O)),p.current=u.filter(O=>{const T=Ir(O);return T===b||E.includes(T)}),!f.size){if(c.current===!1)return;l(),r&&r()}};N=v.createElement(rd,{key:Ir(j),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:i},j),f.set(b,N)}d.splice(k,0,N)}),d=d.map(w=>{const b=w.key;return f.has(b)?w:v.createElement(rd,{key:Ir(w),isPresent:!0,presenceAffectsLayout:o,mode:i},w)}),v.createElement(v.Fragment,null,f.size?d:d.map(w=>v.cloneElement(w)))},jP=J.memo(({user:e,isSelected:t,onToggle:n})=>{var o;const r=e.roles||[],s=i=>{switch(i){case"ROLE_ADMIN":return"bg-orange-100 text-orange-700";case"ROLE_COOK":return"bg-green-100 text-green-700";case"ROLE_RECEPTION":return"bg-blue-100 text-blue-700";case"ROLE_OTHER":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return a.jsx("div",{onClick:()=>n(e.id),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${t?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((o=e.name)==null?void 0:o.charAt(0).toUpperCase())||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:e.name||" "}),r.map((i,l)=>a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s(i.name)}`,children:i.name.replace("ROLE_","")},l))]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.phone||" "})]})]}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${t?"bg-blue-500 border-blue-500":"bg-white border-gray-300"}`,children:t&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})})});function SP({isOpen:e,onClose:t,onChatCreated:n}){const[r,s]=v.useState(""),[o,i]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!1),[f,p]=v.useState(!1),[x,m]=v.useState(""),[h,g]=v.useState(null);v.useEffect(()=>{if(e){document.body.style.overflow="hidden";const k=N=>N.key==="Escape"&&(t==null?void 0:t());return window.addEventListener("keydown",k),()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",k)}}},[e,t]),v.useEffect(()=>{e&&y()},[e]);const y=async()=>{d(!0);try{const k=await H("/api/v1/admin/all-users","GET"),N=Array.isArray(k.data)?k.data:[],S=N.filter(T=>{var _;return!((_=T.roles)!=null&&_.some(P=>P.name==="ROLE_ADMIN"))});i(S);const E=localStorage.getItem("phone"),O=N.find(T=>T.phone===E);O?(console.log("   :",O),g(O)):console.warn("      :",E)}catch(k){console.error("  :",k),A.error("   ")}finally{d(!1)}},w=v.useMemo(()=>{if(!x)return o;const k=x.toLowerCase();return o.filter(N=>{var S,E,O;return((S=N.name)==null?void 0:S.toLowerCase().includes(k))||((E=N.phone)==null?void 0:E.toLowerCase().includes(k))||((O=N.roles)==null?void 0:O.some(T=>{var _;return(_=T.name)==null?void 0:_.toLowerCase().includes(k.replace("role_",""))}))})},[o,x]),b=k=>{c(N=>N.includes(k)?N.filter(S=>S!==k):[...N,k])},j=async()=>{var N;const k=r.trim();if(!k)return A.warn("  ");if(l.length===0)return A.warn("    ");if(!h)return A.error("   ");p(!0);try{const S={name:k,creatorId:h.id,members:l};console.log("  :",S);const E=await H("/api/v1/chats","POST",S);if(console.log("   :",E.data),!((N=E.data)!=null&&N.id)){A.error("     "),t==null||t();return}console.log("  :",E),console.log("    onChatCreated:",E.data),A.success(`  "${E.data.name}" !`),n==null||n(E.data),t==null||t()}catch(S){console.error("    :",S),A.error("   ")}finally{p(!1)}};return a.jsx($i,{children:e&&a.jsx(kn.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:k=>k.target===k.currentTarget&&(t==null?void 0:t()),children:a.jsxs(kn.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",stiffness:150,damping:20},className:"relative bg-white rounded-2xl shadow-2xl w-[90%] max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-2xl font-bold",children:""}),a.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),a.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),a.jsx("input",{type:"text",placeholder:"  ...",value:r,onChange:k=>s(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx("input",{type:"text",placeholder:"    ...",value:x,onChange:k=>m(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),a.jsx("div",{className:"h-64 overflow-y-auto border border-gray-300 rounded-lg p-4 space-y-2 bg-gray-50",children:u?a.jsx("div",{className:"text-center text-gray-400",children:"..."}):w.length===0?a.jsx("div",{className:"text-center text-gray-400",children:"   "}):w.map(k=>a.jsx(jP,{user:k,isSelected:l.includes(k.id),onToggle:b},k.id))}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:""}),a.jsx("button",{onClick:j,disabled:f||!r.trim()||l.length===0,className:"px-5 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 disabled:opacity-60 disabled:cursor-not-allowed",children:f?"...":" "})]})]})]})})})}const kP=J.memo(SP);const NP=({timestamp:e})=>{if(!e)return null;const t=n=>{const r=new Date,s=new Date(n),o=(r-s)/(1e3*60*60);return o<24?s.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):o<168?s.toLocaleDateString("ru-RU",{weekday:"short"}):s.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})};return a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:t(e)})},EP=({name:e,unreadCount:t,isOnline:n})=>{const r=v.useMemo(()=>(e==null?void 0:e.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2))||"??",[e]);return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:r}),n&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"}),t>0&&a.jsx("div",{className:"absolute -top-1 -right-1 min-w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]})},CP=()=>a.jsx("div",{className:"p-3 border-b animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})});function TP({chats:e=[],onSelect:t,selectedChat:n,isLoading:r=!1,onSearch:s,searchQuery:o="",className:i="",onChatCreated:l,user:c}){const[u,d]=v.useState(!1),f=JSON.parse(localStorage.getItem("roles")||"[]"),p=f.length>0?f[0].name:"ROLE_OTHER",x=v.useMemo(()=>{if(!o)return e;const m=o.toLowerCase();return e.filter(h=>{var g,y,w,b,j;return((g=h.name)==null?void 0:g.toLowerCase().includes(m))||((w=(y=h.lastMessage)==null?void 0:y.message)==null?void 0:w.toLowerCase().includes(m))||((j=(b=h.lastMessage)==null?void 0:b.content)==null?void 0:j.toLowerCase().includes(m))})},[e,o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`bg-white border-r border-gray-200 flex flex-col shadow-sm ${i}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),a.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm hover:opacity-90 transition",children:a.jsx(Xr,{size:18,strokeWidth:2})})]}),s&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:" ...",value:o,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 pl-10 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200 text-sm"}),a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:r?Array.from({length:8}).map((m,h)=>a.jsx(CP,{},h)):x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:""}),a.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:o?"  ":" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:o?"   ":"  "})]}):x.map(m=>{var k;if(!(m!=null&&m.id))return null;const h=m.lastMessage,g=(h==null?void 0:h.createdAt)||(h==null?void 0:h.timestamp)||m.lastMessageTime,y=(n==null?void 0:n.id)===m.id,w=m.unreadCount||0,b=m.isOnline||!1;let j="";if(h!=null&&h.file){const N=h.file.name||"",S=N.includes("_")?N.split("_").slice(1).join("_"):N,E=22;j=` ${S.length>E?`${S.slice(0,10)}...${S.slice(-7)}`:S}`}else j=typeof h=="string"?h:(h==null?void 0:h.message)||(h==null?void 0:h.content)||(h==null?void 0:h.text)||" ";return a.jsx("div",{onClick:()=>t==null?void 0:t(m),className:`p-3 border-b border-gray-50 cursor-pointer transition-all duration-200 group ${y?"bg-gradient-to-r from-blue-50 to-blue-25 border-l-4 border-l-blue-500":"hover:bg-gray-50 hover:border-l-4 hover:border-l-gray-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(EP,{name:m.name,unreadCount:w,isOnline:b}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${y?"text-blue-700":"text-gray-800"}`,children:m.name||" "}),a.jsx(NP,{timestamp:g})]}),a.jsx("p",{className:`text-sm truncate flex-1 ${w>0?"text-gray-800 font-medium":"text-gray-500"}`,title:((k=h==null?void 0:h.file)==null?void 0:k.name)||j,children:j})]})]})},m.id)})}),p==="ROLE_ADMIN"&&a.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:a.jsx("button",{onClick:()=>d(!0),className:"w-full py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:"+   "})})]}),a.jsx($i,{children:u&&a.jsx(kn.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(kn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-2xl w-[90%] max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-xl",children:""}),a.jsx(kP,{isOpen:u,onClose:()=>d(!1),onChatCreated:m=>{d(!1),m!=null&&m.id&&(l==null||l(m))}})]})})})]})}const OP=J.memo(TP);function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function PP(e,t){if(Qr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mw(e){var t=PP(e,"string");return Qr(t)=="symbol"?t:t+""}function Ro(e,t,n){return(t=mw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(n),!0).forEach(function(r){Ro(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _P(e){if(Array.isArray(e))return e}function RP(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function Df(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gw(e,t){if(e){if(typeof e=="string")return Df(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}function LP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fn(e,t){return _P(e)||RP(e,t)||gw(e,t)||LP()}function IP(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kn(e,t){if(e==null)return{};var n,r,s=IP(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var MP=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function DP(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,s=r===void 0?!1:r,o=e.defaultValue,i=o===void 0?null:o,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,x=e.value,m=Kn(e,MP),h=v.useState(l!==void 0?l:n),g=Fn(h,2),y=g[0],w=g[1],b=v.useState(c!==void 0?c:s),j=Fn(b,2),k=j[0],N=j[1],S=v.useState(x!==void 0?x:i),E=Fn(S,2),O=E[0],T=E[1],_=v.useCallback(function(D,B){typeof u=="function"&&u(D,B),T(D)},[u]),P=v.useCallback(function(D,B){var W;typeof d=="function"&&(W=d(D,B)),w(W!==void 0?W:D)},[d]),M=v.useCallback(function(){typeof p=="function"&&p(),N(!0)},[p]),C=v.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),I=l!==void 0?l:y,R=c!==void 0?c:k,U=x!==void 0?x:O;return Z(Z({},m),{},{inputValue:I,menuIsOpen:R,onChange:_,onInputChange:P,onMenuClose:C,onMenuOpen:M,value:U})}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(null,arguments)}function AP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mw(r.key),r)}}function FP(e,t,n){return t&&H0(e.prototype,t),n&&H0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Af(e,t){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Af(e,t)}function $P(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Af(e,t)}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dl(e)}function xw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xw=function(){return!!e})()}function VP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(e,t){if(t&&(Qr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VP(e)}function zP(e){var t=xw();return function(){var n,r=Dl(e);if(t){var s=Dl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return BP(this,n)}}function UP(e){if(Array.isArray(e))return Df(e)}function HP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sp(e){return UP(e)||HP(e)||gw(e)||WP()}var GP=!1;function KP(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function XP(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var qP=function(){function e(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!GP:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XP(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=KP(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Je="-ms-",Al="-moz-",de="-webkit-",yw="comm",kp="rule",Np="decl",JP="@import",vw="@keyframes",YP="@layer",QP=Math.abs,Ac=String.fromCharCode,ZP=Object.assign;function e_(e,t){return We(e,0)^45?(((t<<2^We(e,0))<<2^We(e,1))<<2^We(e,2))<<2^We(e,3):0}function bw(e){return e.trim()}function t_(e,t){return(e=t.exec(e))?e[0]:e}function fe(e,t,n){return e.replace(t,n)}function Ff(e,t){return e.indexOf(t)}function We(e,t){return e.charCodeAt(t)|0}function yi(e,t,n){return e.slice(t,n)}function gn(e){return e.length}function Ep(e){return e.length}function ya(e,t){return t.push(e),e}function n_(e,t){return e.map(t).join("")}var Fc=1,Gs=1,ww=0,bt=0,Ie=0,no="";function $c(e,t,n,r,s,o,i){return{value:e,root:t,parent:n,type:r,props:s,children:o,line:Fc,column:Gs,length:i,return:""}}function No(e,t){return ZP($c("",null,null,"",null,null,0),e,{length:-e.length},t)}function r_(){return Ie}function s_(){return Ie=bt>0?We(no,--bt):0,Gs--,Ie===10&&(Gs=1,Fc--),Ie}function Nt(){return Ie=bt<ww?We(no,bt++):0,Gs++,Ie===10&&(Gs=1,Fc++),Ie}function Sn(){return We(no,bt)}function Ga(){return bt}function Vi(e,t){return yi(no,e,t)}function vi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jw(e){return Fc=Gs=1,ww=gn(no=e),bt=0,[]}function Sw(e){return no="",e}function Ka(e){return bw(Vi(bt-1,$f(e===91?e+2:e===40?e+1:e)))}function o_(e){for(;(Ie=Sn())&&Ie<33;)Nt();return vi(e)>2||vi(Ie)>3?"":" "}function i_(e,t){for(;--t&&Nt()&&!(Ie<48||Ie>102||Ie>57&&Ie<65||Ie>70&&Ie<97););return Vi(e,Ga()+(t<6&&Sn()==32&&Nt()==32))}function $f(e){for(;Nt();)switch(Ie){case e:return bt;case 34:case 39:e!==34&&e!==39&&$f(Ie);break;case 40:e===41&&$f(e);break;case 92:Nt();break}return bt}function a_(e,t){for(;Nt()&&e+Ie!==47+10;)if(e+Ie===42+42&&Sn()===47)break;return"/*"+Vi(t,bt-1)+"*"+Ac(e===47?e:Nt())}function l_(e){for(;!vi(Sn());)Nt();return Vi(e,bt)}function c_(e){return Sw(Xa("",null,null,null,[""],e=jw(e),0,[0],e))}function Xa(e,t,n,r,s,o,i,l,c){for(var u=0,d=0,f=i,p=0,x=0,m=0,h=1,g=1,y=1,w=0,b="",j=s,k=o,N=r,S=b;g;)switch(m=w,w=Nt()){case 40:if(m!=108&&We(S,f-1)==58){Ff(S+=fe(Ka(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=Ka(w);break;case 9:case 10:case 13:case 32:S+=o_(m);break;case 92:S+=i_(Ga()-1,7);continue;case 47:switch(Sn()){case 42:case 47:ya(u_(a_(Nt(),Ga()),t,n),c);break;default:S+="/"}break;case 123*h:l[u++]=gn(S)*y;case 125*h:case 59:case 0:switch(w){case 0:case 125:g=0;case 59+d:y==-1&&(S=fe(S,/\f/g,"")),x>0&&gn(S)-f&&ya(x>32?G0(S+";",r,n,f-1):G0(fe(S," ","")+";",r,n,f-2),c);break;case 59:S+=";";default:if(ya(N=W0(S,t,n,u,d,s,l,b,j=[],k=[],f),o),w===123)if(d===0)Xa(S,t,N,N,j,o,f,l,k);else switch(p===99&&We(S,3)===110?100:p){case 100:case 108:case 109:case 115:Xa(e,N,N,r&&ya(W0(e,N,N,0,0,s,l,b,s,j=[],f),k),s,k,f,l,r?j:k);break;default:Xa(S,N,N,N,[""],k,0,l,k)}}u=d=x=0,h=y=1,b=S="",f=i;break;case 58:f=1+gn(S),x=m;default:if(h<1){if(w==123)--h;else if(w==125&&h++==0&&s_()==125)continue}switch(S+=Ac(w),w*h){case 38:y=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(gn(S)-1)*y,y=1;break;case 64:Sn()===45&&(S+=Ka(Nt())),p=Sn(),d=f=gn(b=S+=l_(Ga())),w++;break;case 45:m===45&&gn(S)==2&&(h=0)}}return o}function W0(e,t,n,r,s,o,i,l,c,u,d){for(var f=s-1,p=s===0?o:[""],x=Ep(p),m=0,h=0,g=0;m<r;++m)for(var y=0,w=yi(e,f+1,f=QP(h=i[m])),b=e;y<x;++y)(b=bw(h>0?p[y]+" "+w:fe(w,/&\f/g,p[y])))&&(c[g++]=b);return $c(e,t,n,s===0?kp:l,c,u,d)}function u_(e,t,n){return $c(e,t,n,yw,Ac(r_()),yi(e,2,-2),0)}function G0(e,t,n,r){return $c(e,t,n,Np,yi(e,0,r),yi(e,r+1,-1),r)}function Ls(e,t){for(var n="",r=Ep(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function d_(e,t,n,r){switch(e.type){case YP:if(e.children.length)break;case JP:case Np:return e.return=e.return||e.value;case yw:return"";case vw:return e.return=e.value+"{"+Ls(e.children,r)+"}";case kp:e.value=e.props.join(",")}return gn(n=Ls(e.children,r))?e.return=e.value+"{"+n+"}":""}function f_(e){var t=Ep(e);return function(n,r,s,o){for(var i="",l=0;l<t;l++)i+=e[l](n,r,s,o)||"";return i}}function h_(e){return function(t){t.root||(t=t.return)&&e(t)}}function p_(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var m_=function(t,n,r){for(var s=0,o=0;s=o,o=Sn(),s===38&&o===12&&(n[r]=1),!vi(o);)Nt();return Vi(t,bt)},g_=function(t,n){var r=-1,s=44;do switch(vi(s)){case 0:s===38&&Sn()===12&&(n[r]=1),t[r]+=m_(bt-1,n,r);break;case 2:t[r]+=Ka(s);break;case 4:if(s===44){t[++r]=Sn()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Ac(s)}while(s=Nt());return t},x_=function(t,n){return Sw(g_(jw(t),n))},K0=new WeakMap,y_=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!K0.get(r))&&!s){K0.set(t,!0);for(var o=[],i=x_(n,o),l=r.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=o[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},v_=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function kw(e,t){switch(e_(e,t)){case 5103:return de+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return de+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return de+e+Al+e+Je+e+e;case 6828:case 4268:return de+e+Je+e+e;case 6165:return de+e+Je+"flex-"+e+e;case 5187:return de+e+fe(e,/(\w+).+(:[^]+)/,de+"box-$1$2"+Je+"flex-$1$2")+e;case 5443:return de+e+Je+"flex-item-"+fe(e,/flex-|-self/,"")+e;case 4675:return de+e+Je+"flex-line-pack"+fe(e,/align-content|flex-|-self/,"")+e;case 5548:return de+e+Je+fe(e,"shrink","negative")+e;case 5292:return de+e+Je+fe(e,"basis","preferred-size")+e;case 6060:return de+"box-"+fe(e,"-grow","")+de+e+Je+fe(e,"grow","positive")+e;case 4554:return de+fe(e,/([^-])(transform)/g,"$1"+de+"$2")+e;case 6187:return fe(fe(fe(e,/(zoom-|grab)/,de+"$1"),/(image-set)/,de+"$1"),e,"")+e;case 5495:case 3959:return fe(e,/(image-set\([^]*)/,de+"$1$`$1");case 4968:return fe(fe(e,/(.+:)(flex-)?(.*)/,de+"box-pack:$3"+Je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+de+e+e;case 4095:case 3583:case 4068:case 2532:return fe(e,/(.+)-inline(.+)/,de+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gn(e)-1-t>6)switch(We(e,t+1)){case 109:if(We(e,t+4)!==45)break;case 102:return fe(e,/(.+:)(.+)-([^]+)/,"$1"+de+"$2-$3$1"+Al+(We(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ff(e,"stretch")?kw(fe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(We(e,t+1)!==115)break;case 6444:switch(We(e,gn(e)-3-(~Ff(e,"!important")&&10))){case 107:return fe(e,":",":"+de)+e;case 101:return fe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+de+(We(e,14)===45?"inline-":"")+"box$3$1"+de+"$2$3$1"+Je+"$2box$3")+e}break;case 5936:switch(We(e,t+11)){case 114:return de+e+Je+fe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return de+e+Je+fe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return de+e+Je+fe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return de+e+Je+e+e}return e}var b_=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case Np:t.return=kw(t.value,t.length);break;case vw:return Ls([No(t,{value:fe(t.value,"@","@"+de)})],s);case kp:if(t.length)return n_(t.props,function(o){switch(t_(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ls([No(t,{props:[fe(o,/:(read-\w+)/,":"+Al+"$1")]})],s);case"::placeholder":return Ls([No(t,{props:[fe(o,/:(plac\w+)/,":"+de+"input-$1")]}),No(t,{props:[fe(o,/:(plac\w+)/,":"+Al+"$1")]}),No(t,{props:[fe(o,/:(plac\w+)/,Je+"input-$1")]})],s)}return""})}},w_=[b_],j_=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(h){var g=h.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var s=t.stylisPlugins||w_,o={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(h){for(var g=h.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)o[g[y]]=!0;l.push(h)});var c,u=[y_,v_];{var d,f=[d_,h_(function(h){d.insert(h)})],p=f_(u.concat(s,f)),x=function(g){return Ls(c_(g),p)};c=function(g,y,w,b){d=w,x(g?g+"{"+y.styles+"}":y.styles),b&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new qP({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return m.sheet.hydrate(l),m},Nw={exports:{}},me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=typeof Symbol=="function"&&Symbol.for,Cp=Ue?Symbol.for("react.element"):60103,Tp=Ue?Symbol.for("react.portal"):60106,Vc=Ue?Symbol.for("react.fragment"):60107,Bc=Ue?Symbol.for("react.strict_mode"):60108,zc=Ue?Symbol.for("react.profiler"):60114,Uc=Ue?Symbol.for("react.provider"):60109,Hc=Ue?Symbol.for("react.context"):60110,Op=Ue?Symbol.for("react.async_mode"):60111,Wc=Ue?Symbol.for("react.concurrent_mode"):60111,Gc=Ue?Symbol.for("react.forward_ref"):60112,Kc=Ue?Symbol.for("react.suspense"):60113,S_=Ue?Symbol.for("react.suspense_list"):60120,Xc=Ue?Symbol.for("react.memo"):60115,qc=Ue?Symbol.for("react.lazy"):60116,k_=Ue?Symbol.for("react.block"):60121,N_=Ue?Symbol.for("react.fundamental"):60117,E_=Ue?Symbol.for("react.responder"):60118,C_=Ue?Symbol.for("react.scope"):60119;function Rt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cp:switch(e=e.type,e){case Op:case Wc:case Vc:case zc:case Bc:case Kc:return e;default:switch(e=e&&e.$$typeof,e){case Hc:case Gc:case qc:case Xc:case Uc:return e;default:return t}}case Tp:return t}}}function Ew(e){return Rt(e)===Wc}me.AsyncMode=Op;me.ConcurrentMode=Wc;me.ContextConsumer=Hc;me.ContextProvider=Uc;me.Element=Cp;me.ForwardRef=Gc;me.Fragment=Vc;me.Lazy=qc;me.Memo=Xc;me.Portal=Tp;me.Profiler=zc;me.StrictMode=Bc;me.Suspense=Kc;me.isAsyncMode=function(e){return Ew(e)||Rt(e)===Op};me.isConcurrentMode=Ew;me.isContextConsumer=function(e){return Rt(e)===Hc};me.isContextProvider=function(e){return Rt(e)===Uc};me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cp};me.isForwardRef=function(e){return Rt(e)===Gc};me.isFragment=function(e){return Rt(e)===Vc};me.isLazy=function(e){return Rt(e)===qc};me.isMemo=function(e){return Rt(e)===Xc};me.isPortal=function(e){return Rt(e)===Tp};me.isProfiler=function(e){return Rt(e)===zc};me.isStrictMode=function(e){return Rt(e)===Bc};me.isSuspense=function(e){return Rt(e)===Kc};me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vc||e===Wc||e===zc||e===Bc||e===Kc||e===S_||typeof e=="object"&&e!==null&&(e.$$typeof===qc||e.$$typeof===Xc||e.$$typeof===Uc||e.$$typeof===Hc||e.$$typeof===Gc||e.$$typeof===N_||e.$$typeof===E_||e.$$typeof===C_||e.$$typeof===k_)};me.typeOf=Rt;Nw.exports=me;var T_=Nw.exports,Cw=T_,O_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},P_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Tw={};Tw[Cw.ForwardRef]=O_;Tw[Cw.Memo]=P_;var __=!0;function R_(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var Ow=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||__===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},L_=function(t,n,r){Ow(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+s:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function I_(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var M_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},D_=!1,A_=/[A-Z]|^ms/g,F_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pw=function(t){return t.charCodeAt(1)===45},X0=function(t){return t!=null&&typeof t!="boolean"},sd=p_(function(e){return Pw(e)?e:e.replace(A_,"-$&").toLowerCase()}),q0=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(F_,function(r,s,o){return xn={name:s,styles:o,next:xn},s})}return M_[t]!==1&&!Pw(t)&&typeof n=="number"&&n!==0?n+"px":n},$_="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function bi(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return xn={name:s.name,styles:s.styles,next:xn},s.name;var o=n;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)xn={name:i.name,styles:i.styles,next:xn},i=i.next;var l=o.styles+";";return l}return V_(e,t,n)}case"function":{if(e!==void 0){var c=xn,u=n(e);return xn=c,bi(e,t,u)}break}}var d=n;if(t==null)return d;var f=t[d];return f!==void 0?f:d}function V_(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=bi(e,t,n[s])+";";else for(var o in n){var i=n[o];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?r+=o+"{"+t[l]+"}":X0(l)&&(r+=sd(o)+":"+q0(o,l)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&D_)throw new Error($_);if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)X0(i[c])&&(r+=sd(o)+":"+q0(o,i[c])+";");else{var u=bi(e,t,i);switch(o){case"animation":case"animationName":{r+=sd(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var J0=/label:\s*([^\s;{]+)\s*(;|$)/g,xn;function _w(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";xn=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,s+=bi(n,t,o);else{var i=o;s+=i[0]}for(var l=1;l<e.length;l++)if(s+=bi(n,t,e[l]),r){var c=o;s+=c[l]}J0.lastIndex=0;for(var u="",d;(d=J0.exec(s))!==null;)u+="-"+d[1];var f=I_(s)+u;return{name:f,styles:s,next:xn}}var B_=function(t){return t()},z_=zp["useInsertionEffect"]?zp["useInsertionEffect"]:!1,U_=z_||B_,H_=!1,Rw=v.createContext(typeof HTMLElement<"u"?j_({key:"css"}):null);Rw.Provider;var W_=function(t){return v.forwardRef(function(n,r){var s=v.useContext(Rw);return t(n,s,r)})},G_=v.createContext({}),Pp={}.hasOwnProperty,Vf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",K_=function(t,n){var r={};for(var s in n)Pp.call(n,s)&&(r[s]=n[s]);return r[Vf]=t,r},X_=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Ow(n,r,s),U_(function(){return L_(n,r,s)}),null},q_=W_(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[Vf],o=[r],i="";typeof e.className=="string"?i=R_(t.registered,o,e.className):e.className!=null&&(i=e.className+" ");var l=_w(o,void 0,v.useContext(G_));i+=t.key+"-"+l.name;var c={};for(var u in e)Pp.call(e,u)&&u!=="css"&&u!==Vf&&!H_&&(c[u]=e[u]);return c.className=i,n&&(c.ref=n),v.createElement(v.Fragment,null,v.createElement(X_,{cache:t,serialized:l,isStringTag:typeof s=="string"}),v.createElement(s,c))}),J_=q_,Y=function(t,n){var r=arguments;if(n==null||!Pp.call(n,"css"))return v.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=J_,o[1]=K_(t,n);for(var i=2;i<s;i++)o[i]=r[i];return v.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Y||(Y={}));function _p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _w(t)}function Y_(){var e=_p.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Q_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Z_=Math.min,eR=Math.max,Fl=Math.round,va=Math.floor,$l=e=>({x:e,y:e});function tR(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Jc(){return typeof window<"u"}function Lw(e){return Mw(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Iw(e){var t;return(t=(Mw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mw(e){return Jc()?e instanceof Node||e instanceof sn(e).Node:!1}function Bf(e){return Jc()?e instanceof Element||e instanceof sn(e).Element:!1}function Rp(e){return Jc()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function Y0(e){return!Jc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}const nR=new Set(["inline","contents"]);function Dw(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Lp(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nR.has(s)}function rR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sR=new Set(["html","body","#document"]);function oR(e){return sR.has(Lw(e))}function Lp(e){return sn(e).getComputedStyle(e)}function iR(e){if(Lw(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y0(e)&&e.host||Iw(e);return Y0(t)?t.host:t}function Aw(e){const t=iR(e);return oR(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rp(t)&&Dw(t)?t:Aw(t)}function Vl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Aw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=sn(s);if(o){const l=zf(i);return t.concat(i,i.visualViewport||[],Dw(s)?s:[],l&&n?Vl(l):[])}return t.concat(s,Vl(s,[],n))}function zf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aR(e){const t=Lp(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Rp(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Fl(n)!==o||Fl(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Ip(e){return Bf(e)?e:e.contextElement}function od(e){const t=Ip(e);if(!Rp(t))return $l(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=aR(t);let i=(o?Fl(n.width):n.width)/r,l=(o?Fl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const lR=$l(0);function cR(e){const t=sn(e);return!rR()||!t.visualViewport?lR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sn(e)?!1:t}function Q0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ip(e);let i=$l(1);t&&(r?Bf(r)&&(i=od(r)):i=od(e));const l=uR(o,n,r)?cR(o):$l(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=sn(o),x=r&&Bf(r)?sn(r):r;let m=p,h=zf(m);for(;h&&r&&x!==m;){const g=od(h),y=h.getBoundingClientRect(),w=Lp(h),b=y.left+(h.clientLeft+parseFloat(w.paddingLeft))*g.x,j=y.top+(h.clientTop+parseFloat(w.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=j,m=sn(h),h=zf(m)}}return tR({width:d,height:f,x:c,y:u})}function Fw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dR(e,t){let n=null,r;const s=Iw(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:x}=u;if(l||t(),!p||!x)return;const m=va(f),h=va(s.clientWidth-(d+p)),g=va(s.clientHeight-(f+x)),y=va(d),b={rootMargin:-m+"px "+-h+"px "+-g+"px "+-y+"px",threshold:eR(0,Z_(1,c))||1};let j=!0;function k(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!Fw(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(k,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(e)}return i(!0),o}function fR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ip(e),d=s||o?[...u?Vl(u):[],...Vl(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?dR(u,n):null;let p=-1,x=null;i&&(x=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let m,h=c?Q0(e):null;c&&g();function g(){const y=Q0(e);h&&!Fw(h,y)&&n(),h=y,m=requestAnimationFrame(g)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(y=x)==null||y.disconnect(),x=null,c&&cancelAnimationFrame(m)}}var Uf=v.useLayoutEffect,hR=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bl=function(){};function pR(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function mR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var o=[].concat(r);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&o.push("".concat(pR(e,i)));return o.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Z0=function(t){return kR(t)?t.filter(Boolean):Qr(t)==="object"&&t!==null?[t]:[]},$w=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Kn(t,hR);return Z({},n)},_e=function(t,n,r){var s=t.cx,o=t.getStyles,i=t.getClassNames,l=t.className;return{css:o(n,t),className:s(r??{},i(n,t),l)}};function Yc(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function gR(e){return Yc(e)?window.innerHeight:e.clientHeight}function Vw(e){return Yc(e)?window.pageYOffset:e.scrollTop}function zl(e,t){if(Yc(e)){window.scrollTo(0,t);return}e.scrollTop=t}function xR(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function yR(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function ba(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bl,s=Vw(e),o=t-s,i=10,l=0;function c(){l+=i;var u=yR(l,s,o,n);zl(e,u),l<n?window.requestAnimationFrame(c):r(e)}c()}function ex(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=t.offsetHeight/3;r.bottom+s>n.bottom?zl(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):r.top-s<n.top&&zl(e,Math.max(t.offsetTop-s,0))}function vR(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function tx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bR(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Bw=!1,wR={get passive(){return Bw=!0}},wa=typeof window<"u"?window:{};wa.addEventListener&&wa.removeEventListener&&(wa.addEventListener("p",Bl,wR),wa.removeEventListener("p",Bl,!1));var jR=Bw;function SR(e){return e!=null}function kR(e){return Array.isArray(e)}function ja(e,t,n){return e?t:n}var NR=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var o=Object.entries(t).filter(function(i){var l=Fn(i,1),c=l[0];return!r.includes(c)});return o.reduce(function(i,l){var c=Fn(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},ER=["children","innerProps"],CR=["children","innerProps"];function TR(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,s=e.placement,o=e.shouldScroll,i=e.isFixedPosition,l=e.controlHeight,c=xR(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),x=p.bottom,m=p.height,h=p.top,g=n.offsetParent.getBoundingClientRect(),y=g.top,w=i?window.innerHeight:gR(c),b=Vw(c),j=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),N=y-k,S=w-h,E=N+b,O=f-b-h,T=x-w+b+j,_=b+h-k,P=160;switch(s){case"auto":case"bottom":if(S>=m)return{placement:"bottom",maxHeight:t};if(O>=m&&!i)return o&&ba(c,T,P),{placement:"bottom",maxHeight:t};if(!i&&O>=r||i&&S>=r){o&&ba(c,T,P);var M=i?S-j:O-j;return{placement:"bottom",maxHeight:M}}if(s==="auto"||i){var C=t,I=i?N:E;return I>=r&&(C=Math.min(I-j-l,t)),{placement:"top",maxHeight:C}}if(s==="bottom")return o&&zl(c,T),{placement:"bottom",maxHeight:t};break;case"top":if(N>=m)return{placement:"top",maxHeight:t};if(E>=m&&!i)return o&&ba(c,_,P),{placement:"top",maxHeight:t};if(!i&&E>=r||i&&N>=r){var R=t;return(!i&&E>=r||i&&N>=r)&&(R=i?N-k:E-k),o&&ba(c,_,P),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function OR(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var zw=function(t){return t==="auto"?"bottom":t},PR=function(t,n){var r,s=t.placement,o=t.theme,i=o.borderRadius,l=o.spacing,c=o.colors;return Z((r={label:"menu"},Ro(r,OR(s),"100%"),Ro(r,"position","absolute"),Ro(r,"width","100%"),Ro(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Uw=v.createContext(null),_R=function(t){var n=t.children,r=t.minMenuHeight,s=t.maxMenuHeight,o=t.menuPlacement,i=t.menuPosition,l=t.menuShouldScrollIntoView,c=t.theme,u=v.useContext(Uw)||{},d=u.setPortalPlacement,f=v.useRef(null),p=v.useState(s),x=Fn(p,2),m=x[0],h=x[1],g=v.useState(null),y=Fn(g,2),w=y[0],b=y[1],j=c.spacing.controlHeight;return Uf(function(){var k=f.current;if(k){var N=i==="fixed",S=l&&!N,E=TR({maxHeight:s,menuEl:k,minHeight:r,placement:o,shouldScroll:S,isFixedPosition:N,controlHeight:j});h(E.maxHeight),b(E.placement),d==null||d(E.placement)}},[s,o,i,l,r,d,j]),n({ref:f,placerProps:Z(Z({},t),{},{placement:w||zw(o),maxHeight:m})})},RR=function(t){var n=t.children,r=t.innerRef,s=t.innerProps;return Y("div",ee({},_e(t,"menu",{menu:!0}),{ref:r},s),n)},LR=RR,IR=function(t,n){var r=t.maxHeight,s=t.theme.spacing.baseUnit;return Z({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},MR=function(t){var n=t.children,r=t.innerProps,s=t.innerRef,o=t.isMulti;return Y("div",ee({},_e(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),n)},Hw=function(t,n){var r=t.theme,s=r.spacing.baseUnit,o=r.colors;return Z({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},DR=Hw,AR=Hw,FR=function(t){var n=t.children,r=n===void 0?"No options":n,s=t.innerProps,o=Kn(t,ER);return Y("div",ee({},_e(Z(Z({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},$R=function(t){var n=t.children,r=n===void 0?"Loading...":n,s=t.innerProps,o=Kn(t,CR);return Y("div",ee({},_e(Z(Z({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},VR=function(t){var n=t.rect,r=t.offset,s=t.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},BR=function(t){var n=t.appendTo,r=t.children,s=t.controlElement,o=t.innerProps,i=t.menuPlacement,l=t.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(zw(i)),f=Fn(d,2),p=f[0],x=f[1],m=v.useMemo(function(){return{setPortalPlacement:x}},[]),h=v.useState(null),g=Fn(h,2),y=g[0],w=g[1],b=v.useCallback(function(){if(s){var S=vR(s),E=l==="fixed"?0:window.pageYOffset,O=S[p]+E;(O!==(y==null?void 0:y.offset)||S.left!==(y==null?void 0:y.rect.left)||S.width!==(y==null?void 0:y.rect.width))&&w({offset:O,rect:S})}},[s,l,p,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);Uf(function(){b()},[b]);var j=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=fR(s,c.current,b,{elementResize:"ResizeObserver"in window}))},[s,b]);Uf(function(){j()},[j]);var k=v.useCallback(function(S){c.current=S,j()},[j]);if(!n&&l!=="fixed"||!y)return null;var N=Y("div",ee({ref:k},_e(Z(Z({},t),{},{offset:y.offset,position:l,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Y(Uw.Provider,{value:m},n?Dv.createPortal(N,n):N)},zR=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},UR=function(t){var n=t.children,r=t.innerProps,s=t.isDisabled,o=t.isRtl;return Y("div",ee({},_e(t,"container",{"--is-disabled":s,"--is-rtl":o}),r),n)},HR=function(t,n){var r=t.theme.spacing,s=t.isMulti,o=t.hasValue,i=t.selectProps.controlShouldRenderValue;return Z({alignItems:"center",display:s&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},WR=function(t){var n=t.children,r=t.innerProps,s=t.isMulti,o=t.hasValue;return Y("div",ee({},_e(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),n)},GR=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},KR=function(t){var n=t.children,r=t.innerProps;return Y("div",ee({},_e(t,"indicatorsContainer",{indicators:!0}),r),n)},nx,XR=["size"],qR=["innerProps","isRtl","size"],JR={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ww=function(t){var n=t.size,r=Kn(t,XR);return Y("svg",ee({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:JR},r))},Mp=function(t){return Y(Ww,ee({size:20},t),Y("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Gw=function(t){return Y(Ww,ee({size:20},t),Y("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Kw=function(t,n){var r=t.isFocused,s=t.theme,o=s.spacing.baseUnit,i=s.colors;return Z({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?i.neutral60:i.neutral20,padding:o*2,":hover":{color:r?i.neutral80:i.neutral40}})},YR=Kw,QR=function(t){var n=t.children,r=t.innerProps;return Y("div",ee({},_e(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Y(Gw,null))},ZR=Kw,eL=function(t){var n=t.children,r=t.innerProps;return Y("div",ee({},_e(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Y(Mp,null))},tL=function(t,n){var r=t.isDisabled,s=t.theme,o=s.spacing.baseUnit,i=s.colors;return Z({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},nL=function(t){var n=t.innerProps;return Y("span",ee({},n,_e(t,"indicatorSeparator",{"indicator-separator":!0})))},rL=Y_(nx||(nx=Q_([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sL=function(t,n){var r=t.isFocused,s=t.size,o=t.theme,i=o.colors,l=o.spacing.baseUnit;return Z({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?i.neutral60:i.neutral20,padding:l*2})},id=function(t){var n=t.delay,r=t.offset;return Y("span",{css:_p({animation:"".concat(rL," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},oL=function(t){var n=t.innerProps,r=t.isRtl,s=t.size,o=s===void 0?4:s,i=Kn(t,qR);return Y("div",ee({},_e(Z(Z({},i),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Y(id,{delay:0,offset:r}),Y(id,{delay:160,offset:!0}),Y(id,{delay:320,offset:!r}))},iL=function(t,n){var r=t.isDisabled,s=t.isFocused,o=t.theme,i=o.colors,l=o.borderRadius,c=o.spacing;return Z({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?i.neutral5:i.neutral0,borderColor:r?i.neutral10:s?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:s?i.primary:i.neutral30}})},aL=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,o=t.innerRef,i=t.innerProps,l=t.menuIsOpen;return Y("div",ee({ref:o},_e(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),i,{"aria-disabled":r||void 0}),n)},lL=aL,cL=["data"],uL=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},dL=function(t){var n=t.children,r=t.cx,s=t.getStyles,o=t.getClassNames,i=t.Heading,l=t.headingProps,c=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return Y("div",ee({},_e(t,"group",{group:!0}),c),Y(i,ee({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:o,cx:r}),u),Y("div",null,n))},fL=function(t,n){var r=t.theme,s=r.colors,o=r.spacing;return Z({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},hL=function(t){var n=$w(t);n.data;var r=Kn(n,cL);return Y("div",ee({},_e(t,"groupHeading",{"group-heading":!0}),r))},pL=dL,mL=["innerRef","isDisabled","isHidden","inputClassName"],gL=function(t,n){var r=t.isDisabled,s=t.value,o=t.theme,i=o.spacing,l=o.colors;return Z(Z({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},xL),n?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},Xw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},xL={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Z({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Xw)},yL=function(t){return Z({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},Xw)},vL=function(t){var n=t.cx,r=t.value,s=$w(t),o=s.innerRef,i=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=Kn(s,mL);return Y("div",ee({},_e(t,"input",{"input-container":!0}),{"data-value":r||""}),Y("input",ee({className:n({input:!0},c),ref:o,style:yL(l),disabled:i},u)))},bL=vL,wL=function(t,n){var r=t.theme,s=r.spacing,o=r.borderRadius,i=r.colors;return Z({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},jL=function(t,n){var r=t.theme,s=r.borderRadius,o=r.colors,i=t.cropWithEllipsis;return Z({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},SL=function(t,n){var r=t.theme,s=r.spacing,o=r.borderRadius,i=r.colors,l=t.isFocused;return Z({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},qw=function(t){var n=t.children,r=t.innerProps;return Y("div",r,n)},kL=qw,NL=qw;function EL(e){var t=e.children,n=e.innerProps;return Y("div",ee({role:"button"},n),t||Y(Mp,{size:14}))}var CL=function(t){var n=t.children,r=t.components,s=t.data,o=t.innerProps,i=t.isDisabled,l=t.removeProps,c=t.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Y(u,{data:s,innerProps:Z(Z({},_e(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:c},Y(d,{data:s,innerProps:Z({},_e(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Y(f,{data:s,innerProps:Z(Z({},_e(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},TL=CL,OL=function(t,n){var r=t.isDisabled,s=t.isFocused,o=t.isSelected,i=t.theme,l=i.spacing,c=i.colors;return Z({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?c.primary:c.primary50}})},PL=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,o=t.isSelected,i=t.innerRef,l=t.innerProps;return Y("div",ee({},_e(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:i,"aria-disabled":r},l),n)},_L=PL,RL=function(t,n){var r=t.theme,s=r.spacing,o=r.colors;return Z({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},LL=function(t){var n=t.children,r=t.innerProps;return Y("div",ee({},_e(t,"placeholder",{placeholder:!0}),r),n)},IL=LL,ML=function(t,n){var r=t.isDisabled,s=t.theme,o=s.spacing,i=s.colors;return Z({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},DL=function(t){var n=t.children,r=t.isDisabled,s=t.innerProps;return Y("div",ee({},_e(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},AL=DL,FL={ClearIndicator:eL,Control:lL,DropdownIndicator:QR,DownChevron:Gw,CrossIcon:Mp,Group:pL,GroupHeading:hL,IndicatorsContainer:KR,IndicatorSeparator:nL,Input:bL,LoadingIndicator:oL,Menu:LR,MenuList:MR,MenuPortal:BR,LoadingMessage:$R,NoOptionsMessage:FR,MultiValue:TL,MultiValueContainer:kL,MultiValueLabel:NL,MultiValueRemove:EL,Option:_L,Placeholder:IL,SelectContainer:UR,SingleValue:AL,ValueContainer:WR},$L=function(t){return Z(Z({},FL),t.components)},rx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function VL(e,t){return!!(e===t||rx(e)&&rx(t))}function BL(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!VL(e[n],t[n]))return!1;return!0}function zL(e,t){t===void 0&&(t=BL);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}var UL={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},HL=function(t){return Y("span",ee({css:UL},t))},sx=HL,WL={guidance:function(t){var n=t.isSearchable,r=t.isMulti,s=t.tabSelectsValue,o=t.context,i=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,s=r===void 0?"":r,o=t.labels,i=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,s=t.options,o=t.label,i=o===void 0?"":o,l=t.selectValue,c=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(h,g){return h&&h.length?"".concat(h.indexOf(g)+1," of ").concat(h.length):""};if(n==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var p=c?" disabled":"",x="".concat(u?" selected":"").concat(p);return"".concat(i).concat(x,", ").concat(f(s,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},GL=function(t){var n=t.ariaSelection,r=t.focusedOption,s=t.focusedValue,o=t.focusableOptions,i=t.isFocused,l=t.selectValue,c=t.selectProps,u=t.id,d=t.isAppleDevice,f=c.ariaLiveMessages,p=c.getOptionLabel,x=c.inputValue,m=c.isMulti,h=c.isOptionDisabled,g=c.isSearchable,y=c.menuIsOpen,w=c.options,b=c.screenReaderStatus,j=c.tabSelectsValue,k=c.isLoading,N=c["aria-label"],S=c["aria-live"],E=v.useMemo(function(){return Z(Z({},WL),f||{})},[f]),O=v.useMemo(function(){var I="";if(n&&E.onChange){var R=n.option,U=n.options,D=n.removedValue,B=n.removedValues,W=n.value,V=function(nt){return Array.isArray(nt)?null:nt},K=D||R||V(W),ie=K?p(K):"",le=U||B||void 0,ge=le?le.map(p):[],he=Z({isDisabled:K&&h(K,l),label:ie,labels:ge},n);I=E.onChange(he)}return I},[n,E,h,l,p]),T=v.useMemo(function(){var I="",R=r||s,U=!!(r&&l&&l.includes(r));if(R&&E.onFocus){var D={focused:R,label:p(R),isDisabled:h(R,l),isSelected:U,options:o,context:R===r?"menu":"value",selectValue:l,isAppleDevice:d};I=E.onFocus(D)}return I},[r,s,p,h,E,o,l,d]),_=v.useMemo(function(){var I="";if(y&&w.length&&!k&&E.onFilter){var R=b({count:o.length});I=E.onFilter({inputValue:x,resultsMessage:R})}return I},[o,x,y,E,w,b,k]),P=(n==null?void 0:n.action)==="initial-input-focus",M=v.useMemo(function(){var I="";if(E.guidance){var R=s?"value":y?"menu":"input";I=E.guidance({"aria-label":N,context:R,isDisabled:r&&h(r,l),isMulti:m,isSearchable:g,tabSelectsValue:j,isInitialFocus:P})}return I},[N,r,s,m,h,g,y,E,l,j,P]),C=Y(v.Fragment,null,Y("span",{id:"aria-selection"},O),Y("span",{id:"aria-focused"},T),Y("span",{id:"aria-results"},_),Y("span",{id:"aria-guidance"},M));return Y(v.Fragment,null,Y(sx,{id:u},P&&C),Y(sx,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&C))},KL=GL,Hf=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],XL=new RegExp("["+Hf.map(function(e){return e.letters}).join("")+"]","g"),Jw={};for(var ad=0;ad<Hf.length;ad++)for(var ld=Hf[ad],cd=0;cd<ld.letters.length;cd++)Jw[ld.letters[cd]]=ld.base;var Yw=function(t){return t.replace(XL,function(n){return Jw[n]})},qL=zL(Yw),ox=function(t){return t.replace(/^\s+|\s+$/g,"")},JL=function(t){return"".concat(t.label," ").concat(t.value)},YL=function(t){return function(n,r){if(n.data.__isNew__)return!0;var s=Z({ignoreCase:!0,ignoreAccents:!0,stringify:JL,trim:!0,matchFrom:"any"},t),o=s.ignoreCase,i=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?ox(r):r,f=c?ox(l(n)):l(n);return o&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=qL(d),f=Yw(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},QL=["innerRef"];function ZL(e){var t=e.innerRef,n=Kn(e,QL),r=NR(n,"onExited","in","enter","exit","appear");return Y("input",ee({ref:t},r,{css:_p({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var eI=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function tI(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,s=e.onTopArrive,o=e.onTopLeave,i=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(g,y){if(u.current!==null){var w=u.current,b=w.scrollTop,j=w.scrollHeight,k=w.clientHeight,N=u.current,S=y>0,E=j-k-b,O=!1;E>y&&i.current&&(r&&r(g),i.current=!1),S&&l.current&&(o&&o(g),l.current=!1),S&&y>E?(n&&!i.current&&n(g),N.scrollTop=j,O=!0,i.current=!0):!S&&-y>b&&(s&&!l.current&&s(g),N.scrollTop=0,O=!0,l.current=!0),O&&eI(g)}},[n,r,s,o]),f=v.useCallback(function(g){d(g,g.deltaY)},[d]),p=v.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),x=v.useCallback(function(g){var y=c.current-g.changedTouches[0].clientY;d(g,y)},[d]),m=v.useCallback(function(g){if(g){var y=jR?{passive:!1}:!1;g.addEventListener("wheel",f,y),g.addEventListener("touchstart",p,y),g.addEventListener("touchmove",x,y)}},[x,p,f]),h=v.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",p,!1),g.removeEventListener("touchmove",x,!1))},[x,p,f]);return v.useEffect(function(){if(t){var g=u.current;return m(g),function(){h(g)}}},[t,m,h]),function(g){u.current=g}}var ix=["boxSizing","height","overflow","paddingRight","position"],ax={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function lx(e){e.cancelable&&e.preventDefault()}function cx(e){e.stopPropagation()}function ux(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function dx(){return"ontouchstart"in window||navigator.maxTouchPoints}var fx=!!(typeof window<"u"&&window.document&&window.document.createElement),Eo=0,ls={capture:!1,passive:!1};function nI(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,s=v.useRef({}),o=v.useRef(null),i=v.useCallback(function(c){if(fx){var u=document.body,d=u&&u.style;if(r&&ix.forEach(function(m){var h=d&&d[m];s.current[m]=h}),r&&Eo<1){var f=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,x=window.innerWidth-p+f||0;Object.keys(ax).forEach(function(m){var h=ax[m];d&&(d[m]=h)}),d&&(d.paddingRight="".concat(x,"px"))}u&&dx()&&(u.addEventListener("touchmove",lx,ls),c&&(c.addEventListener("touchstart",ux,ls),c.addEventListener("touchmove",cx,ls))),Eo+=1}},[r]),l=v.useCallback(function(c){if(fx){var u=document.body,d=u&&u.style;Eo=Math.max(Eo-1,0),r&&Eo<1&&ix.forEach(function(f){var p=s.current[f];d&&(d[f]=p)}),u&&dx()&&(u.removeEventListener("touchmove",lx,ls),c&&(c.removeEventListener("touchstart",ux,ls),c.removeEventListener("touchmove",cx,ls)))}},[r]);return v.useEffect(function(){if(t){var c=o.current;return i(c),function(){l(c)}}},[t,i,l]),function(c){o.current=c}}var rI=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},sI={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function oI(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,s=r===void 0?!0:r,o=e.onBottomArrive,i=e.onBottomLeave,l=e.onTopArrive,c=e.onTopLeave,u=tI({isEnabled:s,onBottomArrive:o,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=nI({isEnabled:n}),f=function(x){u(x),d(x)};return Y(v.Fragment,null,n&&Y("div",{onClick:rI,css:sI}),t(f))}var iI={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},aI=function(t){var n=t.name,r=t.onFocus;return Y("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:iI,value:"",onChange:function(){}})},lI=aI;function Dp(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function cI(){return Dp(/^iPhone/i)}function Qw(){return Dp(/^Mac/i)}function uI(){return Dp(/^iPad/i)||Qw()&&navigator.maxTouchPoints>1}function dI(){return cI()||uI()}function fI(){return Qw()||dI()}var hI=function(t){return t.label},pI=function(t){return t.label},mI=function(t){return t.value},gI=function(t){return!!t.isDisabled},xI={clearIndicator:ZR,container:zR,control:iL,dropdownIndicator:YR,group:uL,groupHeading:fL,indicatorsContainer:GR,indicatorSeparator:tL,input:gL,loadingIndicator:sL,loadingMessage:AR,menu:PR,menuList:IR,menuPortal:VR,multiValue:wL,multiValueLabel:jL,multiValueRemove:SL,noOptionsMessage:DR,option:OL,placeholder:RL,singleValue:ML,valueContainer:HR},yI={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vI=4,Zw=4,bI=38,wI=Zw*2,jI={baseUnit:Zw,controlHeight:bI,menuGutter:wI},ud={borderRadius:vI,colors:yI,spacing:jI},SI={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:tx(),captureMenuScroll:!tx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:YL(),formatGroupLabel:hI,getOptionLabel:pI,getOptionValue:mI,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:gI,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bR(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function hx(e,t,n,r){var s=n2(e,t,n),o=r2(e,t,n),i=t2(e,t),l=Ul(e,t);return{type:"option",data:t,isDisabled:s,isSelected:o,label:i,value:l,index:r}}function qa(e,t){return e.options.map(function(n,r){if("options"in n){var s=n.options.map(function(i,l){return hx(e,i,t,l)}).filter(function(i){return mx(e,i)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var o=hx(e,n,t,r);return mx(e,o)?o:void 0}).filter(SR)}function e2(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Sp(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function px(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Sp(r.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function kI(e,t){return e2(qa(e,t))}function mx(e,t){var n=e.inputValue,r=n===void 0?"":n,s=t.data,o=t.isSelected,i=t.label,l=t.value;return(!o2(e)||!o)&&s2(e,{label:i,value:l,data:s},r)}function NI(e,t){var n=e.focusedValue,r=e.selectValue,s=r.indexOf(n);if(s>-1){var o=t.indexOf(n);if(o>-1)return n;if(s<t.length)return t[s]}return null}function EI(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var dd=function(t,n){var r,s=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return s||null},t2=function(t,n){return t.getOptionLabel(n)},Ul=function(t,n){return t.getOptionValue(n)};function n2(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function r2(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Ul(e,t);return n.some(function(s){return Ul(e,s)===r})}function s2(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var o2=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},CI=1,i2=function(e){$P(n,e);var t=zP(n);function n(r){var s;if(AP(this,n),s=t.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,p=d.name;u.name=p,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,p=f.closeMenuOnSelect,x=f.isMulti,m=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:m}),p&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,x=s.state.selectValue,m=f&&s.isOptionSelected(c,x),h=s.isOptionDisabled(c,x);if(m){var g=s.getOptionValue(c);s.setValue(x.filter(function(y){return s.getOptionValue(y)!==g}),"deselect-option",c)}else if(!h)f?s.setValue([].concat(Sp(x),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),p=d.filter(function(m){return s.getOptionValue(m)!==f}),x=ja(u,p,p[0]||null);s.onChange(x,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(ja(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=ja(c,f,f[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return dd(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return px(qa(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return mR.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return t2(s.props,c)},s.getOptionValue=function(c){return Ul(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=xI[c](u,d);f.boxSizing="border-box";var p=s.props.styles[c];return p?p(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return $L(s.props)},s.buildCategorizedOptions=function(){return qa(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return e2(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Z({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Yc(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),x=5;s.userIsDragging=f>x||p>x}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return o2(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,x=u.inputValue,m=u.isClearable,h=u.isDisabled,g=u.menuIsOpen,y=u.onKeyDown,w=u.tabSelectsValue,b=u.openMenuOnFocus,j=s.state,k=j.focusedOption,N=j.focusedValue,S=j.selectValue;if(!h&&!(typeof y=="function"&&(y(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||x)return;s.focusValue("previous");break;case"ArrowRight":if(!d||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(N)s.removeValue(N);else{if(!f)return;d?s.popValue():m&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!g||!w||!k||b&&s.isOptionSelected(k,S))return;s.selectOption(k);break;case"Enter":if(c.keyCode===229)break;if(g){if(!k||s.isComposing)return;s.selectOption(k);break}return;case"Escape":g?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):m&&p&&s.clearValue();break;case" ":if(x)return;if(!g){s.openMenu("first");break}if(!k)return;s.selectOption(k);break;case"ArrowUp":g?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":g?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!g)return;s.focusOption("pageup");break;case"PageDown":if(!g)return;s.focusOption("pagedown");break;case"Home":if(!g)return;s.focusOption("first");break;case"End":if(!g)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++CI),s.state.selectValue=Z0(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),i=s.buildFocusableOptions(),l=i.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=i[l],s.state.focusedOptionId=dd(o,i[l])}return s}return FP(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ex(this.menuListRef,this.focusedOptionRef),fI()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isDisabled,l=o.menuIsOpen,c=this.state.isFocused;(c&&!i&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&i&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ex(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,i=o.selectValue,l=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-o,c<0&&(c=0)):s==="pagedown"?(c=u+o,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ud):Z(Z({},ud),this.props.theme):ud}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,x=f.isRtl,m=f.options,h=this.hasValue();return{clearValue:s,cx:o,getStyles:i,getClassNames:l,getValue:c,hasValue:h,isMulti:p,isRtl:x,options:m,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,i=s.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(s,o){return n2(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return r2(this.props,s,o)}},{key:"filterOption",value:function(s,o){return s2(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:i,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,i=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,p=s.required,x=this.getComponents(),m=x.Input,h=this.state,g=h.inputIsHidden,y=h.ariaSelection,w=this.commonProps,b=l||this.getElementId("input"),j=Z(Z(Z({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?v.createElement(m,ee({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:o,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},j)):v.createElement(ZL,ee({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bl,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:d,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),i=o.MultiValue,l=o.MultiValueContainer,c=o.MultiValueLabel,u=o.MultiValueRemove,d=o.SingleValue,f=o.Placeholder,p=this.commonProps,x=this.props,m=x.controlShouldRenderValue,h=x.isDisabled,g=x.isMulti,y=x.inputValue,w=x.placeholder,b=this.state,j=b.selectValue,k=b.focusedValue,N=b.isFocused;if(!this.hasValue()||!m)return y?null:v.createElement(f,ee({},p,{key:"placeholder",isDisabled:h,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),w);if(g)return j.map(function(E,O){var T=E===k,_="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return v.createElement(i,ee({},p,{components:{Container:l,Label:c,Remove:u},isFocused:T,isDisabled:h,key:_,index:O,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(M){M.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(y)return null;var S=j[0];return v.createElement(d,ee({},p,{data:S,isDisabled:h}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(o,ee({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!o||!u)return null;var f={"aria-hidden":"true"};return v.createElement(o,ee({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,i=s.IndicatorSeparator;if(!o||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(i,ee({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(o,ee({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),i=o.Group,l=o.GroupHeading,c=o.Menu,u=o.MenuList,d=o.MenuPortal,f=o.LoadingMessage,p=o.NoOptionsMessage,x=o.Option,m=this.commonProps,h=this.state.focusedOption,g=this.props,y=g.captureMenuScroll,w=g.inputValue,b=g.isLoading,j=g.loadingMessage,k=g.minMenuHeight,N=g.maxMenuHeight,S=g.menuIsOpen,E=g.menuPlacement,O=g.menuPosition,T=g.menuPortalTarget,_=g.menuShouldBlockScroll,P=g.menuShouldScrollIntoView,M=g.noOptionsMessage,C=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!S)return null;var R=function(ie,le){var ge=ie.type,he=ie.data,ue=ie.isDisabled,nt=ie.isSelected,ft=ie.label,Lt=ie.value,rt=h===he,Xn=ue?void 0:function(){return s.onOptionHover(he)},Nn=ue?void 0:function(){return s.selectOption(he)},En="".concat(s.getElementId("option"),"-").concat(le),Kt={id:En,onClick:Nn,onMouseMove:Xn,onMouseOver:Xn,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:nt};return v.createElement(x,ee({},m,{innerProps:Kt,data:he,isDisabled:ue,isSelected:nt,key:En,label:ft,type:ge,value:Lt,isFocused:rt,innerRef:rt?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ie.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var ie=K.data,le=K.options,ge=K.index,he="".concat(s.getElementId("group"),"-").concat(ge),ue="".concat(he,"-heading");return v.createElement(i,ee({},m,{key:he,data:ie,options:le,Heading:l,headingProps:{id:ue,data:K.data},label:s.formatGroupLabel(K.data)}),K.options.map(function(nt){return R(nt,"".concat(ge,"-").concat(nt.index))}))}else if(K.type==="option")return R(K,"".concat(K.index))});else if(b){var D=j({inputValue:w});if(D===null)return null;U=v.createElement(f,m,D)}else{var B=M({inputValue:w});if(B===null)return null;U=v.createElement(p,m,B)}var W={minMenuHeight:k,maxMenuHeight:N,menuPlacement:E,menuPosition:O,menuShouldScrollIntoView:P},V=v.createElement(_R,ee({},m,W),function(K){var ie=K.ref,le=K.placerProps,ge=le.placement,he=le.maxHeight;return v.createElement(c,ee({},m,W,{innerRef:ie,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:b,placement:ge}),v.createElement(oI,{captureEnabled:y,onTopArrive:C,onBottomArrive:I,lockEnabled:_},function(ue){return v.createElement(u,ee({},m,{innerRef:function(ft){s.getMenuListRef(ft),ue(ft)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:s.getElementId("listbox")},isLoading:b,maxHeight:he,focusedOption:h}),U)}))});return T||O==="fixed"?v.createElement(d,ee({},m,{appendTo:T,controlElement:this.controlRef,menuPlacement:E,menuPosition:O}),V):V}},{key:"renderFormField",value:function(){var s=this,o=this.props,i=o.delimiter,l=o.isDisabled,c=o.isMulti,u=o.name,d=o.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(lI,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var p=f.map(function(h){return s.getOptionValue(h)}).join(i);return v.createElement("input",{name:u,type:"hidden",value:p})}else{var x=f.length>0?f.map(function(h,g){return v.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:s.getOptionValue(h)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,x)}else{var m=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,i=o.ariaSelection,l=o.focusedOption,c=o.focusedValue,u=o.isFocused,d=o.selectValue,f=this.getFocusableOptions();return v.createElement(KL,ee({},s,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,i=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,x=u.menuIsOpen,m=this.state.isFocused,h=this.commonProps=this.getCommonProps();return v.createElement(l,ee({},h,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:m}),this.renderLiveRegion(),v.createElement(o,ee({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:m,menuIsOpen:x}),v.createElement(c,ee({},h,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(i,ee({},h,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var i=o.prevProps,l=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,d=o.isFocused,f=o.prevWasFocused,p=o.instancePrefix,x=s.options,m=s.value,h=s.menuIsOpen,g=s.inputValue,y=s.isMulti,w=Z0(m),b={};if(i&&(m!==i.value||x!==i.options||h!==i.menuIsOpen||g!==i.inputValue)){var j=h?kI(s,w):[],k=h?px(qa(s,w),"".concat(p,"-option")):[],N=l?NI(o,w):null,S=EI(o,j),E=dd(k,S);b={selectValue:w,focusedOption:S,focusedOptionId:E,focusableOptionsWithIds:k,focusedValue:N,clearFocusValueOnUpdate:!1}}var O=c!=null&&s!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=u,_=d&&f;return d&&!_&&(T={value:ja(y,w,w[0]||null),options:w,action:"initial-input-focus"},_=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),Z(Z(Z({},b),O),{},{prevProps:s,ariaSelection:T,prevWasFocused:_})}}]),n}(v.Component);i2.defaultProps=SI;var TI=v.forwardRef(function(e,t){var n=DP(e);return v.createElement(i2,ee({ref:t},n))}),Qc=TI;const OI=J.memo(({participant:e,onRemove:t,isAdmin:n,currentUserId:r})=>{var i;const s=e.id===r,o=e.online||e.role==="ROLE_ADMIN";return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-all duration-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((i=e.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${o?"bg-green-500":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:e.name||" "}),e.role==="ROLE_ADMIN"&&a.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"ADMIN"}),s&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.email||e.phone||"  "})]})]}),n&&!s&&a.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:"  ",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),PI=J.memo(({isOpen:e,onClose:t,chat:n,participants:r,onAddUser:s,onRemoveUser:o,isAdmin:i,availableUsers:l,currentUserId:c})=>{const[u,d]=v.useState(null),[f,p]=v.useState(!1),x=v.useMemo(()=>l.map(h=>({value:h.id,label:`${h.name||" "}  ${h.email||h.phone||" "}`,user:h})),[l]),m=async()=>{if(!u){A.warn("   ");return}p(!0);try{await s(u.value),d(null),A.success("    ")}catch(h){console.error("  :",h)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:" "}),a.jsxs("p",{className:"text-sm text-gray-600",children:[n.name,"  ",r.length," "]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:r.length>0?r.map(h=>a.jsx(OI,{participant:h,onRemove:o,isAdmin:i,currentUserId:c},h.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsx("p",{className:"font-medium text-gray-600",children:" "}),a.jsx("p",{className:"text-sm mt-1",children:"   "})]})}),i&&a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx(Qc,{value:u,onChange:d,options:x,placeholder:" ...",isSearchable:!0,isClearable:!0,menuPosition:"fixed",menuPortalTarget:document.body,styles:{control:h=>({...h,borderRadius:"0.5rem",borderColor:"#D1D5DB","&:hover":{borderColor:"#9CA3AF"}}),menuPortal:h=>({...h,zIndex:9999}),menu:h=>({...h,zIndex:9999})}})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:m,disabled:!u||f,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2.5 px-4 rounded-lg transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})]})]}),!i&&a.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})})]})}):null});function _I({chat:e,role:t,connected:n,user:r,onChatDeleted:s}){const[o,i]=v.useState(!1),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,p]=v.useState(!1),x=t==="ROLE_ADMIN",m=async()=>{var N,S,E;if(e!=null&&e.id)try{const O=await H(`/api/v1/chats/${e.id}`,"GET"),T=((N=O==null?void 0:O.data)==null?void 0:N.participants)||((E=(S=O==null?void 0:O.data)==null?void 0:S.data)==null?void 0:E.participants)||[];c(T)}catch(O){console.error("   :",O),A.error("   "),c([])}};v.useEffect(()=>{e!=null&&e.id&&(c([]),m(),x&&o&&h())},[e==null?void 0:e.id,o]);const h=async()=>{try{const N=await H("/api/v1/admin/all-users","GET"),S=Array.isArray(N.data)?N.data:[];d(S)}catch(N){console.error("   :",N),A.error("   "),d([])}},g=async()=>{if(e!=null&&e.id&&window.confirm("  ?"))try{await H(`/api/v1/chats/${e.id}`,"DELETE"),A.success(" "),s&&s(e.id)}catch(N){console.error("   :",N),A.error("   ")}},y=async N=>{try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"POST"),await m(),await h()}catch(S){throw console.error("   :",S),S}},w=async N=>{if(window.confirm("   ?"))try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"DELETE"),A.success("    "),await m(),await h()}catch(S){console.error("   :",S),A.error("   ")}},b=async()=>{p(!0);try{await Promise.all([m(),h()]),i(!0)}catch(N){console.error("   :",N),A.error("   ")}finally{p(!1)}},j=v.useMemo(()=>u.filter(N=>{var S;return!l.some(E=>E.id===N.id)&&!((S=N.roles)!=null&&S.some(E=>E.name==="ROLE_ADMIN"))&&N.id!==(r==null?void 0:r.id)}),[u,l,r==null?void 0:r.id]),k=v.useMemo(()=>l.filter(N=>N.online||N.role==="ROLE_ADMIN").length,[l]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pl-8 flex justify-between items-center p-4 border-b border-gray-200 bg-white shadow-sm",children:[a.jsx("div",{className:"flex px-1 items-center space-x-4 flex-1 min-w-0",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors duration-200 truncate",onClick:b,title:" ",children:e.name}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${n||x?"bg-green-500 animate-pulse":"bg-gray-400"}`})})]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",l.length," "]}),k>0&&a.jsxs("span",{className:"text-sm text-green-600",children:[" ",k," "]})]})]})}),x&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:b,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:[f?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("span",{className:"font-medium",children:""})]}),a.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:" ",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx(PI,{isOpen:o,onClose:()=>i(!1),chat:e,participants:l,onAddUser:y,onRemoveUser:w,isAdmin:x,availableUsers:j,currentUserId:r==null?void 0:r.id})]})}const RI=J.memo(_I);function LI({onSend:e,editing:t,onSaveEdit:n,onCancelEdit:r,sending:s}){const[o,i]=v.useState(""),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{i(t&&(t.message||t.content)||"")},[t]);const f=g=>{const y=g.target.files[0];if(y){if(y.size>10*1024*1024){A.error("  .  : 10MB");return}c(y)}},p=g=>{const y=g.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(y)?a.jsx(kc,{className:"text-blue-500"}):["pdf"].includes(y)?a.jsx(et,{className:"text-red-500"}):["doc","docx"].includes(y)?a.jsx(et,{className:"text-blue-600"}):a.jsx(et,{className:"text-gray-500"})},x=g=>{if(g===0)return"0 Bytes";const y=1024,w=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(g)/Math.log(y));return parseFloat((g/Math.pow(y,b)).toFixed(2))+" "+w[b]},m=()=>{i(""),c(null),typeof r=="function"&&r()},h=async()=>{var w;const g=o.trim();if(!g&&!l)return A.warn("    ");if(s||u)return;let y=null;if(l){d(!0);try{const b=new FormData;b.append("photo",l),b.append("prefix","chat");const j=await fetch(`${je}/api/v1/file/upload`,{method:"POST",body:b});if(!j.ok)throw new Error("   ");const k=await j.json();if(y=((w=k==null?void 0:k.data)==null?void 0:w.id)||(k==null?void 0:k.id)||k,!y)throw new Error("   ID");A.success("   ")}catch(b){console.error("   :",b),A.error("   "),d(!1);return}d(!1)}t?n(g):e({text:g,fileId:y}),i(""),c(null)};return a.jsxs("div",{className:"w-full max-w-full px-3 sm:px-4 py-4 border-t bg-white shadow-sm overflow-x-hidden",children:[t&&a.jsxs("div",{className:"mb-3 flex items-center justify-between bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(br,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:" "})]}),a.jsx("button",{onClick:m,className:"text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx(Wt,{size:18})})]}),l&&a.jsxs("div",{className:"mb-3 flex items-center gap-3 bg-blue-50 border border-blue-200 rounded-lg p-3 w-full max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:p(l.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate break-all",children:l.name}),a.jsx("p",{className:"text-xs text-gray-500",children:x(l.size)})]})]}),a.jsx("button",{onClick:()=>c(null),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors p-1",children:a.jsx(Wt,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:`
          flex-shrink-0 p-3 rounded-lg border cursor-pointer transition-all
          ${u?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50 hover:border-gray-400"}
        `,children:[a.jsx(Ec,{size:20}),a.jsx("input",{type:"file",accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.txt",className:"hidden",onChange:f,disabled:u})]}),a.jsx("input",{type:"text",placeholder:u?" ...":" ...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),disabled:s||u}),a.jsx("button",{onClick:h,disabled:s||u,className:`
            flex-shrink-0 flex items-center gap-2 rounded-lg px-1 lg:px-4 py-3 font-medium transition-all
            ${s||u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700 shadow-sm hover:shadow-md"}
          `,children:u?a.jsx(a.Fragment,{children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):s?"...":t?a.jsxs(a.Fragment,{children:[a.jsx(br,{size:16}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{size:16}),"Send"]})})]})]})}function Sa(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a2={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,o){function i(u,d){if(!s[u]){if(!r[u]){var f=typeof Sa=="function"&&Sa;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var x=s[u]={exports:{}};r[u][0].call(x.exports,function(m){return i(r[u][1][m]||m)},x,x.exports,n,r,s,o)}return s[u].exports}for(var l=typeof Sa=="function"&&Sa,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(n,r,s){(function(o){(function(){var i=n("./transport-list");r.exports=n("./main")(i),"_sockjs_onload"in o&&setTimeout(o._sockjs_onload,1)}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./main":14,"./transport-list":16}],2:[function(n,r,s){var o=n("inherits"),i=n("./event");function l(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}o(l,i),r.exports=l},{"./event":4,inherits:54}],3:[function(n,r,s){var o=n("inherits"),i=n("./eventtarget");function l(){i.call(this)}o(l,i),l.prototype.removeAllListeners=function(c){c?delete this._listeners[c]:this._listeners={}},l.prototype.once=function(c,u){var d=this,f=!1;this.on(c,function p(){d.removeListener(c,p),f||(f=!0,u.apply(this,arguments))})},l.prototype.emit=function(){var c=arguments[0],u=this._listeners[c];if(u){for(var d=arguments.length,f=new Array(d-1),p=1;p<d;p++)f[p-1]=arguments[p];for(var x=0;x<u.length;x++)u[x].apply(this,f)}},l.prototype.on=l.prototype.addListener=i.prototype.addEventListener,l.prototype.removeListener=i.prototype.removeEventListener,r.exports.EventEmitter=l},{"./eventtarget":5,inherits:54}],4:[function(n,r,s){function o(i){this.type=i}o.prototype.initEvent=function(i,l,c){return this.type=i,this.bubbles=l,this.cancelable=c,this.timeStamp=+new Date,this},o.prototype.stopPropagation=function(){},o.prototype.preventDefault=function(){},o.CAPTURING_PHASE=1,o.AT_TARGET=2,o.BUBBLING_PHASE=3,r.exports=o},{}],5:[function(n,r,s){function o(){this._listeners={}}o.prototype.addEventListener=function(i,l){i in this._listeners||(this._listeners[i]=[]);var c=this._listeners[i];c.indexOf(l)===-1&&(c=c.concat([l])),this._listeners[i]=c},o.prototype.removeEventListener=function(i,l){var c=this._listeners[i];if(c){var u=c.indexOf(l);u===-1||(1<c.length?this._listeners[i]=c.slice(0,u).concat(c.slice(u+1)):delete this._listeners[i])}},o.prototype.dispatchEvent=function(){var i=arguments[0],l=i.type,c=arguments.length===1?[i]:Array.apply(null,arguments);if(this["on"+l]&&this["on"+l].apply(this,c),l in this._listeners)for(var u=this._listeners[l],d=0;d<u.length;d++)u[d].apply(this,c)},r.exports=o},{}],6:[function(n,r,s){var o=n("inherits"),i=n("./event");function l(c){i.call(this),this.initEvent("message",!1,!1),this.data=c}o(l,i),r.exports=l},{"./event":4,inherits:54}],7:[function(n,r,s){var o=n("./utils/iframe");function i(l){(this._transport=l).on("message",this._transportMessage.bind(this)),l.on("close",this._transportClose.bind(this))}i.prototype._transportClose=function(l,c){o.postMessage("c",JSON.stringify([l,c]))},i.prototype._transportMessage=function(l){o.postMessage("t",l)},i.prototype._send=function(l){this._transport.send(l)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},r.exports=i},{"./utils/iframe":47}],8:[function(n,r,s){var o=n("./utils/url"),i=n("./utils/event"),l=n("./facade"),c=n("./info-iframe-receiver"),u=n("./utils/iframe"),d=n("./location"),f=function(){};r.exports=function(p,x){var m,h={};x.forEach(function(g){g.facadeTransport&&(h[g.facadeTransport.transportName]=g.facadeTransport)}),h[c.transportName]=c,p.bootstrap_iframe=function(){var g;u.currentWindowId=d.hash.slice(1),i.attachEvent("message",function(y){if(y.source===parent&&(m===void 0&&(m=y.origin),y.origin===m)){var w;try{w=JSON.parse(y.data)}catch{return void f("bad json",y.data)}if(w.windowId===u.currentWindowId)switch(w.type){case"s":var b;try{b=JSON.parse(w.data)}catch{f("bad json",w.data);break}var j=b[0],k=b[1],N=b[2],S=b[3];if(j!==p.version)throw new Error('Incompatible SockJS! Main site uses: "'+j+'", the iframe: "'+p.version+'".');if(!o.isOriginEqual(N,d.href)||!o.isOriginEqual(S,d.href))throw new Error("Can't connect to different domain from within an iframe. ("+d.href+", "+N+", "+S+")");g=new l(new h[k](N,S));break;case"m":g._send(w.data);break;case"c":g&&g._close(),g=null}}}),u.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0}],9:[function(n,r,s){var o=n("events").EventEmitter,i=n("inherits"),l=n("./utils/object");function c(u,d){o.call(this);var f=this,p=+new Date;this.xo=new d("GET",u),this.xo.once("finish",function(x,m){var h,g;if(x===200){if(g=+new Date-p,m)try{h=JSON.parse(m)}catch{}l.isObject(h)||(h={})}f.emit("finish",h,g),f.removeAllListeners()})}i(c,o),c.prototype.close=function(){this.removeAllListeners(),this.xo.close()},r.exports=c},{"./utils/object":49,debug:void 0,events:3,inherits:54}],10:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter,l=n("./transport/sender/xhr-local"),c=n("./info-ajax");function u(d){var f=this;i.call(this),this.ir=new c(d,l),this.ir.once("finish",function(p,x){f.ir=null,f.emit("message",JSON.stringify([p,x]))})}o(u,i),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},r.exports=u},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54}],11:[function(n,r,s){(function(o){(function(){var i=n("events").EventEmitter,l=n("inherits"),c=n("./utils/event"),u=n("./transport/iframe"),d=n("./info-iframe-receiver");function f(p,x){var m=this;i.call(this);function h(){var g=m.ifr=new u(d.transportName,x,p);g.once("message",function(y){if(y){var w;try{w=JSON.parse(y)}catch{return m.emit("finish"),void m.close()}var b=w[0],j=w[1];m.emit("finish",b,j)}m.close()}),g.once("close",function(){m.emit("finish"),m.close()})}o.document.body?h():c.attachEvent("load",h)}l(f,i),f.enabled=function(){return u.enabled()},f.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},r.exports=f}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54}],12:[function(n,r,s){var o=n("events").EventEmitter,i=n("inherits"),l=n("./utils/url"),c=n("./transport/sender/xdr"),u=n("./transport/sender/xhr-cors"),d=n("./transport/sender/xhr-local"),f=n("./transport/sender/xhr-fake"),p=n("./info-iframe"),x=n("./info-ajax");function m(h,g){var y=this;o.call(this),setTimeout(function(){y.doXhr(h,g)},0)}i(m,o),m._getReceiver=function(h,g,y){return y.sameOrigin?new x(g,d):u.enabled?new x(g,u):c.enabled&&y.sameScheme?new x(g,c):p.enabled()?new p(h,g):new x(g,f)},m.prototype.doXhr=function(h,g){var y=this,w=l.addPath(h,"/info");this.xo=m._getReceiver(h,w,g),this.timeoutRef=setTimeout(function(){y._cleanup(!1),y.emit("finish")},m.timeout),this.xo.once("finish",function(b,j){y._cleanup(!0),y.emit("finish",b,j)})},m.prototype._cleanup=function(h){clearTimeout(this.timeoutRef),this.timeoutRef=null,!h&&this.xo&&this.xo.close(),this.xo=null},m.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},m.timeout=8e3,r.exports=m},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(n,r,s){(function(o){(function(){r.exports=o.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],14:[function(n,r,s){(function(o){(function(){n("./shims");var i,l=n("url-parse"),c=n("inherits"),u=n("./utils/random"),d=n("./utils/escape"),f=n("./utils/url"),p=n("./utils/event"),x=n("./utils/transport"),m=n("./utils/object"),h=n("./utils/browser"),g=n("./utils/log"),y=n("./event/event"),w=n("./event/eventtarget"),b=n("./location"),j=n("./event/close"),k=n("./event/trans-message"),N=n("./info-receiver"),S=function(){};function E(T,_,P){if(!(this instanceof E))return new E(T,_,P);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");w.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",(P=P||{}).protocols_whitelist&&g.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=P.transports,this._transportOptions=P.transportOptions||{},this._timeout=P.timeout||0;var M=P.sessionId||8;if(typeof M=="function")this._generateSessionId=M;else{if(typeof M!="number")throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return u.string(M)}}this._server=P.server||u.numberString(1e3);var C=new l(T);if(!C.host||!C.protocol)throw new SyntaxError("The URL '"+T+"' is invalid");if(C.hash)throw new SyntaxError("The URL must not contain a fragment");if(C.protocol!=="http:"&&C.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+C.protocol+"' is not allowed.");var I=C.protocol==="https:";if(b.protocol==="https:"&&!I&&!f.isLoopbackAddr(C.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");_?Array.isArray(_)||(_=[_]):_=[];var R=_.sort();R.forEach(function(D,B){if(!D)throw new SyntaxError("The protocols entry '"+D+"' is invalid.");if(B<R.length-1&&D===R[B+1])throw new SyntaxError("The protocols entry '"+D+"' is duplicated.")});var U=f.getOrigin(b.href);this._origin=U?U.toLowerCase():null,C.set("pathname",C.pathname.replace(/\/+$/,"")),this.url=C.href,S("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:f.isOriginEqual(this.url,b.href),sameScheme:f.isSchemeEqual(this.url,b.href)},this._ir=new N(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function O(T){return T===1e3||3e3<=T&&T<=4999}c(E,w),E.prototype.close=function(T,_){if(T&&!O(T))throw new Error("InvalidAccessError: Invalid code");if(_&&123<_.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==E.CLOSING&&this.readyState!==E.CLOSED&&this._close(T||1e3,_||"Normal closure",!0)},E.prototype.send=function(T){if(typeof T!="string"&&(T=""+T),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(d.quote(T))},E.version=n("./version"),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(T,_){if(this._ir=null,T){this._rto=this.countRTO(_),this._transUrl=T.base_url?T.base_url:this.url,T=m.extend(T,this._urlInfo);var P=i.filterToEnabled(this._transportsWhitelist,T);this._transports=P.main,S(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},E.prototype._connect=function(){for(var T=this._transports.shift();T;T=this._transports.shift()){if(S("attempt",T.transportName),T.needBody&&(!o.document.body||o.document.readyState!==void 0&&o.document.readyState!=="complete"&&o.document.readyState!=="interactive"))return this._transports.unshift(T),void p.attachEvent("load",this._connect.bind(this));var _=Math.max(this._timeout,this._rto*T.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),_);var P=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),M=this._transportOptions[T.transportName],C=new T(P,this._transUrl,M);return C.on("message",this._transportMessage.bind(this)),C.once("close",this._transportClose.bind(this)),C.transportName=T.transportName,void(this._transport=C)}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(T){var _,P=this,M=T.slice(0,1),C=T.slice(1);switch(M){case"o":return void this._open();case"h":return this.dispatchEvent(new y("heartbeat")),void S("heartbeat",this.transport)}if(C)try{_=JSON.parse(C)}catch{}if(_!==void 0)switch(M){case"a":Array.isArray(_)&&_.forEach(function(I){S("message",P.transport),P.dispatchEvent(new k(I))});break;case"m":S("message",this.transport),this.dispatchEvent(new k(_));break;case"c":Array.isArray(_)&&_.length===2&&this._close(_[0],_[1],!0)}},E.prototype._transportClose=function(T,_){S("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),O(T)||T===2e3||this.readyState!==E.CONNECTING?this._close(T,_):this._connect()},E.prototype._open=function(){S("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open")),S("connected",this.transport)):this._close(1006,"Server lost session")},E.prototype._close=function(T,_,P){S("_close",this.transport,T,_,P,this.readyState);var M=!1;if(this._ir&&(M=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout((function(){this.readyState=E.CLOSED,M&&this.dispatchEvent(new y("error"));var C=new j("close");C.wasClean=P||!1,C.code=T||1e3,C.reason=_,this.dispatchEvent(C),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},E.prototype.countRTO=function(T){return 100<T?4*T:300+T},r.exports=function(T){return i=x(T),n("./iframe-bootstrap")(E,T),E}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,"url-parse":57}],15:[function(n,r,s){function o(P){return u.toString.call(P)==="[object Function]"}function i(P){return x.call(P)==="[object String]"}var l,c=Array.prototype,u=Object.prototype,d=Function.prototype,f=String.prototype,p=c.slice,x=u.toString,m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}();l=m?function(P,M,C,I){!I&&M in P||Object.defineProperty(P,M,{configurable:!0,enumerable:!1,writable:!0,value:C})}:function(P,M,C,I){!I&&M in P||(P[M]=C)};function h(P,M,C){for(var I in M)u.hasOwnProperty.call(M,I)&&l(P,I,M[I],C)}function g(P){if(P==null)throw new TypeError("can't convert "+P+" to object");return Object(P)}function y(){}h(d,{bind:function(P){var M=this;if(!o(M))throw new TypeError("Function.prototype.bind called on incompatible "+M);for(var C=p.call(arguments,1),I=Math.max(0,M.length-C.length),R=[],U=0;U<I;U++)R.push("$"+U);var D=Function("binder","return function ("+R.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof D){var B=M.apply(this,C.concat(p.call(arguments)));return Object(B)===B?B:this}return M.apply(P,C.concat(p.call(arguments)))});return M.prototype&&(y.prototype=M.prototype,D.prototype=new y,y.prototype=null),D}}),h(Array,{isArray:function(P){return x.call(P)==="[object Array]"}});var w,b,j,k=Object("a"),N=k[0]!=="a"||!(0 in k);h(c,{forEach:function(P,M){var C=g(this),I=N&&i(this)?this.split(""):C,R=M,U=-1,D=I.length>>>0;if(!o(P))throw new TypeError;for(;++U<D;)U in I&&P.call(R,I[U],U,C)}},(w=c.forEach,j=b=!0,w&&(w.call("foo",function(P,M,C){typeof C!="object"&&(b=!1)}),w.call([1],function(){j=typeof this=="string"},"x")),!(w&&b&&j)));var S=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;h(c,{indexOf:function(P,M){var C=N&&i(this)?this.split(""):g(this),I=C.length>>>0;if(!I)return-1;var R=0;for(1<arguments.length&&(R=function(U){var D=+U;return D!=D?D=0:D!==0&&D!==1/0&&D!==-1/0&&(D=(0<D||-1)*Math.floor(Math.abs(D))),D}(M)),R=0<=R?R:Math.max(0,I+R);R<I;R++)if(R in C&&C[R]===P)return R;return-1}},S);var E,O=f.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||1<".".split(/()()/).length?(E=/()??/.exec("")[1]===void 0,f.split=function(P,M){var C=this;if(P===void 0&&M===0)return[];if(x.call(P)!=="[object RegExp]")return O.call(this,P,M);var I,R,U,D,B=[],W=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.extended?"x":"")+(P.sticky?"y":""),V=0;for(P=new RegExp(P.source,W+"g"),C+="",E||(I=new RegExp("^"+P.source+"$(?!\\s)",W)),M=M===void 0?-1>>>0:function(K){return K>>>0}(M);(R=P.exec(C))&&!(V<(U=R.index+R[0].length)&&(B.push(C.slice(V,R.index)),!E&&1<R.length&&R[0].replace(I,function(){for(var K=1;K<arguments.length-2;K++)arguments[K]===void 0&&(R[K]=void 0)}),1<R.length&&R.index<C.length&&c.push.apply(B,R.slice(1)),D=R[0].length,V=U,B.length>=M));)P.lastIndex===R.index&&P.lastIndex++;return V===C.length?!D&&P.test("")||B.push(""):B.push(C.slice(V)),B.length>M?B.slice(0,M):B}):"0".split(void 0,0).length&&(f.split=function(P,M){return P===void 0&&M===0?[]:O.call(this,P,M)});var T=f.substr,_="".substr&&"0b".substr(-1)!=="b";h(f,{substr:function(P,M){return T.call(this,P<0&&(P=this.length+P)<0?0:P,M)}},_)},{}],16:[function(n,r,s){r.exports=[n("./transport/websocket"),n("./transport/xhr-streaming"),n("./transport/xdr-streaming"),n("./transport/eventsource"),n("./transport/lib/iframe-wrap")(n("./transport/eventsource")),n("./transport/htmlfile"),n("./transport/lib/iframe-wrap")(n("./transport/htmlfile")),n("./transport/xhr-polling"),n("./transport/xdr-polling"),n("./transport/lib/iframe-wrap")(n("./transport/xhr-polling")),n("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(n,r,s){(function(o){(function(){var i=n("events").EventEmitter,l=n("inherits"),c=n("../../utils/event"),u=n("../../utils/url"),d=o.XMLHttpRequest,f=function(){};function p(h,g,y,w){var b=this;i.call(this),setTimeout(function(){b._start(h,g,y,w)},0)}l(p,i),p.prototype._start=function(h,g,y,w){var b=this;try{this.xhr=new d}catch{}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();g=u.addQuery(g,"t="+ +new Date),this.unloadRef=c.unloadAdd(function(){b._cleanup(!0)});try{this.xhr.open(h,g,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){f("xhr timeout"),b.emit("finish",0,""),b._cleanup(!1)})}catch{return this.emit("finish",0,""),void this._cleanup(!1)}if(w&&w.noCredentials||!p.supportsCORS||(this.xhr.withCredentials=!0),w&&w.headers)for(var j in w.headers)this.xhr.setRequestHeader(j,w.headers[j]);this.xhr.onreadystatechange=function(){if(b.xhr){var k,N,S=b.xhr;switch(f("readyState",S.readyState),S.readyState){case 3:try{N=S.status,k=S.responseText}catch{}N===1223&&(N=204),N===200&&k&&0<k.length&&b.emit("chunk",N,k);break;case 4:N=S.status,N===1223&&(N=204),N!==12005&&N!==12029||(N=0),f("finish",N,S.responseText),b.emit("finish",N,S.responseText),b._cleanup(!1)}}};try{b.xhr.send(y)}catch{b.emit("finish",0,""),b._cleanup(!1)}},p.prototype._cleanup=function(h){if(this.xhr){if(this.removeAllListeners(),c.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),h)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!d;var x=["Active"].concat("Object").join("X");!p.enabled&&x in o&&(p.enabled=!!new(d=function(){try{return new o[x]("Microsoft.XMLHTTP")}catch{return null}}));var m=!1;try{m="withCredentials"in new d}catch{}p.supportsCORS=m,r.exports=p}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(n,r,s){(function(o){(function(){r.exports=o.EventSource}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],19:[function(n,r,s){(function(o){(function(){var i=o.WebSocket||o.MozWebSocket;r.exports=i?function(l){return new i(l)}:void 0}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],20:[function(n,r,s){var o=n("inherits"),i=n("./lib/ajax-based"),l=n("./receiver/eventsource"),c=n("./sender/xhr-cors"),u=n("eventsource");function d(f){if(!d.enabled())throw new Error("Transport created when disabled");i.call(this,f,"/eventsource",l,c)}o(d,i),d.enabled=function(){return!!u},d.transportName="eventsource",d.roundTrips=2,r.exports=d},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(n,r,s){var o=n("inherits"),i=n("./receiver/htmlfile"),l=n("./sender/xhr-local"),c=n("./lib/ajax-based");function u(d){if(!i.enabled)throw new Error("Transport created when disabled");c.call(this,d,"/htmlfile",i,l)}o(u,c),u.enabled=function(d){return i.enabled&&d.sameOrigin},u.transportName="htmlfile",u.roundTrips=2,r.exports=u},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter,l=n("../version"),c=n("../utils/url"),u=n("../utils/iframe"),d=n("../utils/event"),f=n("../utils/random"),p=function(){};function x(m,h,g){if(!x.enabled())throw new Error("Transport created when disabled");i.call(this);var y=this;this.origin=c.getOrigin(g),this.baseUrl=g,this.transUrl=h,this.transport=m,this.windowId=f.string(8);var w=c.addPath(g,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(w,function(b){y.emit("close",1006,"Unable to load an iframe ("+b+")"),y.close()}),this.onmessageCallback=this._message.bind(this),d.attachEvent("message",this.onmessageCallback)}o(x,i),x.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){d.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},x.prototype._message=function(m){if(p("message",m.data),c.isOriginEqual(m.origin,this.origin)){var h;try{h=JSON.parse(m.data)}catch{return void p("bad json",m.data)}if(h.windowId===this.windowId)switch(h.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([l,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",h.data);break;case"c":var g;try{g=JSON.parse(h.data)}catch{return void p("bad json",h.data)}this.emit("close",g[0],g[1]),this.close()}else p("mismatched window id",h.windowId,this.windowId)}else p("not same origin",m.origin,this.origin)},x.prototype.postMessage=function(m,h){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:m,data:h||""}),this.origin)},x.prototype.send=function(m){this.postMessage("m",m)},x.enabled=function(){return u.iframeEnabled},x.transportName="iframe",x.roundTrips=2,r.exports=x},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54}],23:[function(n,r,s){(function(o){(function(){var i=n("inherits"),l=n("./lib/sender-receiver"),c=n("./receiver/jsonp"),u=n("./sender/jsonp");function d(f){if(!d.enabled())throw new Error("Transport created when disabled");l.call(this,f,"/jsonp",u,c)}i(d,l),d.enabled=function(){return!!o.document},d.transportName="jsonp-polling",d.roundTrips=1,d.needBody=!0,r.exports=d}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(n,r,s){var o=n("inherits"),i=n("../../utils/url"),l=n("./sender-receiver");function c(u,d,f,p){l.call(this,u,d,function(x){return function(m,h,g){var y={};typeof h=="string"&&(y.headers={"Content-type":"text/plain"});var w=i.addPath(m,"/xhr_send"),b=new x("POST",w,h,y);return b.once("finish",function(j){if(b=null,j!==200&&j!==204)return g(new Error("http status "+j));g()}),function(){b.close(),b=null;var j=new Error("Aborted");j.code=1e3,g(j)}}}(p),f,p)}o(c,l),r.exports=c},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter,l=function(){};function c(u,d){i.call(this),this.sendBuffer=[],this.sender=d,this.url=u}o(c,i),c.prototype.send=function(u){this.sendBuffer.push(u),this.sendStop||this.sendSchedule()},c.prototype.sendScheduleWait=function(){var u,d=this;this.sendStop=function(){d.sendStop=null,clearTimeout(u)},u=setTimeout(function(){d.sendStop=null,d.sendSchedule()},25)},c.prototype.sendSchedule=function(){l("sendSchedule",this.sendBuffer.length);var u=this;if(0<this.sendBuffer.length){var d="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,d,function(f){u.sendStop=null,f?(u.emit("close",f.code||1006,"Sending error: "+f),u.close()):u.sendScheduleWait()}),this.sendBuffer=[]}},c.prototype._cleanup=function(){this.removeAllListeners()},c.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},r.exports=c},{debug:void 0,events:3,inherits:54}],26:[function(n,r,s){(function(o){(function(){var i=n("inherits"),l=n("../iframe"),c=n("../../utils/object");r.exports=function(u){function d(f,p){l.call(this,u.transportName,f,p)}return i(d,l),d.enabled=function(f,p){if(!o.document)return!1;var x=c.extend({},p);return x.sameOrigin=!0,u.enabled(x)&&l.enabled()},d.transportName="iframe-"+u.transportName,d.needBody=!0,d.roundTrips=l.roundTrips+u.roundTrips-1,d.facadeTransport=u,d}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter,l=function(){};function c(u,d,f){i.call(this),this.Receiver=u,this.receiveUrl=d,this.AjaxObject=f,this._scheduleReceiver()}o(c,i),c.prototype._scheduleReceiver=function(){var u=this,d=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);d.on("message",function(f){u.emit("message",f)}),d.once("close",function(f,p){l("close",f,p,u.pollIsClosing),u.poll=d=null,u.pollIsClosing||(p==="network"?u._scheduleReceiver():(u.emit("close",f||1006,p),u.removeAllListeners()))})},c.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},r.exports=c},{debug:void 0,events:3,inherits:54}],28:[function(n,r,s){var o=n("inherits"),i=n("../../utils/url"),l=n("./buffered-sender"),c=n("./polling");function u(d,f,p,x,m){var h=i.addPath(d,f),g=this;l.call(this,d,p),this.poll=new c(x,h,m),this.poll.on("message",function(y){g.emit("message",y)}),this.poll.once("close",function(y,w){g.poll=null,g.emit("close",y,w),g.close()})}o(u,l),u.prototype.close=function(){l.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},r.exports=u},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter,l=n("eventsource"),c=function(){};function u(d){i.call(this);var f=this,p=this.es=new l(d);p.onmessage=function(x){c("message",x.data),f.emit("message",decodeURI(x.data))},p.onerror=function(x){c("error",p.readyState);var m=p.readyState!==2?"network":"permanent";f._cleanup(),f._close(m)}}o(u,i),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){var d=this.es;d&&(d.onmessage=d.onerror=null,d.close(),this.es=null)},u.prototype._close=function(d){var f=this;setTimeout(function(){f.emit("close",null,d),f.removeAllListeners()},200)},r.exports=u},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(n,r,s){(function(o){(function(){var i=n("inherits"),l=n("../../utils/iframe"),c=n("../../utils/url"),u=n("events").EventEmitter,d=n("../../utils/random"),f=function(){};function p(m){u.call(this);var h=this;l.polluteGlobalNamespace(),this.id="a"+d.string(6),m=c.addQuery(m,"c="+decodeURIComponent(l.WPrefix+"."+this.id)),f("using htmlfile",p.htmlfileEnabled);var g=p.htmlfileEnabled?l.createHtmlfile:l.createIframe;o[l.WPrefix][this.id]={start:function(){h.iframeObj.loaded()},message:function(y){h.emit("message",y)},stop:function(){h._cleanup(),h._close("network")}},this.iframeObj=g(m,function(){h._cleanup(),h._close("permanent")})}i(p,u),p.prototype.abort=function(){this._cleanup(),this._close("user")},p.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete o[l.WPrefix][this.id]},p.prototype._close=function(m){this.emit("close",null,m),this.removeAllListeners()},p.htmlfileEnabled=!1;var x=["Active"].concat("Object").join("X");if(x in o)try{p.htmlfileEnabled=!!new o[x]("htmlfile")}catch{}p.enabled=p.htmlfileEnabled||l.iframeEnabled,r.exports=p}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(n,r,s){(function(o){(function(){var i=n("../../utils/iframe"),l=n("../../utils/random"),c=n("../../utils/browser"),u=n("../../utils/url"),d=n("inherits"),f=n("events").EventEmitter,p=function(){};function x(m){var h=this;f.call(this),i.polluteGlobalNamespace(),this.id="a"+l.string(6);var g=u.addQuery(m,"c="+encodeURIComponent(i.WPrefix+"."+this.id));o[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(g),this.timeoutId=setTimeout(function(){h._abort(new Error("JSONP script loaded abnormally (timeout)"))},x.timeout)}d(x,f),x.prototype.abort=function(){if(o[i.WPrefix][this.id]){var m=new Error("JSONP user aborted read");m.code=1e3,this._abort(m)}},x.timeout=35e3,x.scriptErrorTimeout=1e3,x.prototype._callback=function(m){this._cleanup(),this.aborting||(m&&this.emit("message",m),this.emit("close",null,"network"),this.removeAllListeners())},x.prototype._abort=function(m){this._cleanup(),this.aborting=!0,this.emit("close",m.code,m.message),this.removeAllListeners()},x.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var m=this.script;m.parentNode.removeChild(m),m.onreadystatechange=m.onerror=m.onload=m.onclick=null,this.script=null}delete o[i.WPrefix][this.id]},x.prototype._scriptError=function(){var m=this;this.errorTimer||(this.errorTimer=setTimeout(function(){m.loadedOkay||m._abort(new Error("JSONP script loaded abnormally (onerror)"))},x.scriptErrorTimeout))},x.prototype._createScript=function(m){var h,g=this,y=this.script=o.document.createElement("script");if(y.id="a"+l.string(8),y.src=m,y.type="text/javascript",y.charset="UTF-8",y.onerror=this._scriptError.bind(this),y.onload=function(){g._abort(new Error("JSONP script loaded abnormally (onload)"))},y.onreadystatechange=function(){if(p("onreadystatechange",y.readyState),/loaded|closed/.test(y.readyState)){if(y&&y.htmlFor&&y.onclick){g.loadedOkay=!0;try{y.onclick()}catch{}}y&&g._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},y.async===void 0&&o.document.attachEvent)if(c.isOpera())(h=this.script2=o.document.createElement("script")).text="try{var a = document.getElementById('"+y.id+"'); if(a)a.onerror();}catch(x){};",y.async=h.async=!1;else{try{y.htmlFor=y.id,y.event="onclick"}catch{}y.async=!0}y.async!==void 0&&(y.async=!0);var w=o.document.getElementsByTagName("head")[0];w.insertBefore(y,w.firstChild),h&&w.insertBefore(h,w.firstChild)},r.exports=x}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(n,r,s){var o=n("inherits"),i=n("events").EventEmitter;function l(c,u){i.call(this);var d=this;this.bufferPosition=0,this.xo=new u("POST",c,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(f,p){d._chunkHandler(f,p),d.xo=null;var x=f===200?"network":"permanent";d.emit("close",null,x),d._cleanup()})}o(l,i),l.prototype._chunkHandler=function(c,u){if(c===200&&u)for(var d=-1;;this.bufferPosition+=d+1){var f=u.slice(this.bufferPosition);if((d=f.indexOf(`
`))===-1)break;var p=f.slice(0,d);p&&this.emit("message",p)}},l.prototype._cleanup=function(){this.removeAllListeners()},l.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},r.exports=l},{debug:void 0,events:3,inherits:54}],33:[function(n,r,s){(function(o){(function(){var i,l,c=n("../../utils/random"),u=n("../../utils/url"),d=function(){};r.exports=function(f,p,x){i||((i=o.document.createElement("form")).style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",(l=o.document.createElement("textarea")).name="d",i.appendChild(l),o.document.body.appendChild(i));var m="a"+c.string(8);i.target=m,i.action=u.addQuery(u.addPath(f,"/jsonp_send"),"i="+m);var h=function(y){try{return o.document.createElement('<iframe name="'+y+'">')}catch{var w=o.document.createElement("iframe");return w.name=y,w}}(m);h.id=m,h.style.display="none",i.appendChild(h);try{l.value=p}catch{}i.submit();function g(y){h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){h.parentNode.removeChild(h),h=null},500),l.value="",x(y))}return h.onerror=function(){g()},h.onload=function(){g()},h.onreadystatechange=function(y){d("onreadystatechange",m,h.readyState),h.readyState==="complete"&&g()},function(){g(new Error("Aborted"))}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(n,r,s){(function(o){(function(){var i=n("events").EventEmitter,l=n("inherits"),c=n("../../utils/event"),u=n("../../utils/browser"),d=n("../../utils/url"),f=function(){};function p(x,m,h){var g=this;i.call(this),setTimeout(function(){g._start(x,m,h)},0)}l(p,i),p.prototype._start=function(x,m,h){var g=this,y=new o.XDomainRequest;m=d.addQuery(m,"t="+ +new Date),y.onerror=function(){g._error()},y.ontimeout=function(){g._error()},y.onprogress=function(){f("progress",y.responseText),g.emit("chunk",200,y.responseText)},y.onload=function(){g.emit("finish",200,y.responseText),g._cleanup(!1)},this.xdr=y,this.unloadRef=c.unloadAdd(function(){g._cleanup(!0)});try{this.xdr.open(x,m),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(h)}catch{this._error()}},p.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},p.prototype._cleanup=function(x){if(this.xdr){if(this.removeAllListeners(),c.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,x)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!(!o.XDomainRequest||!u.hasDomain()),r.exports=p}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(n,r,s){var o=n("inherits"),i=n("../driver/xhr");function l(c,u,d,f){i.call(this,c,u,d,f)}o(l,i),l.enabled=i.enabled&&i.supportsCORS,r.exports=l},{"../driver/xhr":17,inherits:54}],36:[function(n,r,s){var o=n("events").EventEmitter;function i(){var l=this;o.call(this),this.to=setTimeout(function(){l.emit("finish",200,"{}")},i.timeout)}n("inherits")(i,o),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,r.exports=i},{events:3,inherits:54}],37:[function(n,r,s){var o=n("inherits"),i=n("../driver/xhr");function l(c,u,d){i.call(this,c,u,d,{noCredentials:!0})}o(l,i),l.enabled=i.enabled,r.exports=l},{"../driver/xhr":17,inherits:54}],38:[function(n,r,s){var o=n("../utils/event"),i=n("../utils/url"),l=n("inherits"),c=n("events").EventEmitter,u=n("./driver/websocket"),d=function(){};function f(p,x,m){if(!f.enabled())throw new Error("Transport created when disabled");c.call(this);var h=this,g=i.addPath(p,"/websocket");g=g.slice(0,5)==="https"?"wss"+g.slice(5):"ws"+g.slice(4),this.url=g,this.ws=new u(this.url,[],m),this.ws.onmessage=function(y){d("message event",y.data),h.emit("message",y.data)},this.unloadRef=o.unloadAdd(function(){h.ws.close()}),this.ws.onclose=function(y){d("close event",y.code,y.reason),h.emit("close",y.code,y.reason),h._cleanup()},this.ws.onerror=function(y){h.emit("close",1006,"WebSocket connection broken"),h._cleanup()}}l(f,c),f.prototype.send=function(p){var x="["+p+"]";this.ws.send(x)},f.prototype.close=function(){var p=this.ws;this._cleanup(),p&&p.close()},f.prototype._cleanup=function(){var p=this.ws;p&&(p.onmessage=p.onclose=p.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},f.enabled=function(){return!!u},f.transportName="websocket",f.roundTrips=2,r.exports=f},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(n,r,s){var o=n("inherits"),i=n("./lib/ajax-based"),l=n("./xdr-streaming"),c=n("./receiver/xhr"),u=n("./sender/xdr");function d(f){if(!u.enabled)throw new Error("Transport created when disabled");i.call(this,f,"/xhr",c,u)}o(d,i),d.enabled=l.enabled,d.transportName="xdr-polling",d.roundTrips=2,r.exports=d},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(n,r,s){var o=n("inherits"),i=n("./lib/ajax-based"),l=n("./receiver/xhr"),c=n("./sender/xdr");function u(d){if(!c.enabled)throw new Error("Transport created when disabled");i.call(this,d,"/xhr_streaming",l,c)}o(u,i),u.enabled=function(d){return!d.cookie_needed&&!d.nullOrigin&&c.enabled&&d.sameScheme},u.transportName="xdr-streaming",u.roundTrips=2,r.exports=u},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(n,r,s){var o=n("inherits"),i=n("./lib/ajax-based"),l=n("./receiver/xhr"),c=n("./sender/xhr-cors"),u=n("./sender/xhr-local");function d(f){if(!u.enabled&&!c.enabled)throw new Error("Transport created when disabled");i.call(this,f,"/xhr",l,c)}o(d,i),d.enabled=function(f){return!f.nullOrigin&&(!(!u.enabled||!f.sameOrigin)||c.enabled)},d.transportName="xhr-polling",d.roundTrips=2,r.exports=d},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(n,r,s){(function(o){(function(){var i=n("inherits"),l=n("./lib/ajax-based"),c=n("./receiver/xhr"),u=n("./sender/xhr-cors"),d=n("./sender/xhr-local"),f=n("../utils/browser");function p(x){if(!d.enabled&&!u.enabled)throw new Error("Transport created when disabled");l.call(this,x,"/xhr_streaming",c,u)}i(p,l),p.enabled=function(x){return!x.nullOrigin&&!f.isOpera()&&u.enabled},p.transportName="xhr-streaming",p.roundTrips=2,p.needBody=!!o.document,r.exports=p}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(n,r,s){(function(o){(function(){o.crypto&&o.crypto.getRandomValues?r.exports.randomBytes=function(i){var l=new Uint8Array(i);return o.crypto.getRandomValues(l),l}:r.exports.randomBytes=function(i){for(var l=new Array(i),c=0;c<i;c++)l[c]=Math.floor(256*Math.random());return l}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],44:[function(n,r,s){(function(o){(function(){r.exports={isOpera:function(){return o.navigator&&/opera/i.test(o.navigator.userAgent)},isKonqueror:function(){return o.navigator&&/konqueror/i.test(o.navigator.userAgent)},hasDomain:function(){if(!o.document)return!0;try{return!!o.document.domain}catch{return!1}}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],45:[function(n,r,s){var o,i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;r.exports={quote:function(l){var c=JSON.stringify(l);return i.lastIndex=0,i.test(c)?(o=o||function(u){var d,f={},p=[];for(d=0;d<65536;d++)p.push(String.fromCharCode(d));return u.lastIndex=0,p.join("").replace(u,function(x){return f[x]="\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4),""}),u.lastIndex=0,f}(i),c.replace(i,function(u){return o[u]})):c}}},{}],46:[function(n,r,s){(function(o){(function(){var i=n("./random"),l={},c=!1,u=o.chrome&&o.chrome.app&&o.chrome.app.runtime;r.exports={attachEvent:function(d,f){o.addEventListener!==void 0?o.addEventListener(d,f,!1):o.document&&o.attachEvent&&(o.document.attachEvent("on"+d,f),o.attachEvent("on"+d,f))},detachEvent:function(d,f){o.addEventListener!==void 0?o.removeEventListener(d,f,!1):o.document&&o.detachEvent&&(o.document.detachEvent("on"+d,f),o.detachEvent("on"+d,f))},unloadAdd:function(d){if(u)return null;var f=i.string(8);return l[f]=d,c&&setTimeout(this.triggerUnloadCallbacks,0),f},unloadDel:function(d){d in l&&delete l[d]},triggerUnloadCallbacks:function(){for(var d in l)l[d](),delete l[d]}},u||r.exports.attachEvent("unload",function(){c||(c=!0,r.exports.triggerUnloadCallbacks())})}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./random":50}],47:[function(n,r,s){(function(o){(function(){var i=n("./event"),l=n("./browser"),c=function(){};r.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){r.exports.WPrefix in o||(o[r.exports.WPrefix]={})},postMessage:function(u,d){o.parent!==o?o.parent.postMessage(JSON.stringify({windowId:r.exports.currentWindowId,type:u,data:d||""}),"*"):c()},createIframe:function(u,d){function f(){clearTimeout(m);try{g.onload=null}catch{}g.onerror=null}function p(){g&&(f(),setTimeout(function(){g&&g.parentNode.removeChild(g),g=null},0),i.unloadDel(h))}function x(y){g&&(p(),d(y))}var m,h,g=o.document.createElement("iframe");return g.src=u,g.style.display="none",g.style.position="absolute",g.onerror=function(){x("onerror")},g.onload=function(){clearTimeout(m),m=setTimeout(function(){x("onload timeout")},2e3)},o.document.body.appendChild(g),m=setTimeout(function(){x("timeout")},15e3),h=i.unloadAdd(p),{post:function(y,w){setTimeout(function(){try{g&&g.contentWindow&&g.contentWindow.postMessage(y,w)}catch{}},0)},cleanup:p,loaded:f}},createHtmlfile:function(u,d){function f(){clearTimeout(m),g.onerror=null}function p(){w&&(f(),i.unloadDel(h),g.parentNode.removeChild(g),g=w=null,CollectGarbage())}function x(j){w&&(p(),d(j))}var m,h,g,y=["Active"].concat("Object").join("X"),w=new o[y]("htmlfile");w.open(),w.write('<html><script>document.domain="'+o.document.domain+'";<\/script></html>'),w.close(),w.parentWindow[r.exports.WPrefix]=o[r.exports.WPrefix];var b=w.createElement("div");return w.body.appendChild(b),g=w.createElement("iframe"),b.appendChild(g),g.src=u,g.onerror=function(){x("onerror")},m=setTimeout(function(){x("timeout")},15e3),h=i.unloadAdd(p),{post:function(j,k){try{setTimeout(function(){g&&g.contentWindow&&g.contentWindow.postMessage(j,k)},0)}catch{}},cleanup:p,loaded:f}}},r.exports.iframeEnabled=!1,o.document&&(r.exports.iframeEnabled=(typeof o.postMessage=="function"||typeof o.postMessage=="object")&&!l.isKonqueror())}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./browser":44,"./event":46,debug:void 0}],48:[function(n,r,s){(function(o){(function(){var i={};["log","debug","warn"].forEach(function(l){var c;try{c=o.console&&o.console[l]&&o.console[l].apply}catch{}i[l]=c?function(){return o.console[l].apply(o.console,arguments)}:l==="log"?function(){}:i.log}),r.exports=i}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],49:[function(n,r,s){r.exports={isObject:function(o){var i=typeof o;return i=="function"||i=="object"&&!!o},extend:function(o){if(!this.isObject(o))return o;for(var i,l,c=1,u=arguments.length;c<u;c++)for(l in i=arguments[c])Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=i[l]);return o}}},{}],50:[function(n,r,s){var o=n("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";r.exports={string:function(l){for(var c=i.length,u=o.randomBytes(l),d=[],f=0;f<l;f++)d.push(i.substr(u[f]%c,1));return d.join("")},number:function(l){return Math.floor(Math.random()*l)},numberString:function(l){var c=(""+(l-1)).length;return(new Array(c+1).join("0")+this.number(l)).slice(-c)}}},{crypto:43}],51:[function(n,r,s){var o=function(){};r.exports=function(i){return{filterToEnabled:function(l,c){var u={main:[],facade:[]};return l?typeof l=="string"&&(l=[l]):l=[],i.forEach(function(d){d&&(d.transportName!=="websocket"||c.websocket!==!1?l.length&&l.indexOf(d.transportName)===-1?o("not in whitelist",d.transportName):d.enabled(c)?(o("enabled",d.transportName),u.main.push(d),d.facadeTransport&&u.facade.push(d.facadeTransport)):o("disabled",d.transportName):o())}),u}}}},{debug:void 0}],52:[function(n,r,s){var o=n("url-parse");r.exports={getOrigin:function(i){if(!i)return null;var l=new o(i);if(l.protocol==="file:")return null;var c=l.port;return c=c||(l.protocol==="https:"?"443":"80"),l.protocol+"//"+l.hostname+":"+c},isOriginEqual:function(i,l){var c=this.getOrigin(i)===this.getOrigin(l);return c},isSchemeEqual:function(i,l){return i.split(":")[0]===l.split(":")[0]},addPath:function(i,l){var c=i.split("?");return c[0]+l+(c[1]?"?"+c[1]:"")},addQuery:function(i,l){return i+(i.indexOf("?")===-1?"?"+l:"&"+l)},isLoopbackAddr:function(i){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^\[::1\]$/.test(i)}}},{debug:void 0,"url-parse":57}],53:[function(n,r,s){r.exports="1.6.1"},{}],54:[function(n,r,s){typeof Object.create=="function"?r.exports=function(o,i){i&&(o.super_=i,o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(o,i){if(i){let l=function(){};o.super_=i,l.prototype=i.prototype,o.prototype=new l,o.prototype.constructor=o}}},{}],55:[function(n,r,s){var o=Object.prototype.hasOwnProperty;function i(l){try{return decodeURIComponent(l.replace(/\+/g," "))}catch{return null}}s.stringify=function(l,c){c=c||"";var u,d,f=[];for(d in typeof c!="string"&&(c="?"),l)if(o.call(l,d)){if((u=l[d])||u!=null&&!isNaN(u)||(u=""),d=encodeURIComponent(d),u=encodeURIComponent(u),d===null||u===null)continue;f.push(d+"="+u)}return f.length?c+f.join("&"):""},s.parse=function(l){for(var c,u=/([^=?&]+)=?([^&]*)/g,d={};c=u.exec(l);){var f=i(c[1]),p=i(c[2]);f===null||p===null||f in d||(d[f]=p)}return d}},{}],56:[function(n,r,s){r.exports=function(o,i){if(i=i.split(":")[0],!(o=+o))return!1;switch(i){case"http":case"ws":return o!==80;case"https":case"wss":return o!==443;case"ftp":return o!==21;case"gopher":return o!==70;case"file":return!1}return o!==0}},{}],57:[function(n,r,s){(function(o){(function(){var i=n("requires-port"),l=n("querystringify"),c=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,d=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,x=/^[a-zA-Z]:/;function m(k){return(k||"").toString().replace(c,"")}var h=[["#","hash"],["?","query"],function(k,N){return w(N.protocol)?k.replace(/\\/g,"/"):k},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};function y(k){var N,S=(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:{}).location||{},E={},O=typeof(k=k||S);if(k.protocol==="blob:")E=new j(unescape(k.pathname),{});else if(O=="string")for(N in E=new j(k,{}),g)delete E[N];else if(O=="object"){for(N in k)N in g||(E[N]=k[N]);E.slashes===void 0&&(E.slashes=d.test(k.href))}return E}function w(k){return k==="file:"||k==="ftp:"||k==="http:"||k==="https:"||k==="ws:"||k==="wss:"}function b(k,N){k=(k=m(k)).replace(u,""),N=N||{};var S,E=p.exec(k),O=E[1]?E[1].toLowerCase():"",T=!!E[2],_=!!E[3],P=0;return T?P=_?(S=E[2]+E[3]+E[4],E[2].length+E[3].length):(S=E[2]+E[4],E[2].length):_?(S=E[3]+E[4],P=E[3].length):S=E[4],O==="file:"?2<=P&&(S=S.slice(2)):w(O)?S=E[4]:O?T&&(S=S.slice(2)):2<=P&&w(N.protocol)&&(S=E[4]),{protocol:O,slashes:T||w(O),slashesCount:P,rest:S}}function j(k,N,S){if(k=(k=m(k)).replace(u,""),!(this instanceof j))return new j(k,N,S);var E,O,T,_,P,M,C=h.slice(),I=typeof N,R=this,U=0;for(I!="object"&&I!="string"&&(S=N,N=null),S&&typeof S!="function"&&(S=l.parse),E=!(O=b(k||"",N=y(N))).protocol&&!O.slashes,R.slashes=O.slashes||E&&N.slashes,R.protocol=O.protocol||N.protocol||"",k=O.rest,(O.protocol==="file:"&&(O.slashesCount!==2||x.test(k))||!O.slashes&&(O.protocol||O.slashesCount<2||!w(R.protocol)))&&(C[3]=[/(.*)/,"pathname"]);U<C.length;U++)typeof(_=C[U])!="function"?(T=_[0],M=_[1],T!=T?R[M]=k:typeof T=="string"?~(P=T==="@"?k.lastIndexOf(T):k.indexOf(T))&&(k=typeof _[2]=="number"?(R[M]=k.slice(0,P),k.slice(P+_[2])):(R[M]=k.slice(P),k.slice(0,P))):(P=T.exec(k))&&(R[M]=P[1],k=k.slice(0,P.index)),R[M]=R[M]||E&&_[3]&&N[M]||"",_[4]&&(R[M]=R[M].toLowerCase())):k=_(k,R);S&&(R.query=S(R.query)),E&&N.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||N.pathname!=="")&&(R.pathname=function(D,B){if(D==="")return B;for(var W=(B||"/").split("/").slice(0,-1).concat(D.split("/")),V=W.length,K=W[V-1],ie=!1,le=0;V--;)W[V]==="."?W.splice(V,1):W[V]===".."?(W.splice(V,1),le++):le&&(V===0&&(ie=!0),W.splice(V,1),le--);return ie&&W.unshift(""),K!=="."&&K!==".."||W.push(""),W.join("/")}(R.pathname,N.pathname)),R.pathname.charAt(0)!=="/"&&w(R.protocol)&&(R.pathname="/"+R.pathname),i(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(P=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,P),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(P+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&w(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}j.prototype={set:function(k,N,S){var E=this;switch(k){case"query":typeof N=="string"&&N.length&&(N=(S||l.parse)(N)),E[k]=N;break;case"port":E[k]=N,i(N,E.protocol)?N&&(E.host=E.hostname+":"+N):(E.host=E.hostname,E[k]="");break;case"hostname":E[k]=N,E.port&&(N+=":"+E.port),E.host=N;break;case"host":E[k]=N,f.test(N)?(N=N.split(":"),E.port=N.pop(),E.hostname=N.join(":")):(E.hostname=N,E.port="");break;case"protocol":E.protocol=N.toLowerCase(),E.slashes=!S;break;case"pathname":case"hash":if(N){var O=k==="pathname"?"/":"#";E[k]=N.charAt(0)!==O?O+N:N}else E[k]=N;break;case"username":case"password":E[k]=encodeURIComponent(N);break;case"auth":var T=N.indexOf(":");~T?(E.username=N.slice(0,T),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=N.slice(T+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(N))}for(var _=0;_<h.length;_++){var P=h[_];P[4]&&(E[P[1]]=E[P[1]].toLowerCase())}return E.auth=E.password?E.username+":"+E.password:E.username,E.origin=E.protocol!=="file:"&&w(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString(),E},toString:function(k){k&&typeof k=="function"||(k=l.stringify);var N,S=this,E=S.host,O=S.protocol;O&&O.charAt(O.length-1)!==":"&&(O+=":");var T=O+(S.protocol&&S.slashes||w(S.protocol)?"//":"");return S.username?(T+=S.username,S.password&&(T+=":"+S.password),T+="@"):S.password?(T+=":"+S.password,T+="@"):S.protocol!=="file:"&&w(S.protocol)&&!E&&S.pathname!=="/"&&(T+="@"),(E[E.length-1]===":"||f.test(S.hostname)&&!S.port)&&(E+=":"),T+=E+S.pathname,(N=typeof S.query=="object"?k(S.query):S.query)&&(T+=N.charAt(0)!=="?"?"?"+N:N),S.hash&&(T+=S.hash),T}},j.extractProtocol=b,j.location=y,j.trimLeft=m,j.qs=l,r.exports=j}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{querystringify:55,"requires-port":56}]},{},[1])(1)})})(a2);var II=a2.exports;const MI=Sx(II);function DI(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=i=>{const l=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${l}ms, with code/reason: ${i.code}/${i.reason}`)},this.close(),o==null||o.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Lo={LF:`
`,NULL:"\0"};class sr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:i,skipContentLengthHeader:l}=t;this.command=n,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=i||!1,this.skipContentLengthHeader=l||!1}static fromRawFrame(t,n){const r={},s=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const i=s(o[0]);let l=s(o[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=sr.hdrValueUnEscape(l)),r[i]=l}return new sr({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?sr.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Lo.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${sr.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Lo.LF)+Lo.LF+Lo.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),o=new Uint8Array(r.length+n.length+s.length);return o.set(r),o.set(n,r.length),o.set(s,r.length+n.length),o}static marshall(t){return new sr(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const gx=0,ka=10,Na=13,AI=58;class FI{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const o=r[s];this._onByte(o)}}_collectFrame(t){if(t!==gx&&t!==Na){if(t===ka){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Na){if(t===ka){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Na){if(t===ka){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===AI){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Na){if(t===ka){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===gx){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var or;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(or||(or={}));var Yt;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Yt||(Yt={}));var Hl;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(Hl||(Hl={}));var wi;(function(e){e.Interval="interval",e.Worker="worker"})(wi||(wi={}));class $I{constructor(t,n=wi.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===wi.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class it{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}it.V1_0="1.0";it.V1_1="1.1";it.V1_2="1.2";it.default=new it([it.V1_2,it.V1_1,it.V1_0]);class VI{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===it.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const o=s.headers.subscription,i=this._subscriptions[o]||this.onUnhandledMessage,l=s,c=this,u=this._connectedVersion===it.V1_2?l.headers.ack:l.headers["message-id"];l.ack=(d={})=>c.ack(u,o,d),l.nack=(d={})=>c.nack(u,o,d),i(l)},RECEIPT:s=>{const o=this._receiptWatchers[s.headers["receipt-id"]];o?(o(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatToleranceMultiplier=r.heartbeatGracePeriods,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame,this.onHeartbeatReceived=r.onHeartbeatReceived,this.onHeartbeatLost=r.onHeartbeatLost}start(){const t=new FI(n=>{const r=sr.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==it.V1_1&&t.version!==it.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new $I(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===or.OPEN&&(this._webSocket.send(Lo.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>s*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===or.CONNECTING||this._webSocket.readyState===or.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&DI(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:i}=t,l=new sr({command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:i});let c=l.serialize();if(this.logRawCommunication?this.debug(`>>> ${c}`):this.debug(`>>> ${l}`),this.forceBinaryWSFrames&&typeof c=="string"&&(c=new TextEncoder().encode(c)),typeof c!="string"||!this.splitLargeFrames)this._webSocket.send(c);else{let u=c;for(;u.length>0;){const d=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(d),this.debug(`chunk sent = ${d.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===or.CONNECTING||this._webSocket.readyState===or.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:i}=t,l=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:l,body:s,binaryBody:o,skipContentLengthHeader:i})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(o){return s.unsubscribe(r.id,o)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===it.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===it.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class BI{get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Yt.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=it.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Hl.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=wi.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Yt.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onHeartbeatReceived=n,this.onHeartbeatLost=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Yt.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Yt.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new VI(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Yt.DEACTIVATING&&this._changeState(Yt.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Hl.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var o;const n=t.force||!1,r=this.active;let s;if(this.state===Yt.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Yt.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==or.CLOSED){const i=this._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{this._stompHandler.onWebSocketClose=u=>{i(u),l()}})}else return this._changeState(Yt.INACTIVE),Promise.resolve();return n?(o=this._stompHandler)==null||o.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var zI=Object.defineProperty,UI=(e,t)=>{for(var n in t)zI(e,n,{get:t[n],enumerable:!0})},fd=new Map,HI=e=>{if(fd.has(e))return fd.get(e);let t=v.createContext(void 0);return fd.set(e,t),t},Zc=HI;function WI(e){let{url:t,children:n,enabled:r,name:s,...o}=e,i=Zc(s||"default"),[l,c]=v.useState(void 0),u=v.useRef(new Map);v.useEffect(()=>{let f=new BI(o);return!o.brokerURL&&!o.webSocketFactory&&(f.webSocketFactory=function(){var x;let p=new URL(t,(x=window==null?void 0:window.location)==null?void 0:x.href);if(p.protocol==="http:"||p.protocol==="https:")return new MI(t);if(p.protocol==="ws:"||p.protocol==="wss:")return new WebSocket(t);throw new Error("Protocol not supported")}),f.onConnect=function(p){o.onConnect&&o.onConnect(p),u.current.forEach(x=>{x.subscription=f.subscribe(x.destination,x.callback,x.headers)}),c(f)},f.onWebSocketClose=function(p){o.onWebSocketClose&&o.onWebSocketClose(p),c(void 0)},o.onStompError||(f.onStompError=function(p){throw p}),r!==!1&&f.activate(),()=>{f.deactivate()}},[t,r,...Object.values(o)]);let d=(f,p,x={})=>{let m=Math.random().toString(36).substr(2,9),h={destination:f,callback:p,headers:x};return u.current.set(m,h),l&&l.connected&&(h.subscription=l.subscribe(f,p,x)),()=>{let g=u.current.get(m);g.subscription&&g.subscription.unsubscribe(),u.current.delete(m)}};return a.jsx(i.Provider,{value:{client:l,subscribe:d},children:n})}var eu=WI;function GI(e,t,n={},r){let s=v.useContext(Zc(r||"default"));if(s===void 0)throw new Error("There must be a StompSessionProvider as Ancestor of all Stomp Hooks and HOCs");let o=v.useRef(t),i=Array.isArray(e)?e:[e];o.current=t,v.useEffect(()=>{let l=[];return i.forEach(c=>l.push(s.subscribe(c,u=>{o.current(u)},n))),()=>{l.forEach(c=>{c()})}},[Object.values(i).toString(),Object.values(n).toString()])}var tu=GI;function KI(e){let t=v.useContext(Zc(e||"default"));if(t===void 0)throw new Error("There must be a StompSessionProvider as Ancestor of all Stomp Hooks and HOCs");return t.client}var nu=KI,XI={};UI(XI,{StompSessionProviderMock:()=>ZI,getMockClient:()=>c2,getMockSubscriptions:()=>YI,getSentMockMessages:()=>QI,mockClientPublish:()=>l2,mockReceiveMessage:()=>JI,reset:()=>eM});var Ln=new Map;function qI(e,t,n={}){let r=Math.random().toString(36).substr(2,9);return Ln.has(e)||Ln.set(e,new Map),Ln.get(e).set(r,t),()=>{var s;(s=Ln.get(e))==null||s.delete(r)}}function JI(e,t){Ln.has(e)&&Ln.get(e).forEach(n=>{n(t)})}function YI(e){return e?Ln.get(e):Ln}var Is=new Map;function l2(e){Is.has(e.destination)||Is.set(e.destination,[]),Is.get(e.destination).push(e)}function c2(){return{publish:l2}}function QI(e){return e?Is.get(e):Is}function ZI(e){let t=Zc(e.name||"default");return a.jsx(t.Provider,{value:{subscribe:qI,client:e.client??c2()},children:e.children})}function eM(){Ln.clear(),Is.clear()}const tM=e=>{v.useEffect(()=>{if(e)return()=>{e&&(e.onConnect=null,e.onDisconnect=null,e.onWebSocketClose=null,e.onStompError=null)}},[e])},nM=(e,t,n,r)=>{const[s,o]=v.useState([]),[i,l]=v.useState(new Map),c=v.useCallback(p=>{var x,m;try{const h=typeof p.body=="string"?JSON.parse(p.body):p,g=((x=h.chatRoom)==null?void 0:x.id)||h.chatId;if(!g||g!==(e==null?void 0:e.id))return;if(h.fileId&&!h.file&&(h.file={id:h.fileId,name:`uploaded_file_${h.fileId}.bin`}),l(y=>{var b,j,k;const w=new Map(y);for(const[N,S]of w.entries()){const E=S.userId===h.userId||((b=S.sender)==null?void 0:b.id)===h.userId||S.userId===((j=h.sender)==null?void 0:j.id),O=S.fileId&&(((k=h.file)==null?void 0:k.id)===S.fileId||h.fileId===S.fileId),T=(S.message||S.content||"")===(h.message||h.content||"");E&&(O||T)&&w.delete(N)}return w}),o(y=>{const w=y.findIndex(b=>b.id===h.id);if(w!==-1){const b=[...y];return b[w]={...b[w],...h},b}return[...y,h]}),h&&typeof r=="function"){const y=h.message||h.content||((m=h.file)==null?void 0:m.name)||"";r({chatId:g,lastMessage:y,createdAt:h.createdAt})}}catch(h){console.error("Error processing incoming message:",h)}},[e==null?void 0:e.id,r]),u=v.useCallback(p=>{l(x=>new Map(x).set(p.tempId,p))},[]),d=v.useCallback(p=>{l(x=>{const m=new Map(x);return m.delete(p),m})},[]),f=v.useCallback(()=>{l(new Map)},[]);return{messages:s,pendingMessages:Array.from(i.values()),setMessages:o,processIncomingMessage:c,addPendingMessage:u,removePendingMessage:d,clearPendingMessages:f}},rM=({src:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs("div",{className:"relative max-h-[95vh] max-w-[95vw]",children:[a.jsx("img",{src:e,alt:"full-view",className:"max-h-[85vh] max-w-full rounded-lg shadow-2xl object-contain",onClick:n=>n.stopPropagation()}),a.jsx("button",{onClick:t,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2",children:a.jsx(Wt,{size:24})}),a.jsx("a",{href:e,download:!0,className:"absolute -top-12 right-12 text-white hover:text-gray-300 transition-colors p-2",title:"Download image",children:a.jsx(Gt,{size:20})})]})}):null,sM=({file:e,isAuthor:t,onPreview:n})=>{var o;const r=/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(e.name||""),s=(o=e.name)!=null&&o.includes("_")?e.name.split("_").slice(1).join("_"):e.name;return a.jsx("div",{className:`mt-2 rounded-lg border overflow-hidden ${t?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:r?a.jsx("div",{className:"cursor-pointer",onClick:()=>n(e),children:a.jsx("img",{src:`${je}/api/v1/file/getFile/${e.id}?${Date.now()}`,alt:"attachment",className:"w-full max-w-xs object-cover transition-transform hover:scale-105"})}):a.jsxs("a",{href:`${je}/api/v1/file/getFile/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 hover:bg-opacity-80 transition-colors no-underline",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:a.jsx(et,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s}),a.jsx("p",{className:"text-xs text-gray-500",children:e.size?oM(e.size):"File"})]}),a.jsx(Gt,{size:16,className:"text-gray-400"})]})})},oM=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},iM=J.memo(({message:e,isAuthor:t,onEdit:n,onDelete:r,currentUserId:s})=>{const{id:o,tempId:i,message:l,content:c,sender:u,userId:d,createdAt:f,edited:p,pending:x,file:m,fileId:h}=e,[g,y]=v.useState(null),[w,b]=v.useState(!1),j=v.useRef(null),k=l||c||"",N=JSON.parse(localStorage.getItem("roles")||"[]"),S=N.length>0?N[0].name:"ROLE_OTHER",E=v.useMemo(()=>t||d===s||(u==null?void 0:u.id)===s?"You":u!=null&&u.name?u.name:u!=null&&u.phone?u.phone:"Unknown",[t,d,u,s]),O=v.useMemo(()=>new Date(f||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[f]),T=v.useCallback(()=>{b(!1),x||n(e)},[x,n,e]),_=v.useCallback(()=>{b(!1),o&&r(o)},[o,r]),P=v.useCallback(C=>{/\.(jpg|jpeg|png|gif|webp)$/i.test(C.name||"")&&y(`${je}/api/v1/file/getFile/${C.id}`)},[]),M=v.useMemo(()=>m||(h?{id:h,name:"attachment"}:null),[m,h]);return v.useEffect(()=>{const C=I=>{j.current&&!j.current.contains(I.target)&&b(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} px-2 sm:px-4`,children:a.jsx("div",{className:`relative w-fit max-w-full sm:max-w-[85%] md:max-w-[80%] lg:max-w-[70%] group ${x?"opacity-70":""}`,style:{wordBreak:"break-word"},children:a.jsxs("div",{className:`relative p-4 rounded-2xl transition-all duration-200 ${x?"bg-gray-200 text-gray-600 animate-pulse":t?"bg-blue-500 text-white shadow-lg":"bg-white text-gray-800 shadow-sm border border-gray-100"}`,children:[!t&&a.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:E}),k&&a.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:k}),M&&a.jsx(sM,{file:M,isAuthor:t,onPreview:P}),a.jsxs("div",{className:`flex items-center justify-end gap-2 mt-2 ${t?"text-blue-100":"text-gray-500"}`,children:[p&&a.jsx("span",{className:"text-xs italic",children:"edited"}),x?a.jsx(jc,{size:12,className:"animate-pulse"}):a.jsx(wc,{size:12}),a.jsx("span",{className:"text-xs",children:O})]}),(t||S==="ROLE_ADMIN")&&!x&&a.jsxs("div",{ref:j,className:`absolute top-2 ${t?"left-2":"right-2"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[a.jsx("button",{onClick:()=>b(!w),className:`p-1 rounded-full ${t?"bg-blue-400 hover:bg-blue-300 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-600"} transition-colors`,children:a.jsx(Nc,{size:14})}),w&&a.jsxs("div",{className:`absolute ${t?"right-0":"left-0"} bottom-0 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-32 z-10`,children:[a.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Sc,{size:14}),"Edit"]}),a.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Tc,{size:14}),"Delete"]})]})]})]})})}),g&&a.jsx(rM,{src:g,onClose:()=>y(null)})]})});function aM({chat:e,role:t,user:n,onLastMessageUpdate:r,onChatDeleted:s}){const o=nu(),i=v.useRef(null),l=v.useRef(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[p,x]=v.useState(!1);tM(o);const{messages:m,pendingMessages:h,setMessages:g,processIncomingMessage:y,addPendingMessage:w,removePendingMessage:b,clearPendingMessages:j}=nM(e,n,o,r);tu(`/topic/chat/${e==null?void 0:e.id}`,y);const k=v.useMemo(()=>[...m,...h].sort((C,I)=>new Date(C.createdAt||0)-new Date(I.createdAt||0)),[m,h]),N=v.useCallback(()=>{var C;(C=i.current)==null||C.scrollIntoView({behavior:"smooth",block:"nearest"})},[]),S=v.useCallback(()=>{if(l.current){const{scrollTop:C,scrollHeight:I,clientHeight:R}=l.current;x(I-C-R>100)}},[]),E=v.useCallback(async()=>{if(e!=null&&e.id){f(!0);try{const C=await H(`/api/v1/chats/${e.id}/messages`,"GET");g(C.data||[])}catch{A.error("Failed to load messages")}finally{f(!1)}}},[e==null?void 0:e.id,g]);v.useEffect(()=>{E()},[E]),v.useEffect(()=>{p||N()},[k.length,N,p]);const O=v.useCallback(async C=>{const I=typeof C=="string"?C:C.text,R=C.fileId||null,U=I==null?void 0:I.trim();if(!(o!=null&&o.connected)||!(e!=null&&e.id)||!(n!=null&&n.id)||!U&&!R){A.warn("       ");return}const D={tempId:Date.now(),chatId:e.id,userId:n.id,message:U||"",createdAt:new Date().toISOString(),pending:!0,fileId:R||null};w(D);try{o.publish({destination:"/app/chat.send",body:JSON.stringify(D)})}catch(B){console.error("Failed to send message:",B),A.error("   "),b(D.tempId)}},[o,e==null?void 0:e.id,n==null?void 0:n.id,w,b]),T=v.useCallback(C=>{C.pending||u(C)},[]),_=v.useCallback(async C=>{if(!(c!=null&&c.id)||!(e!=null&&e.id)){A.error("Cannot edit unsent message");return}const I=C.trim();if(!I){A.warn("Message cannot be empty");return}try{await H(`/api/v1/chats/${e.id}/messages/${c.id}`,"PUT",{message:I});const R={id:c.id,chatId:e.id,userId:n.id,message:I,edited:!0};o.publish({destination:"/app/chat.edit",body:JSON.stringify(R)}),g(U=>U.map(D=>D.id===c.id?{...D,message:I,edited:!0}:D)),u(null)}catch(R){console.error("Edit error:",R),A.error("Failed to edit message")}},[c,e==null?void 0:e.id,n==null?void 0:n.id,o,g]),P=v.useCallback(async C=>{if(C)try{await H(`/api/v1/chats/${e.id}/messages/${C}`,"DELETE"),g(I=>I.filter(R=>R.id!==C))}catch(I){console.error("Delete error:",I),A.error("Failed to delete message")}},[e==null?void 0:e.id,g]),M=v.useCallback(C=>{var I;return C.userId===(n==null?void 0:n.id)||((I=C.sender)==null?void 0:I.id)===(n==null?void 0:n.id)},[n==null?void 0:n.id]);return e?a.jsxs("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx(RI,{chat:e,role:t,connected:o==null?void 0:o.connected,user:n,onChatDeleted:s}),a.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto px-3 sm:px-6 py-4 space-y-3 scroll-smooth",onScroll:S,children:[d?a.jsx("div",{className:"flex justify-center items-center h-20",children:a.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-blue-500"}),"Loading messages..."]})}):k.length===0?a.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No messages yet"}),a.jsx("div",{className:"text-gray-400 text-sm max-w-md",children:"Start a conversation by sending a message or sharing a file"})]}):k.map(C=>a.jsx(iM,{message:C,isAuthor:M(C),onEdit:T,onDelete:P,currentUserId:n==null?void 0:n.id,role:t},C.id||C.tempId)),a.jsx("div",{ref:i})]}),p&&a.jsx("button",{onClick:N,className:"absolute bottom-20 right-6 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors z-10",children:a.jsx(Gt,{size:20,className:"rotate-180"})}),a.jsx(LI,{onSend:O,editing:c,onSaveEdit:_,onCancelEdit:()=>u(null),disabled:!(o!=null&&o.connected)})]}):a.jsx("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100 items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"Select a chat to start messaging"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Choose a conversation from the list to begin"})]})})}const lM=J.memo(aM);function cM(){const[e,t]=v.useState([]),[n,r]=v.useState(null),[s,o]=v.useState(null),[i,l]=v.useState(!1),c=Ve(),u=localStorage.getItem("phone"),d=v.useRef(0),f=v.useRef(0),p=JSON.parse(localStorage.getItem("roles")||"[]"),x=p.length>0?p[0].name:"ROLE_OTHER";v.useEffect(()=>{const j=N=>{d.current=N.touches[0].clientX},k=N=>{f.current=N.changedTouches[0].clientX;const S=f.current-d.current;d.current<50&&S>80&&(n?r(null):l(!0))};return window.addEventListener("touchstart",j),window.addEventListener("touchend",k),()=>{window.removeEventListener("touchstart",j),window.removeEventListener("touchend",k)}},[n]);const m=async()=>{try{const j=await H("/api/v1/admin/all-users","GET"),N=(Array.isArray(j.data)?j.data:[]).find(S=>S.phone===u);N&&(o({id:N.id,name:N.name}),localStorage.setItem("user",JSON.stringify(N)))}catch(j){console.error("   :",j)}},h=j=>{t(k=>k.filter(N=>N.id!==j)),r(null)};v.useEffect(()=>{localStorage.getItem("access_token")||c("/admin/login")},[]),v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const j=await H("/api/v1/chats","GET"),k=Array.isArray(j.data)?j.data:[],N=await Promise.all(k.map(async S=>{var E;try{const T=(await H(`/api/v1/chats/${S.id}/messages`,"GET")).data||[];if(T.length>0){const _=T[T.length-1];return{...S,lastMessage:{message:_.message||_.content||"",createdAt:_.createdAt,userId:_.userId||((E=_.sender)==null?void 0:E.id),file:_.file?{id:_.file.id,name:_.file.name,prefix:_.file.prefix}:null}}}}catch(O){console.warn("    :",S.id,O)}return S}));t(N)}catch(j){console.error("   :",j)}},y=j=>r(j),w=()=>{localStorage.clear(),c("/admin/login")},b=()=>{n?r(null):l(!i)};return a.jsx(eu,{url:`${je.replace("http","ws")}/ws`,reconnectDelay:5e3,children:a.jsxs("div",{className:"flex min-h-screen w-full max-w-full bg-gray-50 relative overflow-x-hidden",children:[!i&&a.jsx("button",{onClick:b,className:"lg:hidden fixed top-9 left-1 font-black text-xl z-50 text-blue-700",children:n?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:"w-4 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-6 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M0 88a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24A24 24 0 0 1 0 88zm0 160a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24a24 24 0 0 1-24-24zm24 136a24 24 0 0 0 0 48h400a24 24 0 0 0 0-48H24z"})})}),a.jsx("div",{className:`${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(xc,{onLogout:w})}),i&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>l(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-screen w-full max-w-full overflow-x-hidden",children:[a.jsx("div",{className:`${n?"hidden":"block"} lg:block w-full lg:w-1/4 border-r bg-white p-4 overflow-y-auto`,children:a.jsx(OP,{chats:e,onSelect:y,role:x,user:s,onChatCreated:j=>{j!=null&&j.id&&(t(k=>[...k,j]),r(j))}})}),n?a.jsx("div",{className:"flex-1 relative bg-white",children:a.jsx(lM,{chat:n,role:x,user:s,onChatDeleted:h,onLastMessageUpdate:j=>{t(k=>k.map(N=>N.id===j.chatId?{...N,lastMessage:{message:j.lastMessage,createdAt:j.createdAt}}:N))}})}):a.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center text-gray-400",children:" ,   "})]}),a.jsx(cn,{position:"top-right",autoClose:2e3})]})})}function Ap({onLogout:e}){const t=Ve(),n=_t(),r=s=>`
      block w-full text-left px-4 py-2 rounded-lg font-medium transition-colors
      ${n.pathname===s?"bg-blue-600 text-white shadow-md":"text-gray-200 hover:bg-gray-700 hover:text-white"}
    `;return a.jsxs("aside",{className:"w-64 bg-gray-800 text-white p-6 flex flex-col justify-between min-h-screen",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Reception Panel"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>t("/reception/dashboard"),className:r("/reception/dashboard"),children:" Bosh sahifa"}),a.jsx("button",{onClick:()=>t("/reception/bookings"),className:r("/reception/bookings"),children:" Bookings"}),a.jsx("button",{onClick:()=>t("/reception/talk"),className:r("/reception/talk"),children:" Chats"})]})]}),a.jsx("button",{onClick:e,className:"mt-8 bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg text-white font-semibold transition-all duration-200",children:" "})]})}function uM(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),s=v.useRef(0),o=v.useRef(0),i=Ve();v.useEffect(()=>{localStorage.getItem("access_token")||i("/admin/login")},[]),v.useEffect(()=>{const d=p=>{s.current=p.touches[0].clientX},f=p=>{o.current=p.changedTouches[0].clientX;const x=o.current-s.current;s.current<50&&x>80&&r(!0)};return window.addEventListener("touchstart",d),window.addEventListener("touchend",f),()=>{window.removeEventListener("touchstart",d),window.removeEventListener("touchend",f)}},[]);const l=async(d,f="GET",p=null,x=null)=>{let m=await H(d,f,p,x);if(m&&m.error&&(m.data===401||m.data===403)){const h=await H("/api/admin/refresh","POST",null,null);h&&!h.error?(localStorage.setItem("access_token",h.data.accessToken),m=await H(d,f,p,x)):(localStorage.removeItem("access_token"),i("/admin/login"))}return m};v.useEffect(()=>{c()},[i]);const c=async()=>{const d=await l("/api/v1/room-booking","GET");if(d&&!d.error){const f=new Date;f.setHours(0,0,0,0);const p=new Date(f);p.setDate(f.getDate()+1);const x=d.data.filter(m=>{if(!m.checkInTime)return!1;const h=new Date(m.checkInTime);return m.bookingStatus===3&&h>=f&&h<p});t(x)}},u=()=>{localStorage.clear(),i("/admin/login")};return a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[!n&&a.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(Ap,{onLogout:u})}),n&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>r(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:" "}),a.jsx("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:e.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"  ."}):a.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border px-4 py-2",children:"ID"}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:""})]})}),a.jsx("tbody",{children:e.map(d=>a.jsxs("tr",{children:[a.jsx("td",{className:"border px-4 py-2",children:d.bookingId}),a.jsx("td",{className:"border px-4 py-2",children:d.room?d.room.id:""}),a.jsx("td",{className:"border px-4 py-2",children:d.client?d.client.fullName:""}),a.jsx("td",{className:"border px-4 py-2",children:d.checkInTime?new Date(d.checkInTime).toLocaleDateString():""}),a.jsx("td",{className:"border px-4 py-2",children:d.checkOutTime?new Date(d.checkOutTime).toLocaleDateString():""}),a.jsx("td",{className:"border px-4 py-2",children:d.breakfast?"":""}),a.jsx("td",{className:"border px-4 py-2",children:d.status?"":""}),a.jsxs("td",{className:"border px-4 py-2",children:[d.price," UZS"]})]},d.id))})]})})})]})]})}function dM(){var ao,Gi,dn,lo;const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,o]=v.useState(!0),[i,l]=v.useState(new Date),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,x]=v.useState(null),[m,h]=v.useState(!1),[g,y]=v.useState(!1),[w,b]=v.useState(!1),[j,k]=v.useState(null),[N,S]=v.useState([]),[E,O]=v.useState(!1),[T,_]=v.useState({fullName:"",email:"",passportNumber:"",phone:"",breakfast:!0}),[P,M]=v.useState({roomId:"",checkInTime:"",checkOutTime:"",manual:!0,color:"yellow",description:"",toCook:""}),[C,I]=v.useState(null),[R,U]=v.useState(""),[D,B]=v.useState(""),W=i.getFullYear(),V=i.getMonth(),K=new Date(W,V+1,0).getDate(),ie=Array.from({length:K},(F,q)=>q+1),le=["","","","","","","","","","","",""],[ge,he]=v.useState(window.innerWidth<768),[ue,nt]=v.useState(null),[ft,Lt]=v.useState("idle"),rt=JSON.parse(localStorage.getItem("roles"))||[],Xn=rt.length>0?rt[0].name:null,Nn=Xn==="ROLE_ADMIN",En=Xn==="ROLE_RECEPTION",Kt=F=>{Lt("exiting"),setTimeout(()=>{Lt("idle"),F()},300)};v.useEffect(()=>{const F=q=>{if(q.ctrlKey&&q.key==="c")C&&(nt(C),A.success(" !"));else if(q.ctrlKey&&q.key==="v"&&ue){const se=n.find(L=>L.id>ue.room.id);if(se){const L={clientId:ue.client.id,roomId:se.id,checkInTime:ue.checkInTime,checkOutTime:ue.checkOutTime,breakfast:ue.breakfast,manual:!0};H("/api/v1/room-booking","POST",L).then(G=>{G.error||(A.success(`   ${se.roomName}`),Cn())})}else A.error("    !")}};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[C,ue,n]),v.useEffect(()=>{const F=()=>he(window.innerWidth<768);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),v.useEffect(()=>{const F=document.body;m||g||w?F.style.overflow="hidden":F.style.overflow=""},[m,g,w]),v.useEffect(()=>{Cn()},[i]);const Cn=async()=>{o(!0),await Promise.all([Bi(),qn(),Tr()]),o(!1)},Tr=async()=>{const F=await H("/api/v1/client","GET");F&&!F.error&&S(F.data)},Bi=async()=>{const F=await H("/api/v1/room-booking","GET");if(F&&!F.error){const q=F.data.filter(se=>se.bookingStatus===3);t(q)}},qn=async()=>{const F=await H("/api/v1/room","GET");F&&!F.error&&r(F.data)},ru=(F,q)=>{const se=ro(W,V,q);return e.find(L=>{const G=L.checkInTime.includes("T")?L.checkInTime.split("T")[0]:L.checkInTime,ne=L.checkOutTime.includes("T")?L.checkOutTime.split("T")[0]:L.checkOutTime,Q=new Date(se),ve=new Date(G),Xt=new Date(ne);return L.room.id===F&&Q>=ve&&Q<=Xt})},ro=(F,q,se)=>{const L=String(q+1).padStart(2,"0"),G=String(se).padStart(2,"0");return`${F}-${L}-${G}`},so=(F,q)=>{u(!0),f({roomId:F,day:q}),x({roomId:F,day:q})},su=(F,q)=>{c&&x({roomId:F,day:q})},os=()=>{if(d&&p){const F=Math.min(d.day,p.day),q=Math.max(d.day,p.day),se=un.findIndex(ve=>ve.id===d.roomId),L=un.findIndex(ve=>ve.id===p.roomId),G=Math.min(se,L),ne=Math.max(se,L),Q=un.slice(G,ne+1);M({rooms:Q,roomIds:Q.map(ve=>ve.id),checkInTime:ro(W,V,F),checkOutTime:ro(W,V,q+1),manual:!0}),h(!0)}u(!1)},zi=async()=>{try{const F=await H("/api/v1/client","POST",T);if(F.error){A.error("   ");return}const q=F.data.id,se=Array.isArray(P.roomIds)?P.roomIds:[P.roomId];for(const L of se){const G={clientId:q,roomId:L,checkInTime:P.checkInTime,checkOutTime:P.checkOutTime,breakfast:T.breakfast,manual:!0,color:P.color,description:P.description,toCook:P.toCook,bookingStatus:3};(await H("/api/v1/room-booking","POST",G)).error&&console.error("   ",L)}A.success(" !"),h(!1),_({fullName:"",email:"",passportNumber:"",phone:"",breakfast:!0}),M({roomId:"",checkInTime:"",checkOutTime:"",manual:!0}),Cn()}catch{A.error("   ")}},Ui=F=>{var q,se;(En||Nn)&&(I({...F,description:F.description||""}),U(F.room.id.toString()),B(((se=(q=F.room.roomType)==null?void 0:q.id)==null?void 0:se.toString())||""),y(!0))},Hi=F=>{var q;k({...F,originalStatus:F.status,originalPrice:F.price,originalTypeId:(q=F.roomType)==null?void 0:q.id}),b(!0)},ou=async()=>{var F;if(j)try{if(j.status!==j.originalStatus&&(await H(`/api/v1/room/status/${j.id}`,"PUT",{status:j.status})).error)throw new Error("   ");if(j.price!==j.originalPrice&&(await H(`/api/v1/room/price/${j.id}/${j.price}`,"PUT")).error)throw new Error("   ");if(D&&D!==((F=j.originalTypeId)==null?void 0:F.toString())&&(await H(`/api/v1/room/type/${j.id}/${D}`,"PUT")).error)throw new Error("   ");A.success(" !"),b(!1),qn()}catch(q){A.error(q.message||"   ")}},oo=async()=>{if(!C)return;const F={roomId:R,clientId:C.client.id,checkInTime:C.checkInTime,checkOutTime:C.checkOutTime,breakfast:C.breakfast,arrived:C.arrived,color:C.color,description:C.description,toCook:C.toCook},q=await H(`/api/v1/room-booking/change-booking-time/${C.id}`,"PUT",F);D&&await H(`/api/v1/room/type/${R}/${D}`,"PUT"),q.error?A.error("  "):(A.success(" "),y(!1),Cn())},iu=async()=>{if(!C||!window.confirm(" ?"))return;(await H(`/api/v1/room-booking/${C.id}`,"DELETE")).error?A.error("  "):(A.success(" "),y(!1),Cn())},Wi=F=>{if(!F)return"";const[q,se,L]=F.split("-");return`${L}-${se}-${q}`},io=F=>{l(new Date(W,V+F,1))},au=F=>{const q=new Date(W,V,F);return["","","","","","",""][q.getDay()]};if(s)return a.jsx("div",{className:"flex justify-center items-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const un=[...n].sort((F,q)=>F.id-q.id);return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[le[V]," ",W]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>io(-1),className:"p-2 bg-white rounded-lg shadow hover:shadow-md transition-shadow","aria-label":" ",children:""}),a.jsx("button",{onClick:()=>l(new Date),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:""}),a.jsx("button",{onClick:()=>io(1),className:"p-2 bg-white rounded-lg shadow hover:shadow-md transition-shadow","aria-label":" ",children:""})]})]})}),a.jsx("div",{className:"overflow-x-auto overflow-y-hidden bg-white select-none scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{maxWidth:"100%",overscrollBehaviorX:"contain"},onMouseDown:F=>F.preventDefault(),onMouseUp:os,onTouchEnd:os,children:a.jsx("div",{className:"min-w-max",children:a.jsxs("table",{className:"w-full border-collapse text-sm",onMouseDown:F=>{if(F.target.closest("th")){F.stopPropagation(),F.preventDefault();return}},onTouchStart:F=>{if(F.target.closest("th")){F.stopPropagation(),F.preventDefault();return}},children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsxs("th",{className:"sticky left-0 z-10 bg-gray-100 border border-gray-200 px-3 py-3 text-left min-w-[120px]",children:[a.jsx("div",{className:"font-semibold text-gray-700",children:""}),a.jsx("div",{className:"text-xs text-gray-500 font-normal",children:" / "})]}),ie.map(F=>{const q=new Date(W,V,F),se=new Date;se.setHours(0,0,0,0);const L=q.getTime()===se.getTime(),G=q.getDay()===0||q.getDay()===6;return a.jsxs("th",{className:`border border-gray-200 px-1 py-2 text-center min-w-[${ge?"32":"48"}px] ${L?"bg-blue-500 text-white border-blue-600":G?"bg-red-50 text-red-700":"bg-gray-50 text-gray-700"}`,children:[a.jsx("div",{className:"text-xs font-semibold",children:au(F)}),a.jsx("div",{className:`text-sm font-bold ${L?"text-white":""}`,children:F})]},F)})]})}),a.jsx("tbody",{children:un.map(F=>{var q;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"sticky left-0 z-10 bg-white border border-gray-200 px-3 py-1 cursor-pointer hover:bg-blue-50 transition-colors group",onClick:()=>Hi(F),children:[a.jsx("div",{className:"font-semibold text-gray-800",children:F.roomName}),a.jsx("div",{className:"text-xs text-gray-600",children:((q=F.roomType)==null?void 0:q.name)||""}),a.jsx("div",{className:"text-[10px] text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:F.description})]}),ie.map(se=>{var Ki;const L=ru(F.id,se),G=un.findIndex(Mt=>Mt.id===F.id),ne=d?un.findIndex(Mt=>Mt.id===d.roomId):-1,Q=p?un.findIndex(Mt=>Mt.id===p.roomId):-1,ve=Nn&&c&&d&&p&&se>=Math.min(d.day,p.day)&&se<=Math.max(d.day,p.day)&&G>=Math.min(ne,Q)&&G<=Math.max(ne,Q),Xt=new Date(W,V,se),qt=new Date;qt.setHours(0,0,0,0);const It=Xt.getTime()===qt.getTime();let fn="bg-green-50 hover:bg-green-100",Jn="";if(L){switch(L.color){case"red":fn="bg-red-400 text-white";break;case"brown":fn="bg-amber-800 text-white";break;case"green":fn="bg-green-500 text-white";break;case"yellow":fn="bg-yellow-400 text-black";break;default:fn="bg-orange-300 text-white"}L.arrived===!0?Jn="":L.arrived===!1?Jn="":Jn="?"}return a.jsxs("td",{className:`border h-12 cursor-pointer transition-colors relative ${fn} 
                        ${It?"ring-2 ring-blue-400 ring-inset":""}
                        ${ve?"bg-blue-200":""}
                        ${L?L.manual?"border-2 border-gray-200":"border-2 border-fuchsia-950":"border border-gray-200"}
                      `,onMouseDown:()=>{L?Ui(L):so(F.id,se)},onTouchStart:()=>{L?Ui(L):so(F.id,se)},onMouseEnter:()=>!L&&su(F.id,se),"data-room-id":F.id,"data-day":se,children:[((Ki=L==null?void 0:L.client)==null?void 0:Ki.fullName)&&a.jsxs("div",{className:"absolute inset-1 flex flex-col justify-center items-center text-center",children:[a.jsx("span",{className:"text-[10px] font-medium leading-tight truncate",children:ge?L.client.fullName.split(" ")[0]:L.client.fullName}),Jn&&a.jsx("span",{className:"text-xs font-bold mt-1",children:Jn})]}),ve&&a.jsx("div",{className:"absolute inset-0 bg-blue-300 bg-opacity-40 border-2 border-blue-500 pointer-events-none"})]},se)})]},F.id)})})]})})}),Nn&&m&&a.jsx(hd,{onClose:()=>Kt(()=>h(!1)),title:" ",animation:ft,children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:a.jsx("i",{children:Wi(P.checkInTime)})})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:a.jsx("i",{children:Wi(P.checkOutTime)})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-semibold text-sm mb-3 text-slate-700",children:" :"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(ao=P.rooms)==null?void 0:ao.map(F=>{var q;return a.jsxs("span",{className:"bg-white px-4 py-2 rounded-full text-sm font-medium text-slate-700 border border-slate-300 shadow-sm",children:[F.roomName,"  ",((q=F.roomType)==null?void 0:q.name)||""]},F.id)})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"  *"}),a.jsx("input",{list:"client-list",type:"text",placeholder:"  ...",value:T.fullName,onChange:F=>{const q=F.target.value;_({...T,fullName:q});const se=N.find(L=>L.fullName.toLowerCase()===q.toLowerCase());se&&_({fullName:se.fullName,email:se.email||"",passportNumber:se.passportNumber||"",phone:se.phone||"",breakfast:se.breakfast??!0})},className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",required:!0}),a.jsx("datalist",{id:"client-list",children:N.map(F=>a.jsx("option",{value:F.fullName},F.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:""}),a.jsx("textarea",{placeholder:"   ...",value:P.description,onChange:F=>M({...P,description:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-200 bg-white",rows:3})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:P.toCook||"",onChange:F=>M({...P,toCook:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:T.breakfast,onChange:F=>_({...T,breakfast:F.target.checked}),className:"sr-only"}),a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${T.breakfast?"bg-emerald-500":"bg-slate-300"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ${T.breakfast?"transform translate-x-7":"transform translate-x-1"}`})})]}),a.jsx("span",{className:"font-medium text-slate-700",children:" "})]})}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("div",{className:"flex gap-3",children:[{name:"",value:"red",className:"bg-red-500"},{name:"",value:"brown",className:"bg-amber-800"},{name:"",value:"green",className:"bg-green-500"},{name:"",value:"yellow",className:"bg-yellow-400"}].map(F=>a.jsx("button",{type:"button",onClick:()=>M({...P,color:F.value}),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 transform ${P.color===F.value?"border-slate-800 scale-110 shadow-lg":"border-slate-300 hover:scale-105"} ${F.className}`,title:F.name},F.value))})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-6 border-t border-slate-200",children:[a.jsx("button",{onClick:()=>Kt(()=>h(!1)),className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:zi,className:"px-8 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:"  "})]})]})}),Nn&&w&&j&&a.jsx(hd,{onClose:()=>b(!1),title:" ",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-lg",children:j.roomName}),a.jsx("p",{className:"text-gray-600",children:j.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:":"}),a.jsx("input",{type:"number",value:j.price,onChange:F=>k({...j,price:F.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" :"}),a.jsxs("select",{value:((Gi=j.roomType)==null?void 0:Gi.id)||"",onChange:F=>k({...j,roomType:{id:Number(F.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"TWIN",children:"TWIN"}),a.jsx("option",{value:"DOUBLE",children:"DOUBLE"}),a.jsx("option",{value:"TRIPLE",children:"TRIPLE"})]})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j.status,onChange:F=>k({...j,status:F.target.checked}),className:"w-4 h-4 text-blue-500 rounded focus:ring-blue-500"}),a.jsx("span",{className:"font-medium",children:j.status?" ":" "})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between pt-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""}),a.jsx("button",{onClick:ou,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" "})]})]})}),g&&C&&a.jsx(hd,{onClose:()=>Kt(()=>y(!1)),title:En?"   ":" ",animation:ft,children:En?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.client.fullName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.room.roomName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:((dn=C.room.roomType)==null?void 0:dn.name)||""})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:" : "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.checkInTime.split("T")[0]||""})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:" : "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.checkInTime.split("T")[0]||""})]})]})]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:C.toCook||"",onChange:F=>I({...C,toCook:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsx("div",{className:"flex gap-3 justify-between pt-6 border-t border-slate-200",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Kt(()=>y(!1)),className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:oo,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:" "})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-200",children:a.jsxs("div",{className:"gap-4 text-sm",children:[a.jsxs("div",{className:"md:col-span-2 bg-white p-3 rounded-xl",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.client.fullName})]}),a.jsxs("div",{className:"flex gap-4 justify-between mt-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:C.room.roomName})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl w-1/2",children:[a.jsx("span",{className:"text-slate-600",children:": "}),a.jsx("span",{className:"font-semibold text-slate-800",children:((lo=C.room.roomType)==null?void 0:lo.name)||""})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("input",{type:"date",value:C.checkInTime.split("T")[0],onChange:F=>I({...C,checkInTime:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("input",{type:"date",value:C.checkOutTime.split("T")[0],onChange:F=>I({...C,checkOutTime:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:""}),a.jsx("textarea",{value:C.description||"",onChange:F=>I({...C,description:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-1 items-center mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700",children:""}),a.jsx("button",{type:"button",onClick:()=>O(!E),children:E?a.jsx(Rs,{className:"text-slate-600",size:20}):a.jsx(_s,{className:"text-slate-600",size:20})})]}),E&&a.jsx("textarea",{placeholder:" ...",value:C.toCook||"",onChange:F=>I({...C,toCook:F.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-slate-50 p-4 my-2 rounded-xl border border-slate-200",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:C.breakfast,onChange:F=>I({...C,breakfast:F.target.checked}),className:"sr-only"}),a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${C.breakfast?"bg-emerald-500":"bg-slate-300"}`,children:a.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-200 ${C.breakfast?"transform translate-x-7":"transform translate-x-1"}`})})]}),a.jsx("span",{className:"font-medium text-slate-700",children:" "})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsxs("select",{value:C.arrived===null?"null":C.arrived?"true":"false",onChange:F=>{const q=F.target.value==="null"?null:F.target.value==="true";I({...C,arrived:q})},className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"null",children:" "}),a.jsx("option",{value:"true",children:" "}),a.jsx("option",{value:"false",children:"  "})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsx("div",{className:"flex gap-3",children:[{name:"",value:"red",className:"bg-red-500"},{name:"",value:"brown",className:"bg-amber-800"},{name:"",value:"green",className:"bg-green-500"},{name:"",value:"yellow",className:"bg-yellow-400"}].map(F=>a.jsx("button",{onClick:()=>I({...C,color:F.value}),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 transform ${C.color===F.value?"border-slate-800 scale-110 shadow-lg":"border-slate-300 hover:scale-105"} ${F.className}`,title:F.name},F.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:" "}),a.jsxs("select",{value:R,onChange:F=>U(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"",children:" "}),n.map(F=>{var q;return a.jsxs("option",{value:F.id,children:[F.roomName," (",((q=F.roomType)==null?void 0:q.name)||"",")"]},F.id)})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-between pt-6 border-t border-slate-200",children:[a.jsx("button",{onClick:iu,className:"px-6 py-3 bg-gradient-to-r from-rose-500 to-rose-600 text-white rounded-xl hover:from-rose-600 hover:to-rose-700 transition-all duration-200 font-semibold",children:"  "}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Kt(()=>y(!1)),className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all duration-200 font-medium",children:""}),a.jsx("button",{onClick:oo,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:" "})]})]})]})})]})}function hd({onClose:e,title:t,children:n,animation:r}){return a.jsx("div",{className:`fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-md transition-opacity duration-300 ${r==="entering"||r==="exiting"?"opacity-0":"opacity-100"}`,children:a.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-y-auto transform transition-all duration-300 ${r==="entering"?"scale-95 opacity-0 translate-y-4":r==="exiting"?"scale-100 opacity-0 -translate-y-4":"scale-100 opacity-100 translate-y-0"}`,children:[a.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-8 py-6 rounded-t-3xl backdrop-blur-sm bg-opacity-90 z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-xl transition-all duration-200 text-slate-500 hover:text-slate-700 hover:rotate-90",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-8",children:n})]})})}function fM(){const e=Ve(),[t,n]=v.useState(!1),r=v.useRef(0),s=v.useRef(0),o=()=>{localStorage.clear(),e("/admin/login")};return v.useEffect(()=>{localStorage.getItem("access_token")||e("/admin/login")},[]),v.useEffect(()=>{const i=c=>{r.current=c.touches[0].clientX},l=c=>{s.current=c.changedTouches[0].clientX;const u=s.current-r.current;r.current<50&&u>80&&n(!0)};return window.addEventListener("touchstart",i),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",i),window.removeEventListener("touchend",l)}},[]),a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[!t&&a.jsx("button",{onClick:()=>n(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(Ap,{onLogout:o})}),t&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>n(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx(cn,{position:"top-right",autoClose:2e3}),a.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:" "}),a.jsx("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:a.jsx(dM,{})})})]})]})}const hM=({timestamp:e})=>{if(!e)return null;const t=n=>{const r=new Date,s=new Date(n),o=(r-s)/(1e3*60*60);return o<24?s.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):o<168?s.toLocaleDateString("ru-RU",{weekday:"short"}):s.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})};return a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:t(e)})},pM=({name:e,unreadCount:t,isOnline:n})=>{const r=v.useMemo(()=>(e==null?void 0:e.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2))||"??",[e]);return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:r}),n&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"}),t>0&&a.jsx("div",{className:"absolute -top-1 -right-1 min-w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]})},mM=()=>a.jsx("div",{className:"p-3 border-b animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})});function gM({chats:e=[],onSelect:t,selectedChat:n,isLoading:r=!1,onSearch:s,searchQuery:o="",className:i="",onChatCreated:l,user:c}){const[u,d]=v.useState(!1),f=JSON.parse(localStorage.getItem("roles")||"[]"),p=f.length>0?f[0].name:"ROLE_OTHER",x=v.useMemo(()=>{if(!o)return e;const m=o.toLowerCase();return e.filter(h=>{var g,y,w,b,j;return((g=h.name)==null?void 0:g.toLowerCase().includes(m))||((w=(y=h.lastMessage)==null?void 0:y.message)==null?void 0:w.toLowerCase().includes(m))||((j=(b=h.lastMessage)==null?void 0:b.content)==null?void 0:j.toLowerCase().includes(m))})},[e,o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`bg-white border-r border-gray-200 flex flex-col shadow-sm ${i}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),a.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm hover:opacity-90 transition",children:a.jsx(Xr,{size:18,strokeWidth:2})})]}),s&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:" ...",value:o,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 pl-10 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200 text-sm"}),a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:r?Array.from({length:8}).map((m,h)=>a.jsx(mM,{},h)):x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:""}),a.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:o?"  ":" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:o?"   ":"  "})]}):x.map(m=>{var N,S;if(!(m!=null&&m.id)||(console.log(m),!((N=m.participants)==null?void 0:N.some(E=>E.id===(c==null?void 0:c.id)))))return null;const g=m.lastMessage,y=(g==null?void 0:g.createdAt)||(g==null?void 0:g.timestamp)||m.lastMessageTime,w=(n==null?void 0:n.id)===m.id,b=m.unreadCount||0,j=m.isOnline||!1;let k="";if(g!=null&&g.file){const E=g.file.name||"",O=E.includes("_")?E.split("_").slice(1).join("_"):E,T=22;k=` ${O.length>T?`${O.slice(0,10)}...${O.slice(-7)}`:O}`}else k=typeof g=="string"?g:(g==null?void 0:g.message)||(g==null?void 0:g.content)||(g==null?void 0:g.text)||" ";return a.jsx("div",{onClick:()=>t==null?void 0:t(m),className:`p-3 border-b border-gray-50 cursor-pointer transition-all duration-200 group ${w?"bg-gradient-to-r from-blue-50 to-blue-25 border-l-4 border-l-blue-500":"hover:bg-gray-50 hover:border-l-4 hover:border-l-gray-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pM,{name:m.name,unreadCount:b,isOnline:j}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${w?"text-blue-700":"text-gray-800"}`,children:m.name||" "}),a.jsx(hM,{timestamp:y})]}),a.jsx("p",{className:`text-sm truncate flex-1 ${b>0?"text-gray-800 font-medium":"text-gray-500"}`,title:((S=g==null?void 0:g.file)==null?void 0:S.name)||k,children:k})]})]})},m.id)})})]}),a.jsx($i,{children:u&&a.jsx(kn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"stop fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>d(!1),children:a.jsxs(kn.div,{onClick:m=>m.stopPropagation(),className:"bg-white rounded-xl shadow-lg p-6 px-10 max-w-sm relative",children:[a.jsx("h3",{className:"flex items-center text-lg font-semibold text-gray-800 mb-3",children:a.jsx(Xr,{size:25,strokeWidth:2})}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.name)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.phone)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(p==null?void 0:p.replace("ROLE_",""))||"OTHER"]}),a.jsx("button",{onClick:()=>d(!1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:""})]})})})]})}const xM=J.memo(gM),yM=J.memo(({participant:e,onRemove:t,isAdmin:n,currentUserId:r})=>{var i;const s=e.id===r,o=e.online||e.role==="ROLE_ADMIN";return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-all duration-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((i=e.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${o?"bg-green-500":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:e.name||" "}),e.role==="ROLE_ADMIN"&&a.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"ADMIN"}),s&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.email||e.phone||"  "})]})]}),n&&!s&&a.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:"  ",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),vM=J.memo(({isOpen:e,onClose:t,chat:n,participants:r,onAddUser:s,onRemoveUser:o,isAdmin:i,availableUsers:l,currentUserId:c})=>{const[u,d]=v.useState(null),[f,p]=v.useState(!1),x=v.useMemo(()=>l.map(h=>({value:h.id,label:`${h.name||" "}  ${h.email||h.phone||" "}`,user:h})),[l]),m=async()=>{if(!u){A.warn("   ");return}p(!0);try{await s(u.value),d(null),A.success("    ")}catch(h){console.error("  :",h)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:" "}),a.jsxs("p",{className:"text-sm text-gray-600",children:[n.name,"  ",r.length," "]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:r.length>0?r.map(h=>a.jsx(yM,{participant:h,onRemove:o,isAdmin:i,currentUserId:c},h.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsx("p",{className:"font-medium text-gray-600",children:" "}),a.jsx("p",{className:"text-sm mt-1",children:"   "})]})}),i&&a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx(Qc,{value:u,onChange:d,options:x,placeholder:" ...",isSearchable:!0,isClearable:!0,menuPosition:"fixed",menuPortalTarget:document.body,styles:{control:h=>({...h,borderRadius:"0.5rem",borderColor:"#D1D5DB","&:hover":{borderColor:"#9CA3AF"}}),menuPortal:h=>({...h,zIndex:9999}),menu:h=>({...h,zIndex:9999})}})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:m,disabled:!u||f,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2.5 px-4 rounded-lg transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})]})]}),!i&&a.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})})]})}):null});function bM({chat:e,role:t,connected:n,user:r,onChatDeleted:s}){const[o,i]=v.useState(!1),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,p]=v.useState(!1),x=t==="ROLE_ADMIN",m=async()=>{var N,S,E;if(e!=null&&e.id)try{const O=await H(`/api/v1/chats/${e.id}`,"GET"),T=((N=O==null?void 0:O.data)==null?void 0:N.participants)||((E=(S=O==null?void 0:O.data)==null?void 0:S.data)==null?void 0:E.participants)||[];c(T)}catch(O){console.error("   :",O),A.error("   "),c([])}};v.useEffect(()=>{e!=null&&e.id&&(c([]),m(),x&&o&&h())},[e==null?void 0:e.id,o]);const h=async()=>{try{const N=await H("/api/v1/admin/all-users","GET"),S=Array.isArray(N.data)?N.data:[];d(S)}catch(N){console.error("   :",N),A.error("   "),d([])}},g=async()=>{if(e!=null&&e.id&&window.confirm("  ?"))try{await H(`/api/v1/chats/${e.id}`,"DELETE"),A.success(" "),s&&s(e.id)}catch(N){console.error("   :",N),A.error("   ")}},y=async N=>{try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"POST"),await m(),await h()}catch(S){throw console.error("   :",S),S}},w=async N=>{if(window.confirm("   ?"))try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"DELETE"),A.success("    "),await m(),await h()}catch(S){console.error("   :",S),A.error("   ")}},b=async()=>{p(!0);try{await Promise.all([m(),h()]),i(!0)}catch(N){console.error("   :",N),A.error("   ")}finally{p(!1)}},j=v.useMemo(()=>u.filter(N=>{var S;return!l.some(E=>E.id===N.id)&&!((S=N.roles)!=null&&S.some(E=>E.name==="ROLE_ADMIN"))&&N.id!==(r==null?void 0:r.id)}),[u,l,r==null?void 0:r.id]),k=v.useMemo(()=>l.filter(N=>N.online||N.role==="ROLE_ADMIN").length,[l]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pl-8 flex justify-between items-center p-4 border-b border-gray-200 bg-white shadow-sm",children:[a.jsx("div",{className:"flex px-1 items-center space-x-4 flex-1 min-w-0",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors duration-200 truncate",onClick:b,title:" ",children:e.name}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${n||x?"bg-green-500 animate-pulse":"bg-gray-400"}`})})]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",l.length," "]}),k>0&&a.jsxs("span",{className:"text-sm text-green-600",children:[" ",k," "]})]})]})}),x&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:b,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:[f?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("span",{className:"font-medium",children:""})]}),a.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:" ",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx(vM,{isOpen:o,onClose:()=>i(!1),chat:e,participants:l,onAddUser:y,onRemoveUser:w,isAdmin:x,availableUsers:j,currentUserId:r==null?void 0:r.id})]})}const wM=J.memo(bM);function jM({onSend:e,editing:t,onSaveEdit:n,onCancelEdit:r,sending:s}){const[o,i]=v.useState(""),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{i(t&&(t.message||t.content)||"")},[t]);const f=g=>{const y=g.target.files[0];if(y){if(y.size>10*1024*1024){A.error("  .  : 10MB");return}c(y)}},p=g=>{const y=g.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(y)?a.jsx(kc,{className:"text-blue-500"}):["pdf"].includes(y)?a.jsx(et,{className:"text-red-500"}):["doc","docx"].includes(y)?a.jsx(et,{className:"text-blue-600"}):a.jsx(et,{className:"text-gray-500"})},x=g=>{if(g===0)return"0 Bytes";const y=1024,w=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(g)/Math.log(y));return parseFloat((g/Math.pow(y,b)).toFixed(2))+" "+w[b]},m=()=>{i(""),c(null),typeof r=="function"&&r()},h=async()=>{var w;const g=o.trim();if(!g&&!l)return A.warn("    ");if(s||u)return;let y=null;if(l){d(!0);try{const b=new FormData;b.append("photo",l),b.append("prefix","chat");const j=await fetch(`${je}/api/v1/file/upload`,{method:"POST",body:b});if(!j.ok)throw new Error("   ");const k=await j.json();if(y=((w=k==null?void 0:k.data)==null?void 0:w.id)||(k==null?void 0:k.id)||k,!y)throw new Error("   ID");A.success("   ")}catch(b){console.error("   :",b),A.error("   "),d(!1);return}d(!1)}t?n(g):e({text:g,fileId:y}),i(""),c(null)};return a.jsxs("div",{className:"w-full max-w-full px-3 sm:px-4 py-4 border-t bg-white shadow-sm overflow-x-hidden",children:[t&&a.jsxs("div",{className:"mb-3 flex items-center justify-between bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(br,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:" "})]}),a.jsx("button",{onClick:m,className:"text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx(Wt,{size:18})})]}),l&&a.jsxs("div",{className:"mb-3 flex items-center gap-3 bg-blue-50 border border-blue-200 rounded-lg p-3 w-full max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:p(l.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate break-all",children:l.name}),a.jsx("p",{className:"text-xs text-gray-500",children:x(l.size)})]})]}),a.jsx("button",{onClick:()=>c(null),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors p-1",children:a.jsx(Wt,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:`
          flex-shrink-0 p-3 rounded-lg border cursor-pointer transition-all
          ${u?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50 hover:border-gray-400"}
        `,children:[a.jsx(Ec,{size:20}),a.jsx("input",{type:"file",accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.txt",className:"hidden",onChange:f,disabled:u})]}),a.jsx("input",{type:"text",placeholder:u?" ...":" ...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),disabled:s||u}),a.jsx("button",{onClick:h,disabled:s||u,className:`
            flex-shrink-0 flex items-center gap-2 rounded-lg px-1 lg:px-4 py-3 font-medium transition-all
            ${s||u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700 shadow-sm hover:shadow-md"}
          `,children:u?a.jsx(a.Fragment,{children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):s?"...":t?a.jsxs(a.Fragment,{children:[a.jsx(br,{size:16}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{size:16}),"Send"]})})]})]})}const SM=e=>{v.useEffect(()=>{if(e)return()=>{e&&(e.onConnect=null,e.onDisconnect=null,e.onWebSocketClose=null,e.onStompError=null)}},[e])},kM=(e,t,n,r)=>{const[s,o]=v.useState([]),[i,l]=v.useState(new Map),c=v.useCallback(p=>{var x,m;try{const h=typeof p.body=="string"?JSON.parse(p.body):p,g=((x=h.chatRoom)==null?void 0:x.id)||h.chatId;if(!g||g!==(e==null?void 0:e.id))return;if(h.fileId&&!h.file&&(h.file={id:h.fileId,name:`uploaded_file_${h.fileId}.bin`}),l(y=>{var b,j,k;const w=new Map(y);for(const[N,S]of w.entries()){const E=S.userId===h.userId||((b=S.sender)==null?void 0:b.id)===h.userId||S.userId===((j=h.sender)==null?void 0:j.id),O=S.fileId&&(((k=h.file)==null?void 0:k.id)===S.fileId||h.fileId===S.fileId),T=(S.message||S.content||"")===(h.message||h.content||"");E&&(O||T)&&w.delete(N)}return w}),o(y=>{const w=y.findIndex(b=>b.id===h.id);if(w!==-1){const b=[...y];return b[w]={...b[w],...h},b}return[...y,h]}),h&&typeof r=="function"){const y=h.message||h.content||((m=h.file)==null?void 0:m.name)||"";r({chatId:g,lastMessage:y,createdAt:h.createdAt})}}catch(h){console.error("Error processing incoming message:",h)}},[e==null?void 0:e.id,r]),u=v.useCallback(p=>{l(x=>new Map(x).set(p.tempId,p))},[]),d=v.useCallback(p=>{l(x=>{const m=new Map(x);return m.delete(p),m})},[]),f=v.useCallback(()=>{l(new Map)},[]);return{messages:s,pendingMessages:Array.from(i.values()),setMessages:o,processIncomingMessage:c,addPendingMessage:u,removePendingMessage:d,clearPendingMessages:f}},NM=({src:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs("div",{className:"relative max-h-[95vh] max-w-[95vw]",children:[a.jsx("img",{src:e,alt:"full-view",className:"max-h-[85vh] max-w-full rounded-lg shadow-2xl object-contain",onClick:n=>n.stopPropagation()}),a.jsx("button",{onClick:t,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2",children:a.jsx(Wt,{size:24})}),a.jsx("a",{href:e,download:!0,className:"absolute -top-12 right-12 text-white hover:text-gray-300 transition-colors p-2",title:"Download image",children:a.jsx(Gt,{size:20})})]})}):null,EM=({file:e,isAuthor:t,onPreview:n})=>{var o;const r=/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(e.name||""),s=(o=e.name)!=null&&o.includes("_")?e.name.split("_").slice(1).join("_"):e.name;return a.jsx("div",{className:`mt-2 rounded-lg border overflow-hidden ${t?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:r?a.jsx("div",{className:"cursor-pointer",onClick:()=>n(e),children:a.jsx("img",{src:`${je}/api/v1/file/getFile/${e.id}?${Date.now()}`,alt:"attachment",className:"w-full max-w-xs object-cover transition-transform hover:scale-105"})}):a.jsxs("a",{href:`${je}/api/v1/file/getFile/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 hover:bg-opacity-80 transition-colors no-underline",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:a.jsx(et,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s}),a.jsx("p",{className:"text-xs text-gray-500",children:e.size?CM(e.size):"File"})]}),a.jsx(Gt,{size:16,className:"text-gray-400"})]})})},CM=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},TM=J.memo(({message:e,isAuthor:t,onEdit:n,onDelete:r,currentUserId:s})=>{const{id:o,tempId:i,message:l,content:c,sender:u,userId:d,createdAt:f,edited:p,pending:x,file:m,fileId:h}=e,[g,y]=v.useState(null),[w,b]=v.useState(!1),j=v.useRef(null),k=l||c||"",N=JSON.parse(localStorage.getItem("roles")||"[]"),S=N.length>0?N[0].name:"ROLE_OTHER",E=v.useMemo(()=>t||d===s||(u==null?void 0:u.id)===s?"You":u!=null&&u.name?u.name:u!=null&&u.phone?u.phone:"Unknown",[t,d,u,s]),O=v.useMemo(()=>new Date(f||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[f]),T=v.useCallback(()=>{b(!1),x||n(e)},[x,n,e]),_=v.useCallback(()=>{b(!1),o&&r(o)},[o,r]),P=v.useCallback(C=>{/\.(jpg|jpeg|png|gif|webp)$/i.test(C.name||"")&&y(`${je}/api/v1/file/getFile/${C.id}`)},[]),M=v.useMemo(()=>m||(h?{id:h,name:"attachment"}:null),[m,h]);return v.useEffect(()=>{const C=I=>{j.current&&!j.current.contains(I.target)&&b(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} px-2 sm:px-4`,children:a.jsx("div",{className:`relative w-fit max-w-full sm:max-w-[85%] md:max-w-[80%] lg:max-w-[70%] group ${x?"opacity-70":""}`,style:{wordBreak:"break-word"},children:a.jsxs("div",{className:`relative p-4 rounded-2xl transition-all duration-200 ${x?"bg-gray-200 text-gray-600 animate-pulse":t?"bg-blue-500 text-white shadow-lg":"bg-white text-gray-800 shadow-sm border border-gray-100"}`,children:[!t&&a.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:E}),k&&a.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:k}),M&&a.jsx(EM,{file:M,isAuthor:t,onPreview:P}),a.jsxs("div",{className:`flex items-center justify-end gap-2 mt-2 ${t?"text-blue-100":"text-gray-500"}`,children:[p&&a.jsx("span",{className:"text-xs italic",children:"edited"}),x?a.jsx(jc,{size:12,className:"animate-pulse"}):a.jsx(wc,{size:12}),a.jsx("span",{className:"text-xs",children:O})]}),(t||S==="ROLE_ADMIN")&&!x&&a.jsxs("div",{ref:j,className:`absolute top-2 ${t?"left-2":"right-2"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[a.jsx("button",{onClick:()=>b(!w),className:`p-1 rounded-full ${t?"bg-blue-400 hover:bg-blue-300 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-600"} transition-colors`,children:a.jsx(Nc,{size:14})}),w&&a.jsxs("div",{className:`absolute ${t?"right-0":"left-0"} bottom-0 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-32 z-10`,children:[a.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Sc,{size:14}),"Edit"]}),a.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Tc,{size:14}),"Delete"]})]})]})]})})}),g&&a.jsx(NM,{src:g,onClose:()=>y(null)})]})});function OM({chat:e,role:t,user:n,onLastMessageUpdate:r,onChatDeleted:s}){const o=nu(),i=v.useRef(null),l=v.useRef(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[p,x]=v.useState(!1);SM(o);const{messages:m,pendingMessages:h,setMessages:g,processIncomingMessage:y,addPendingMessage:w,removePendingMessage:b,clearPendingMessages:j}=kM(e,n,o,r);tu(`/topic/chat/${e==null?void 0:e.id}`,y);const k=v.useMemo(()=>[...m,...h].sort((C,I)=>new Date(C.createdAt||0)-new Date(I.createdAt||0)),[m,h]),N=v.useCallback(()=>{var C;(C=i.current)==null||C.scrollIntoView({behavior:"smooth",block:"nearest"})},[]),S=v.useCallback(()=>{if(l.current){const{scrollTop:C,scrollHeight:I,clientHeight:R}=l.current;x(I-C-R>100)}},[]),E=v.useCallback(async()=>{if(e!=null&&e.id){f(!0);try{const C=await H(`/api/v1/chats/${e.id}/messages`,"GET");g(C.data||[])}catch{A.error("Failed to load messages")}finally{f(!1)}}},[e==null?void 0:e.id,g]);v.useEffect(()=>{E()},[E]),v.useEffect(()=>{p||N()},[k.length,N,p]);const O=v.useCallback(async C=>{const I=typeof C=="string"?C:C.text,R=C.fileId||null,U=I==null?void 0:I.trim();if(!(o!=null&&o.connected)||!(e!=null&&e.id)||!(n!=null&&n.id)||!U&&!R){A.warn("       ");return}const D={tempId:Date.now(),chatId:e.id,userId:n.id,message:U||"",createdAt:new Date().toISOString(),pending:!0,fileId:R||null};w(D);try{o.publish({destination:"/app/chat.send",body:JSON.stringify(D)})}catch(B){console.error("Failed to send message:",B),A.error("   "),b(D.tempId)}},[o,e==null?void 0:e.id,n==null?void 0:n.id,w,b]),T=v.useCallback(C=>{C.pending||u(C)},[]),_=v.useCallback(async C=>{if(!(c!=null&&c.id)||!(e!=null&&e.id)){A.error("Cannot edit unsent message");return}const I=C.trim();if(!I){A.warn("Message cannot be empty");return}try{await H(`/api/v1/chats/${e.id}/messages/${c.id}`,"PUT",{message:I});const R={id:c.id,chatId:e.id,userId:n.id,message:I,edited:!0};o.publish({destination:"/app/chat.edit",body:JSON.stringify(R)}),g(U=>U.map(D=>D.id===c.id?{...D,message:I,edited:!0}:D)),u(null)}catch(R){console.error("Edit error:",R),A.error("Failed to edit message")}},[c,e==null?void 0:e.id,n==null?void 0:n.id,o,g]),P=v.useCallback(async C=>{if(C)try{await H(`/api/v1/chats/${e.id}/messages/${C}`,"DELETE"),g(I=>I.filter(R=>R.id!==C))}catch(I){console.error("Delete error:",I),A.error("Failed to delete message")}},[e==null?void 0:e.id,g]),M=v.useCallback(C=>{var I;return C.userId===(n==null?void 0:n.id)||((I=C.sender)==null?void 0:I.id)===(n==null?void 0:n.id)},[n==null?void 0:n.id]);return e?a.jsxs("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx(wM,{chat:e,role:t,connected:o==null?void 0:o.connected,user:n,onChatDeleted:s}),a.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto px-3 sm:px-6 py-4 space-y-3 scroll-smooth",onScroll:S,children:[d?a.jsx("div",{className:"flex justify-center items-center h-20",children:a.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-blue-500"}),"Loading messages..."]})}):k.length===0?a.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No messages yet"}),a.jsx("div",{className:"text-gray-400 text-sm max-w-md",children:"Start a conversation by sending a message or sharing a file"})]}):k.map(C=>a.jsx(TM,{message:C,isAuthor:M(C),onEdit:T,onDelete:P,currentUserId:n==null?void 0:n.id,role:t},C.id||C.tempId)),a.jsx("div",{ref:i})]}),p&&a.jsx("button",{onClick:N,className:"absolute bottom-20 right-6 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors z-10",children:a.jsx(Gt,{size:20,className:"rotate-180"})}),a.jsx(jM,{onSend:O,editing:c,onSaveEdit:_,onCancelEdit:()=>u(null),disabled:!(o!=null&&o.connected)})]}):a.jsx("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100 items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"Select a chat to start messaging"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Choose a conversation from the list to begin"})]})})}const PM=J.memo(OM);function _M(){const[e,t]=v.useState([]),[n,r]=v.useState(null),[s,o]=v.useState(null),[i,l]=v.useState(!1),c=Ve(),u=localStorage.getItem("phone"),d=v.useRef(0),f=v.useRef(0),p=JSON.parse(localStorage.getItem("roles")||"[]"),x=p.length>0?p[0].name:"ROLE_OTHER";v.useEffect(()=>{const j=N=>{d.current=N.touches[0].clientX},k=N=>{f.current=N.changedTouches[0].clientX;const S=f.current-d.current;d.current<50&&S>80&&(n?r(null):l(!0))};return window.addEventListener("touchstart",j),window.addEventListener("touchend",k),()=>{window.removeEventListener("touchstart",j),window.removeEventListener("touchend",k)}},[n]);const m=async()=>{try{const j=await H("/api/v1/admin/all-users","GET"),N=(Array.isArray(j.data)?j.data:[]).find(S=>S.phone===u);N&&(o({id:N.id,name:N.name}),localStorage.setItem("user",JSON.stringify(N)))}catch(j){console.error("   :",j)}},h=j=>{t(k=>k.filter(N=>N.id!==j)),r(null)};v.useEffect(()=>{localStorage.getItem("access_token")||c("/admin/login")},[]),v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const j=await H("/api/v1/chats","GET"),k=Array.isArray(j.data)?j.data:[],N=await Promise.all(k.map(async S=>{var E;try{const T=(await H(`/api/v1/chats/${S.id}/messages`,"GET")).data||[];if(T.length>0){const _=T[T.length-1];return{...S,lastMessage:{message:_.message||_.content||"",createdAt:_.createdAt,userId:_.userId||((E=_.sender)==null?void 0:E.id),file:_.file?{id:_.file.id,name:_.file.name,prefix:_.file.prefix}:null}}}}catch(O){console.warn("    :",S.id,O)}return S}));t(N)}catch(j){console.error("   :",j)}},y=j=>r(j),w=()=>{localStorage.clear(),c("/admin/login")},b=()=>{n?r(null):l(!i)};return a.jsx(eu,{url:`${je.replace("http","ws")}/ws`,reconnectDelay:5e3,children:a.jsxs("div",{className:"flex min-h-screen w-full max-w-full bg-gray-50 relative overflow-x-hidden",children:[!i&&a.jsx("button",{onClick:b,className:"lg:hidden fixed top-9 left-1 font-black text-xl z-50 text-blue-700",children:n?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:"w-4 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-6 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M0 88a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24A24 24 0 0 1 0 88zm0 160a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24a24 24 0 0 1-24-24zm24 136a24 24 0 0 0 0 48h400a24 24 0 0 0 0-48H24z"})})}),a.jsx("div",{className:`${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(Ap,{onLogout:w})}),i&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>l(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-screen w-full max-w-full overflow-x-hidden",children:[a.jsx("div",{className:`${n?"hidden":"block"} lg:block w-full lg:w-1/4 border-r bg-white p-4 overflow-y-auto`,children:a.jsx(xM,{chats:e,onSelect:y,role:x,user:s,onChatCreated:j=>{j!=null&&j.id&&(t(k=>[...k,j]),r(j))}})}),n?a.jsx("div",{className:"flex-1 relative bg-white",children:a.jsx(PM,{chat:n,role:x,user:s,onChatDeleted:h,onLastMessageUpdate:j=>{t(k=>k.map(N=>N.id===j.chatId?{...N,lastMessage:{message:j.lastMessage,createdAt:j.createdAt}}:N))}})}):a.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center text-gray-400",children:" ,   "})]}),a.jsx(cn,{position:"top-right",autoClose:2e3})]})})}function u2({onLogout:e}){const t=Ve(),n=_t(),r=s=>`
      block w-full text-left px-4 py-2 rounded-lg font-medium transition-colors
      ${n.pathname===s?"bg-blue-600 text-white shadow-md":"text-gray-200 hover:bg-gray-700 hover:text-white"}
    `;return a.jsxs("aside",{className:"w-64 bg-gray-800 text-white p-6 flex flex-col justify-between min-h-screen",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Cook Panel"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>t("/cook/dashboard"),className:r("/cook/dashboard"),children:" Bosh sahifa"}),a.jsx("button",{onClick:()=>t("/cook/talk"),className:r("/cook/talk"),children:" Chats"})]})]}),a.jsx("button",{onClick:e,className:"mt-8 bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg text-white font-semibold transition-all duration-200",children:" "})]})}function RM(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),s=v.useRef(0),o=v.useRef(0),i=Ve();v.useEffect(()=>{localStorage.getItem("access_token")||i("/admin/login")},[i]),v.useEffect(()=>{const p=m=>{s.current=m.touches[0].clientX},x=m=>{o.current=m.changedTouches[0].clientX;const h=o.current-s.current;s.current<50&&h>80&&r(!0)};return window.addEventListener("touchstart",p),window.addEventListener("touchend",x),()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchend",x)}},[]);const l=async(p,x="GET",m=null,h=null)=>{let g=await H(p,x,m,h);if(g&&g.error&&(g.data===401||g.data===403)){const y=await H("/api/admin/refresh","POST",null,null);y&&!y.error?(localStorage.setItem("access_token",y.data.accessToken),g=await H(p,x,m,h)):(localStorage.removeItem("access_token"),i("/admin/login"))}return g};v.useEffect(()=>{c()},[i]);const c=async()=>{const p=await l("/api/v1/room-booking","GET");if(p&&!p.error){const x=new Date;x.setHours(0,0,0,0);const m=new Date(x);m.setDate(x.getDate()+1);const h=new Date(x);h.setDate(x.getDate()+2);const g=p.data.filter(y=>{if(y.bookingStatus!==3||!y.breakfast||!y.checkInTime||!y.checkOutTime)return!1;const w=new Date(y.checkInTime),b=new Date(y.checkOutTime),j=w>=x&&w<h,k=b>=m;return j||k});console.log(g),t(g)}},u=()=>{localStorage.clear(),i("/admin/login")},d=p=>{var h,g,y;const{guestsCount:x}=p,m=((y=(g=(h=p.room)==null?void 0:h.roomType)==null?void 0:g.name)==null?void 0:y.toLowerCase())||"";return console.log(m),x&&x>0?x:m.includes("double")||m.includes("twin")?2:m.includes("triple")?3:1},f=e.reduce((p,x)=>p+d(x),0);return a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[!n&&a.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(u2,{onLogout:u})}),n&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>r(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"      "}),a.jsxs("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:[a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:e.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"   ."}):a.jsxs("table",{className:"min-w-full border border-gray-200 text-sm text-center",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:"- "}),a.jsx("th",{className:"border px-4 py-2",children:" "})]})}),a.jsx("tbody",{children:e.map(p=>{var h;const x=((h=p.room)==null?void 0:h.roomName)||"",m=d(p);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"border px-4 py-2 font-semibold text-slate-800",children:x}),a.jsx("td",{className:"border px-4 py-2",children:m}),a.jsx("td",{className:"border px-4 py-2 text-left",children:p.toCook||""})]},p.id)})})]})}),a.jsxs("div",{className:"pt-4 border-t border-gray-200 text-right font-semibold text-slate-700",children:["  :"," ",a.jsx("span",{className:"text-blue-600",children:f})]})]})]})]})}const LM=({timestamp:e})=>{if(!e)return null;const t=n=>{const r=new Date,s=new Date(n),o=(r-s)/(1e3*60*60);return o<24?s.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):o<168?s.toLocaleDateString("ru-RU",{weekday:"short"}):s.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})};return a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:t(e)})},IM=({name:e,unreadCount:t,isOnline:n})=>{const r=v.useMemo(()=>(e==null?void 0:e.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2))||"??",[e]);return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:r}),n&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"}),t>0&&a.jsx("div",{className:"absolute -top-1 -right-1 min-w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]})},MM=()=>a.jsx("div",{className:"p-3 border-b animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})});function DM({chats:e=[],onSelect:t,selectedChat:n,isLoading:r=!1,onSearch:s,searchQuery:o="",className:i="",onChatCreated:l,user:c}){const[u,d]=v.useState(!1),f=JSON.parse(localStorage.getItem("roles")||"[]"),p=f.length>0?f[0].name:"ROLE_OTHER",x=v.useMemo(()=>{if(!o)return e;const m=o.toLowerCase();return e.filter(h=>{var g,y,w,b,j;return((g=h.name)==null?void 0:g.toLowerCase().includes(m))||((w=(y=h.lastMessage)==null?void 0:y.message)==null?void 0:w.toLowerCase().includes(m))||((j=(b=h.lastMessage)==null?void 0:b.content)==null?void 0:j.toLowerCase().includes(m))})},[e,o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`bg-white border-r border-gray-200 flex flex-col shadow-sm ${i}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),a.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm hover:opacity-90 transition",children:a.jsx(Xr,{size:18,strokeWidth:2})})]}),s&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:" ...",value:o,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 pl-10 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200 text-sm"}),a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:r?Array.from({length:8}).map((m,h)=>a.jsx(MM,{},h)):x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:""}),a.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:o?"  ":" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:o?"   ":"  "})]}):x.map(m=>{var N,S;if(!(m!=null&&m.id)||(console.log(m),!((N=m.participants)==null?void 0:N.some(E=>E.id===(c==null?void 0:c.id)))))return null;const g=m.lastMessage,y=(g==null?void 0:g.createdAt)||(g==null?void 0:g.timestamp)||m.lastMessageTime,w=(n==null?void 0:n.id)===m.id,b=m.unreadCount||0,j=m.isOnline||!1;let k="";if(g!=null&&g.file){const E=g.file.name||"",O=E.includes("_")?E.split("_").slice(1).join("_"):E,T=22;k=` ${O.length>T?`${O.slice(0,10)}...${O.slice(-7)}`:O}`}else k=typeof g=="string"?g:(g==null?void 0:g.message)||(g==null?void 0:g.content)||(g==null?void 0:g.text)||" ";return a.jsx("div",{onClick:()=>t==null?void 0:t(m),className:`p-3 border-b border-gray-50 cursor-pointer transition-all duration-200 group ${w?"bg-gradient-to-r from-blue-50 to-blue-25 border-l-4 border-l-blue-500":"hover:bg-gray-50 hover:border-l-4 hover:border-l-gray-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(IM,{name:m.name,unreadCount:b,isOnline:j}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${w?"text-blue-700":"text-gray-800"}`,children:m.name||" "}),a.jsx(LM,{timestamp:y})]}),a.jsx("p",{className:`text-sm truncate flex-1 ${b>0?"text-gray-800 font-medium":"text-gray-500"}`,title:((S=g==null?void 0:g.file)==null?void 0:S.name)||k,children:k})]})]})},m.id)})})]}),a.jsx($i,{children:u&&a.jsx(kn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"stop fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>d(!1),children:a.jsxs(kn.div,{onClick:m=>m.stopPropagation(),className:"bg-white rounded-xl shadow-lg p-6 px-10 max-w-sm relative",children:[a.jsx("h3",{className:"flex items-center text-lg font-semibold text-gray-800 mb-3",children:a.jsx(Xr,{size:25,strokeWidth:2})}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.name)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.phone)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(p==null?void 0:p.replace("ROLE_",""))||"OTHER"]}),a.jsx("button",{onClick:()=>d(!1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:""})]})})})]})}const AM=J.memo(DM),FM=J.memo(({participant:e,onRemove:t,isAdmin:n,currentUserId:r})=>{var i;const s=e.id===r,o=e.online||e.role==="ROLE_ADMIN";return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-all duration-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((i=e.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${o?"bg-green-500":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:e.name||" "}),e.role==="ROLE_ADMIN"&&a.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"ADMIN"}),s&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.email||e.phone||"  "})]})]}),n&&!s&&a.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:"  ",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),$M=J.memo(({isOpen:e,onClose:t,chat:n,participants:r,onAddUser:s,onRemoveUser:o,isAdmin:i,availableUsers:l,currentUserId:c})=>{const[u,d]=v.useState(null),[f,p]=v.useState(!1),x=v.useMemo(()=>l.map(h=>({value:h.id,label:`${h.name||" "}  ${h.email||h.phone||" "}`,user:h})),[l]),m=async()=>{if(!u){A.warn("   ");return}p(!0);try{await s(u.value),d(null),A.success("    ")}catch(h){console.error("  :",h)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:" "}),a.jsxs("p",{className:"text-sm text-gray-600",children:[n.name,"  ",r.length," "]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:r.length>0?r.map(h=>a.jsx(FM,{participant:h,onRemove:o,isAdmin:i,currentUserId:c},h.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsx("p",{className:"font-medium text-gray-600",children:" "}),a.jsx("p",{className:"text-sm mt-1",children:"   "})]})}),i&&a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx(Qc,{value:u,onChange:d,options:x,placeholder:" ...",isSearchable:!0,isClearable:!0,menuPosition:"fixed",menuPortalTarget:document.body,styles:{control:h=>({...h,borderRadius:"0.5rem",borderColor:"#D1D5DB","&:hover":{borderColor:"#9CA3AF"}}),menuPortal:h=>({...h,zIndex:9999}),menu:h=>({...h,zIndex:9999})}})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:m,disabled:!u||f,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2.5 px-4 rounded-lg transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})]})]}),!i&&a.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})})]})}):null});function VM({chat:e,role:t,connected:n,user:r,onChatDeleted:s}){const[o,i]=v.useState(!1),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,p]=v.useState(!1),x=t==="ROLE_ADMIN",m=async()=>{var N,S,E;if(e!=null&&e.id)try{const O=await H(`/api/v1/chats/${e.id}`,"GET"),T=((N=O==null?void 0:O.data)==null?void 0:N.participants)||((E=(S=O==null?void 0:O.data)==null?void 0:S.data)==null?void 0:E.participants)||[];c(T)}catch(O){console.error("   :",O),A.error("   "),c([])}};v.useEffect(()=>{e!=null&&e.id&&(c([]),m(),x&&o&&h())},[e==null?void 0:e.id,o]);const h=async()=>{try{const N=await H("/api/v1/admin/all-users","GET"),S=Array.isArray(N.data)?N.data:[];d(S)}catch(N){console.error("   :",N),A.error("   "),d([])}},g=async()=>{if(e!=null&&e.id&&window.confirm("  ?"))try{await H(`/api/v1/chats/${e.id}`,"DELETE"),A.success(" "),s&&s(e.id)}catch(N){console.error("   :",N),A.error("   ")}},y=async N=>{try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"POST"),await m(),await h()}catch(S){throw console.error("   :",S),S}},w=async N=>{if(window.confirm("   ?"))try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"DELETE"),A.success("    "),await m(),await h()}catch(S){console.error("   :",S),A.error("   ")}},b=async()=>{p(!0);try{await Promise.all([m(),h()]),i(!0)}catch(N){console.error("   :",N),A.error("   ")}finally{p(!1)}},j=v.useMemo(()=>u.filter(N=>{var S;return!l.some(E=>E.id===N.id)&&!((S=N.roles)!=null&&S.some(E=>E.name==="ROLE_ADMIN"))&&N.id!==(r==null?void 0:r.id)}),[u,l,r==null?void 0:r.id]),k=v.useMemo(()=>l.filter(N=>N.online||N.role==="ROLE_ADMIN").length,[l]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pl-8 flex justify-between items-center p-4 border-b border-gray-200 bg-white shadow-sm",children:[a.jsx("div",{className:"flex px-1 items-center space-x-4 flex-1 min-w-0",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors duration-200 truncate",onClick:b,title:" ",children:e.name}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${n||x?"bg-green-500 animate-pulse":"bg-gray-400"}`})})]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",l.length," "]}),k>0&&a.jsxs("span",{className:"text-sm text-green-600",children:[" ",k," "]})]})]})}),x&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:b,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:[f?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("span",{className:"font-medium",children:""})]}),a.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:" ",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx($M,{isOpen:o,onClose:()=>i(!1),chat:e,participants:l,onAddUser:y,onRemoveUser:w,isAdmin:x,availableUsers:j,currentUserId:r==null?void 0:r.id})]})}const BM=J.memo(VM);function zM({onSend:e,editing:t,onSaveEdit:n,onCancelEdit:r,sending:s}){const[o,i]=v.useState(""),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{i(t&&(t.message||t.content)||"")},[t]);const f=g=>{const y=g.target.files[0];if(y){if(y.size>10*1024*1024){A.error("  .  : 10MB");return}c(y)}},p=g=>{const y=g.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(y)?a.jsx(kc,{className:"text-blue-500"}):["pdf"].includes(y)?a.jsx(et,{className:"text-red-500"}):["doc","docx"].includes(y)?a.jsx(et,{className:"text-blue-600"}):a.jsx(et,{className:"text-gray-500"})},x=g=>{if(g===0)return"0 Bytes";const y=1024,w=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(g)/Math.log(y));return parseFloat((g/Math.pow(y,b)).toFixed(2))+" "+w[b]},m=()=>{i(""),c(null),typeof r=="function"&&r()},h=async()=>{var w;const g=o.trim();if(!g&&!l)return A.warn("    ");if(s||u)return;let y=null;if(l){d(!0);try{const b=new FormData;b.append("photo",l),b.append("prefix","chat");const j=await fetch(`${je}/api/v1/file/upload`,{method:"POST",body:b});if(!j.ok)throw new Error("   ");const k=await j.json();if(y=((w=k==null?void 0:k.data)==null?void 0:w.id)||(k==null?void 0:k.id)||k,!y)throw new Error("   ID");A.success("   ")}catch(b){console.error("   :",b),A.error("   "),d(!1);return}d(!1)}t?n(g):e({text:g,fileId:y}),i(""),c(null)};return a.jsxs("div",{className:"w-full max-w-full px-3 sm:px-4 py-4 border-t bg-white shadow-sm overflow-x-hidden",children:[t&&a.jsxs("div",{className:"mb-3 flex items-center justify-between bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(br,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:" "})]}),a.jsx("button",{onClick:m,className:"text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx(Wt,{size:18})})]}),l&&a.jsxs("div",{className:"mb-3 flex items-center gap-3 bg-blue-50 border border-blue-200 rounded-lg p-3 w-full max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:p(l.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate break-all",children:l.name}),a.jsx("p",{className:"text-xs text-gray-500",children:x(l.size)})]})]}),a.jsx("button",{onClick:()=>c(null),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors p-1",children:a.jsx(Wt,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:`
          flex-shrink-0 p-3 rounded-lg border cursor-pointer transition-all
          ${u?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50 hover:border-gray-400"}
        `,children:[a.jsx(Ec,{size:20}),a.jsx("input",{type:"file",accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.txt",className:"hidden",onChange:f,disabled:u})]}),a.jsx("input",{type:"text",placeholder:u?" ...":" ...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),disabled:s||u}),a.jsx("button",{onClick:h,disabled:s||u,className:`
            flex-shrink-0 flex items-center gap-2 rounded-lg px-1 lg:px-4 py-3 font-medium transition-all
            ${s||u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700 shadow-sm hover:shadow-md"}
          `,children:u?a.jsx(a.Fragment,{children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):s?"...":t?a.jsxs(a.Fragment,{children:[a.jsx(br,{size:16}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{size:16}),"Send"]})})]})]})}const UM=e=>{v.useEffect(()=>{if(e)return()=>{e&&(e.onConnect=null,e.onDisconnect=null,e.onWebSocketClose=null,e.onStompError=null)}},[e])},HM=(e,t,n,r)=>{const[s,o]=v.useState([]),[i,l]=v.useState(new Map),c=v.useCallback(p=>{var x,m;try{const h=typeof p.body=="string"?JSON.parse(p.body):p,g=((x=h.chatRoom)==null?void 0:x.id)||h.chatId;if(!g||g!==(e==null?void 0:e.id))return;if(h.fileId&&!h.file&&(h.file={id:h.fileId,name:`uploaded_file_${h.fileId}.bin`}),l(y=>{var b,j,k;const w=new Map(y);for(const[N,S]of w.entries()){const E=S.userId===h.userId||((b=S.sender)==null?void 0:b.id)===h.userId||S.userId===((j=h.sender)==null?void 0:j.id),O=S.fileId&&(((k=h.file)==null?void 0:k.id)===S.fileId||h.fileId===S.fileId),T=(S.message||S.content||"")===(h.message||h.content||"");E&&(O||T)&&w.delete(N)}return w}),o(y=>{const w=y.findIndex(b=>b.id===h.id);if(w!==-1){const b=[...y];return b[w]={...b[w],...h},b}return[...y,h]}),h&&typeof r=="function"){const y=h.message||h.content||((m=h.file)==null?void 0:m.name)||"";r({chatId:g,lastMessage:y,createdAt:h.createdAt})}}catch(h){console.error("Error processing incoming message:",h)}},[e==null?void 0:e.id,r]),u=v.useCallback(p=>{l(x=>new Map(x).set(p.tempId,p))},[]),d=v.useCallback(p=>{l(x=>{const m=new Map(x);return m.delete(p),m})},[]),f=v.useCallback(()=>{l(new Map)},[]);return{messages:s,pendingMessages:Array.from(i.values()),setMessages:o,processIncomingMessage:c,addPendingMessage:u,removePendingMessage:d,clearPendingMessages:f}},WM=({src:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs("div",{className:"relative max-h-[95vh] max-w-[95vw]",children:[a.jsx("img",{src:e,alt:"full-view",className:"max-h-[85vh] max-w-full rounded-lg shadow-2xl object-contain",onClick:n=>n.stopPropagation()}),a.jsx("button",{onClick:t,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2",children:a.jsx(Wt,{size:24})}),a.jsx("a",{href:e,download:!0,className:"absolute -top-12 right-12 text-white hover:text-gray-300 transition-colors p-2",title:"Download image",children:a.jsx(Gt,{size:20})})]})}):null,GM=({file:e,isAuthor:t,onPreview:n})=>{var o;const r=/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(e.name||""),s=(o=e.name)!=null&&o.includes("_")?e.name.split("_").slice(1).join("_"):e.name;return a.jsx("div",{className:`mt-2 rounded-lg border overflow-hidden ${t?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:r?a.jsx("div",{className:"cursor-pointer",onClick:()=>n(e),children:a.jsx("img",{src:`${je}/api/v1/file/getFile/${e.id}?${Date.now()}`,alt:"attachment",className:"w-full max-w-xs object-cover transition-transform hover:scale-105"})}):a.jsxs("a",{href:`${je}/api/v1/file/getFile/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 hover:bg-opacity-80 transition-colors no-underline",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:a.jsx(et,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s}),a.jsx("p",{className:"text-xs text-gray-500",children:e.size?KM(e.size):"File"})]}),a.jsx(Gt,{size:16,className:"text-gray-400"})]})})},KM=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},XM=J.memo(({message:e,isAuthor:t,onEdit:n,onDelete:r,currentUserId:s})=>{const{id:o,tempId:i,message:l,content:c,sender:u,userId:d,createdAt:f,edited:p,pending:x,file:m,fileId:h}=e,[g,y]=v.useState(null),[w,b]=v.useState(!1),j=v.useRef(null),k=l||c||"",N=JSON.parse(localStorage.getItem("roles")||"[]"),S=N.length>0?N[0].name:"ROLE_OTHER",E=v.useMemo(()=>t||d===s||(u==null?void 0:u.id)===s?"You":u!=null&&u.name?u.name:u!=null&&u.phone?u.phone:"Unknown",[t,d,u,s]),O=v.useMemo(()=>new Date(f||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[f]),T=v.useCallback(()=>{b(!1),x||n(e)},[x,n,e]),_=v.useCallback(()=>{b(!1),o&&r(o)},[o,r]),P=v.useCallback(C=>{/\.(jpg|jpeg|png|gif|webp)$/i.test(C.name||"")&&y(`${je}/api/v1/file/getFile/${C.id}`)},[]),M=v.useMemo(()=>m||(h?{id:h,name:"attachment"}:null),[m,h]);return v.useEffect(()=>{const C=I=>{j.current&&!j.current.contains(I.target)&&b(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} px-2 sm:px-4`,children:a.jsx("div",{className:`relative w-fit max-w-full sm:max-w-[85%] md:max-w-[80%] lg:max-w-[70%] group ${x?"opacity-70":""}`,style:{wordBreak:"break-word"},children:a.jsxs("div",{className:`relative p-4 rounded-2xl transition-all duration-200 ${x?"bg-gray-200 text-gray-600 animate-pulse":t?"bg-blue-500 text-white shadow-lg":"bg-white text-gray-800 shadow-sm border border-gray-100"}`,children:[!t&&a.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:E}),k&&a.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:k}),M&&a.jsx(GM,{file:M,isAuthor:t,onPreview:P}),a.jsxs("div",{className:`flex items-center justify-end gap-2 mt-2 ${t?"text-blue-100":"text-gray-500"}`,children:[p&&a.jsx("span",{className:"text-xs italic",children:"edited"}),x?a.jsx(jc,{size:12,className:"animate-pulse"}):a.jsx(wc,{size:12}),a.jsx("span",{className:"text-xs",children:O})]}),(t||S==="ROLE_ADMIN")&&!x&&a.jsxs("div",{ref:j,className:`absolute top-2 ${t?"left-2":"right-2"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[a.jsx("button",{onClick:()=>b(!w),className:`p-1 rounded-full ${t?"bg-blue-400 hover:bg-blue-300 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-600"} transition-colors`,children:a.jsx(Nc,{size:14})}),w&&a.jsxs("div",{className:`absolute ${t?"right-0":"left-0"} bottom-0 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-32 z-10`,children:[a.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Sc,{size:14}),"Edit"]}),a.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Tc,{size:14}),"Delete"]})]})]})]})})}),g&&a.jsx(WM,{src:g,onClose:()=>y(null)})]})});function qM({chat:e,role:t,user:n,onLastMessageUpdate:r,onChatDeleted:s}){const o=nu(),i=v.useRef(null),l=v.useRef(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[p,x]=v.useState(!1);UM(o);const{messages:m,pendingMessages:h,setMessages:g,processIncomingMessage:y,addPendingMessage:w,removePendingMessage:b,clearPendingMessages:j}=HM(e,n,o,r);tu(`/topic/chat/${e==null?void 0:e.id}`,y);const k=v.useMemo(()=>[...m,...h].sort((C,I)=>new Date(C.createdAt||0)-new Date(I.createdAt||0)),[m,h]),N=v.useCallback(()=>{var C;(C=i.current)==null||C.scrollIntoView({behavior:"smooth",block:"nearest"})},[]),S=v.useCallback(()=>{if(l.current){const{scrollTop:C,scrollHeight:I,clientHeight:R}=l.current;x(I-C-R>100)}},[]),E=v.useCallback(async()=>{if(e!=null&&e.id){f(!0);try{const C=await H(`/api/v1/chats/${e.id}/messages`,"GET");g(C.data||[])}catch{A.error("Failed to load messages")}finally{f(!1)}}},[e==null?void 0:e.id,g]);v.useEffect(()=>{E()},[E]),v.useEffect(()=>{p||N()},[k.length,N,p]);const O=v.useCallback(async C=>{const I=typeof C=="string"?C:C.text,R=C.fileId||null,U=I==null?void 0:I.trim();if(!(o!=null&&o.connected)||!(e!=null&&e.id)||!(n!=null&&n.id)||!U&&!R){A.warn("       ");return}const D={tempId:Date.now(),chatId:e.id,userId:n.id,message:U||"",createdAt:new Date().toISOString(),pending:!0,fileId:R||null};w(D);try{o.publish({destination:"/app/chat.send",body:JSON.stringify(D)})}catch(B){console.error("Failed to send message:",B),A.error("   "),b(D.tempId)}},[o,e==null?void 0:e.id,n==null?void 0:n.id,w,b]),T=v.useCallback(C=>{C.pending||u(C)},[]),_=v.useCallback(async C=>{if(!(c!=null&&c.id)||!(e!=null&&e.id)){A.error("Cannot edit unsent message");return}const I=C.trim();if(!I){A.warn("Message cannot be empty");return}try{await H(`/api/v1/chats/${e.id}/messages/${c.id}`,"PUT",{message:I});const R={id:c.id,chatId:e.id,userId:n.id,message:I,edited:!0};o.publish({destination:"/app/chat.edit",body:JSON.stringify(R)}),g(U=>U.map(D=>D.id===c.id?{...D,message:I,edited:!0}:D)),u(null)}catch(R){console.error("Edit error:",R),A.error("Failed to edit message")}},[c,e==null?void 0:e.id,n==null?void 0:n.id,o,g]),P=v.useCallback(async C=>{if(C)try{await H(`/api/v1/chats/${e.id}/messages/${C}`,"DELETE"),g(I=>I.filter(R=>R.id!==C))}catch(I){console.error("Delete error:",I),A.error("Failed to delete message")}},[e==null?void 0:e.id,g]),M=v.useCallback(C=>{var I;return C.userId===(n==null?void 0:n.id)||((I=C.sender)==null?void 0:I.id)===(n==null?void 0:n.id)},[n==null?void 0:n.id]);return e?a.jsxs("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx(BM,{chat:e,role:t,connected:o==null?void 0:o.connected,user:n,onChatDeleted:s}),a.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto px-3 sm:px-6 py-4 space-y-3 scroll-smooth",onScroll:S,children:[d?a.jsx("div",{className:"flex justify-center items-center h-20",children:a.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-blue-500"}),"Loading messages..."]})}):k.length===0?a.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No messages yet"}),a.jsx("div",{className:"text-gray-400 text-sm max-w-md",children:"Start a conversation by sending a message or sharing a file"})]}):k.map(C=>a.jsx(XM,{message:C,isAuthor:M(C),onEdit:T,onDelete:P,currentUserId:n==null?void 0:n.id,role:t},C.id||C.tempId)),a.jsx("div",{ref:i})]}),p&&a.jsx("button",{onClick:N,className:"absolute bottom-20 right-6 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors z-10",children:a.jsx(Gt,{size:20,className:"rotate-180"})}),a.jsx(zM,{onSend:O,editing:c,onSaveEdit:_,onCancelEdit:()=>u(null),disabled:!(o!=null&&o.connected)})]}):a.jsx("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100 items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"Select a chat to start messaging"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Choose a conversation from the list to begin"})]})})}const JM=J.memo(qM);function YM(){const[e,t]=v.useState([]),[n,r]=v.useState(null),[s,o]=v.useState(null),[i,l]=v.useState(!1),c=Ve(),u=localStorage.getItem("phone"),d=v.useRef(0),f=v.useRef(0),p=JSON.parse(localStorage.getItem("roles")||"[]"),x=p.length>0?p[0].name:"ROLE_OTHER";v.useEffect(()=>{const j=N=>{d.current=N.touches[0].clientX},k=N=>{f.current=N.changedTouches[0].clientX;const S=f.current-d.current;d.current<50&&S>80&&(n?r(null):l(!0))};return window.addEventListener("touchstart",j),window.addEventListener("touchend",k),()=>{window.removeEventListener("touchstart",j),window.removeEventListener("touchend",k)}},[n]);const m=async()=>{try{const j=await H("/api/v1/admin/all-users","GET"),N=(Array.isArray(j.data)?j.data:[]).find(S=>S.phone===u);N&&(o({id:N.id,name:N.name}),localStorage.setItem("user",JSON.stringify(N)))}catch(j){console.error("   :",j)}},h=j=>{t(k=>k.filter(N=>N.id!==j)),r(null)};v.useEffect(()=>{localStorage.getItem("access_token")||c("/admin/login")},[]),v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const j=await H("/api/v1/chats","GET"),k=Array.isArray(j.data)?j.data:[],N=await Promise.all(k.map(async S=>{var E;try{const T=(await H(`/api/v1/chats/${S.id}/messages`,"GET")).data||[];if(T.length>0){const _=T[T.length-1];return{...S,lastMessage:{message:_.message||_.content||"",createdAt:_.createdAt,userId:_.userId||((E=_.sender)==null?void 0:E.id),file:_.file?{id:_.file.id,name:_.file.name,prefix:_.file.prefix}:null}}}}catch(O){console.warn("    :",S.id,O)}return S}));t(N)}catch(j){console.error("   :",j)}},y=j=>r(j),w=()=>{localStorage.clear(),c("/admin/login")},b=()=>{n?r(null):l(!i)};return a.jsx(eu,{url:`${je.replace("http","ws")}/ws`,reconnectDelay:5e3,children:a.jsxs("div",{className:"flex min-h-screen w-full max-w-full bg-gray-50 relative overflow-x-hidden",children:[!i&&a.jsx("button",{onClick:b,className:"lg:hidden fixed top-9 left-1 font-black text-xl z-50 text-blue-700",children:n?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:"w-4 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-6 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M0 88a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24A24 24 0 0 1 0 88zm0 160a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24a24 24 0 0 1-24-24zm24 136a24 24 0 0 0 0 48h400a24 24 0 0 0 0-48H24z"})})}),a.jsx("div",{className:`${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(u2,{onLogout:w})}),i&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>l(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-screen w-full max-w-full overflow-x-hidden",children:[a.jsx("div",{className:`${n?"hidden":"block"} lg:block w-full lg:w-1/4 border-r bg-white p-4 overflow-y-auto`,children:a.jsx(AM,{chats:e,onSelect:y,role:x,user:s,onChatCreated:j=>{j!=null&&j.id&&(t(k=>[...k,j]),r(j))}})}),n?a.jsx("div",{className:"flex-1 relative bg-white",children:a.jsx(JM,{chat:n,role:x,user:s,onChatDeleted:h,onLastMessageUpdate:j=>{t(k=>k.map(N=>N.id===j.chatId?{...N,lastMessage:{message:j.lastMessage,createdAt:j.createdAt}}:N))}})}):a.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center text-gray-400",children:" ,   "})]}),a.jsx(cn,{position:"top-right",autoClose:2e3})]})})}function d2({onLogout:e}){const t=Ve(),n=_t(),r=s=>`
      block w-full text-left px-4 py-2 rounded-lg font-medium transition-colors
      ${n.pathname===s?"bg-blue-600 text-white shadow-md":"text-gray-200 hover:bg-gray-700 hover:text-white"}
    `;return a.jsxs("aside",{className:"w-64 bg-gray-800 text-white p-6 flex flex-col justify-between min-h-screen",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:" Panel"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>t("/other/dashboard"),className:r("/other/dashboard"),children:" Bosh sahifa"}),a.jsx("button",{onClick:()=>t("/other/talk"),className:r("/other/talk"),children:" Chats"})]})]}),a.jsx("button",{onClick:e,className:"mt-8 bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg text-white font-semibold transition-all duration-200",children:" "})]})}function QM(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),s=v.useRef(0),o=v.useRef(0),i=Ve();v.useEffect(()=>{localStorage.getItem("access_token")||i("/admin/login")},[i]),v.useEffect(()=>{const p=m=>{s.current=m.touches[0].clientX},x=m=>{o.current=m.changedTouches[0].clientX;const h=o.current-s.current;s.current<50&&h>80&&r(!0)};return window.addEventListener("touchstart",p),window.addEventListener("touchend",x),()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchend",x)}},[]);const l=async(p,x="GET",m=null,h=null)=>{let g=await H(p,x,m,h);if(g&&g.error&&(g.data===401||g.data===403)){const y=await H("/api/admin/refresh","POST",null,null);y&&!y.error?(localStorage.setItem("access_token",y.data.accessToken),g=await H(p,x,m,h)):(localStorage.removeItem("access_token"),i("/admin/login"))}return g};v.useEffect(()=>{c()},[i]);const c=async()=>{const p=await l("/api/v1/room-booking","GET");if(p&&!p.error){const x=new Date;x.setHours(0,0,0,0);const m=new Date(x);m.setDate(x.getDate()+1);const h=new Date(x);h.setDate(x.getDate()+2);const g=p.data.filter(y=>{if(y.bookingStatus!==3||!y.breakfast||!y.checkInTime||!y.checkOutTime)return!1;const w=new Date(y.checkInTime),b=new Date(y.checkOutTime),j=w>=x&&w<h,k=b>=m;return j||k});t(g)}},u=()=>{localStorage.clear(),i("/admin/login")},d=p=>{if(!p)return 1;const x=p.toLowerCase();return x.includes("twin")||x.includes("double")?2:x.includes("triple")?3:1},f=e.reduce((p,x)=>{var h,g;const m=((g=(h=x.room)==null?void 0:h.roomType)==null?void 0:g.name)||"";return p+d(m)},0);return a.jsxs("div",{className:"flex min-h-screen bg-gray-100 overflow-hidden",children:[!n&&a.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 w-64 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(d2,{onLogout:u})}),n&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>r(!1)}),a.jsxs("main",{className:"flex-1 p-4 lg:p-6 bg-gray-100 overflow-hidden",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"      "}),a.jsxs("div",{className:"bg-white rounded-xl shadow p-4 h-[calc(100vh-120px)] lg:h-fit flex flex-col",children:[a.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-gray-200",children:e.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"   ."}):a.jsxs("table",{className:"min-w-full border border-gray-200 text-sm text-center",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[a.jsx("th",{className:"border px-4 py-2",children:""}),a.jsx("th",{className:"border px-4 py-2",children:"- "}),a.jsx("th",{className:"border px-4 py-2",children:" "})]})}),a.jsx("tbody",{children:e.map(p=>{var g,y,w;const x=((g=p.room)==null?void 0:g.roomName)||"",m=((w=(y=p.room)==null?void 0:y.roomType)==null?void 0:w.name)||"",h=d(m);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"border px-4 py-2 font-semibold text-slate-800",children:x}),a.jsx("td",{className:"border px-4 py-2",children:h}),a.jsx("td",{className:"border px-4 py-2 text-left",children:p.toCook||""})]},p.id)})})]})}),a.jsxs("div",{className:"pt-4 border-t border-gray-200 text-right font-semibold text-slate-700",children:["  :"," ",a.jsx("span",{className:"text-blue-600",children:f})]})]})]})]})}const ZM=({timestamp:e})=>{if(!e)return null;const t=n=>{const r=new Date,s=new Date(n),o=(r-s)/(1e3*60*60);return o<24?s.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):o<168?s.toLocaleDateString("ru-RU",{weekday:"short"}):s.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})};return a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:t(e)})},eD=({name:e,unreadCount:t,isOnline:n})=>{const r=v.useMemo(()=>(e==null?void 0:e.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2))||"??",[e]);return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:r}),n&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"}),t>0&&a.jsx("div",{className:"absolute -top-1 -right-1 min-w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:t>99?"99+":t})]})},tD=()=>a.jsx("div",{className:"p-3 border-b animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})});function nD({chats:e=[],onSelect:t,selectedChat:n,isLoading:r=!1,onSearch:s,searchQuery:o="",className:i="",onChatCreated:l,user:c}){const[u,d]=v.useState(!1),f=JSON.parse(localStorage.getItem("roles")||"[]"),p=f.length>0?f[0].name:"ROLE_OTHER",x=v.useMemo(()=>{if(!o)return e;const m=o.toLowerCase();return e.filter(h=>{var g,y,w,b,j;return((g=h.name)==null?void 0:g.toLowerCase().includes(m))||((w=(y=h.lastMessage)==null?void 0:y.message)==null?void 0:w.toLowerCase().includes(m))||((j=(b=h.lastMessage)==null?void 0:b.content)==null?void 0:j.toLowerCase().includes(m))})},[e,o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`bg-white border-r border-gray-200 flex flex-col shadow-sm ${i}`,children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),a.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm hover:opacity-90 transition",children:a.jsx(Xr,{size:18,strokeWidth:2})})]}),s&&a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:" ...",value:o,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 pl-10 bg-gray-100 border-0 rounded-lg focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all duration-200 text-sm"}),a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:r?Array.from({length:8}).map((m,h)=>a.jsx(tD,{},h)):x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4",children:""}),a.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:o?"  ":" "}),a.jsx("p",{className:"text-gray-400 text-sm",children:o?"   ":"  "})]}):x.map(m=>{var N,S;if(!(m!=null&&m.id)||(console.log(m),!((N=m.participants)==null?void 0:N.some(E=>E.id===(c==null?void 0:c.id)))))return null;const g=m.lastMessage,y=(g==null?void 0:g.createdAt)||(g==null?void 0:g.timestamp)||m.lastMessageTime,w=(n==null?void 0:n.id)===m.id,b=m.unreadCount||0,j=m.isOnline||!1;let k="";if(g!=null&&g.file){const E=g.file.name||"",O=E.includes("_")?E.split("_").slice(1).join("_"):E,T=22;k=` ${O.length>T?`${O.slice(0,10)}...${O.slice(-7)}`:O}`}else k=typeof g=="string"?g:(g==null?void 0:g.message)||(g==null?void 0:g.content)||(g==null?void 0:g.text)||" ";return a.jsx("div",{onClick:()=>t==null?void 0:t(m),className:`p-3 border-b border-gray-50 cursor-pointer transition-all duration-200 group ${w?"bg-gradient-to-r from-blue-50 to-blue-25 border-l-4 border-l-blue-500":"hover:bg-gray-50 hover:border-l-4 hover:border-l-gray-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(eD,{name:m.name,unreadCount:b,isOnline:j}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${w?"text-blue-700":"text-gray-800"}`,children:m.name||" "}),a.jsx(ZM,{timestamp:y})]}),a.jsx("p",{className:`text-sm truncate flex-1 ${b>0?"text-gray-800 font-medium":"text-gray-500"}`,title:((S=g==null?void 0:g.file)==null?void 0:S.name)||k,children:k})]})]})},m.id)})})]}),a.jsx($i,{children:u&&a.jsx(kn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"stop fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>d(!1),children:a.jsxs(kn.div,{onClick:m=>m.stopPropagation(),className:"bg-white rounded-xl shadow-lg p-6 px-10 max-w-sm relative",children:[a.jsx("h3",{className:"flex items-center text-lg font-semibold text-gray-800 mb-3",children:a.jsx(Xr,{size:25,strokeWidth:2})}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.name)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(c==null?void 0:c.phone)||""]}),a.jsxs("p",{className:"text-gray-700 mt-1",children:[a.jsx("strong",{children:":"})," ",(p==null?void 0:p.replace("ROLE_",""))||"OTHER"]}),a.jsx("button",{onClick:()=>d(!1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:""})]})})})]})}const rD=J.memo(nD),sD=J.memo(({participant:e,onRemove:t,isAdmin:n,currentUserId:r})=>{var i;const s=e.id===r,o=e.online||e.role==="ROLE_ADMIN";return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-all duration-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((i=e.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${o?"bg-green-500":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-800 truncate",children:e.name||" "}),e.role==="ROLE_ADMIN"&&a.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"ADMIN"}),s&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:""})]}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.email||e.phone||"  "})]})]}),n&&!s&&a.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:"  ",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),oD=J.memo(({isOpen:e,onClose:t,chat:n,participants:r,onAddUser:s,onRemoveUser:o,isAdmin:i,availableUsers:l,currentUserId:c})=>{const[u,d]=v.useState(null),[f,p]=v.useState(!1),x=v.useMemo(()=>l.map(h=>({value:h.id,label:`${h.name||" "}  ${h.email||h.phone||" "}`,user:h})),[l]),m=async()=>{if(!u){A.warn("   ");return}p(!0);try{await s(u.value),d(null),A.success("    ")}catch(h){console.error("  :",h)}finally{p(!1)}};return e?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:" "}),a.jsxs("p",{className:"text-sm text-gray-600",children:[n.name,"  ",r.length," "]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:r.length>0?r.map(h=>a.jsx(sD,{participant:h,onRemove:o,isAdmin:i,currentUserId:c},h.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),a.jsx("p",{className:"font-medium text-gray-600",children:" "}),a.jsx("p",{className:"text-sm mt-1",children:"   "})]})}),i&&a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),a.jsx(Qc,{value:u,onChange:d,options:x,placeholder:" ...",isSearchable:!0,isClearable:!0,menuPosition:"fixed",menuPortalTarget:document.body,styles:{control:h=>({...h,borderRadius:"0.5rem",borderColor:"#D1D5DB","&:hover":{borderColor:"#9CA3AF"}}),menuPortal:h=>({...h,zIndex:9999}),menu:h=>({...h,zIndex:9999})}})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:m,disabled:!u||f,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2.5 px-4 rounded-lg transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})]})]}),!i&&a.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-200",children:""})})]})}):null});function iD({chat:e,role:t,connected:n,user:r,onChatDeleted:s}){const[o,i]=v.useState(!1),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,p]=v.useState(!1),x=t==="ROLE_ADMIN",m=async()=>{var N,S,E;if(e!=null&&e.id)try{const O=await H(`/api/v1/chats/${e.id}`,"GET"),T=((N=O==null?void 0:O.data)==null?void 0:N.participants)||((E=(S=O==null?void 0:O.data)==null?void 0:S.data)==null?void 0:E.participants)||[];c(T)}catch(O){console.error("   :",O),A.error("   "),c([])}};v.useEffect(()=>{e!=null&&e.id&&(c([]),m(),x&&o&&h())},[e==null?void 0:e.id,o]);const h=async()=>{try{const N=await H("/api/v1/admin/all-users","GET"),S=Array.isArray(N.data)?N.data:[];d(S)}catch(N){console.error("   :",N),A.error("   "),d([])}},g=async()=>{if(e!=null&&e.id&&window.confirm("  ?"))try{await H(`/api/v1/chats/${e.id}`,"DELETE"),A.success(" "),s&&s(e.id)}catch(N){console.error("   :",N),A.error("   ")}},y=async N=>{try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"POST"),await m(),await h()}catch(S){throw console.error("   :",S),S}},w=async N=>{if(window.confirm("   ?"))try{await H(`/api/v1/chats/participants/${e.id}/${N}`,"DELETE"),A.success("    "),await m(),await h()}catch(S){console.error("   :",S),A.error("   ")}},b=async()=>{p(!0);try{await Promise.all([m(),h()]),i(!0)}catch(N){console.error("   :",N),A.error("   ")}finally{p(!1)}},j=v.useMemo(()=>u.filter(N=>{var S;return!l.some(E=>E.id===N.id)&&!((S=N.roles)!=null&&S.some(E=>E.name==="ROLE_ADMIN"))&&N.id!==(r==null?void 0:r.id)}),[u,l,r==null?void 0:r.id]),k=v.useMemo(()=>l.filter(N=>N.online||N.role==="ROLE_ADMIN").length,[l]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pl-8 flex justify-between items-center p-4 border-b border-gray-200 bg-white shadow-sm",children:[a.jsx("div",{className:"flex px-1 items-center space-x-4 flex-1 min-w-0",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 cursor-pointer hover:text-blue-600 transition-colors duration-200 truncate",onClick:b,title:" ",children:e.name}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${n||x?"bg-green-500 animate-pulse":"bg-gray-400"}`})})]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[" ",l.length," "]}),k>0&&a.jsxs("span",{className:"text-sm text-green-600",children:[" ",k," "]})]})]})}),x&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:b,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:[f?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),a.jsx("span",{className:"font-medium",children:""})]}),a.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200",title:" ",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsx(oD,{isOpen:o,onClose:()=>i(!1),chat:e,participants:l,onAddUser:y,onRemoveUser:w,isAdmin:x,availableUsers:j,currentUserId:r==null?void 0:r.id})]})}const aD=J.memo(iD);function lD({onSend:e,editing:t,onSaveEdit:n,onCancelEdit:r,sending:s}){const[o,i]=v.useState(""),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{i(t&&(t.message||t.content)||"")},[t]);const f=g=>{const y=g.target.files[0];if(y){if(y.size>10*1024*1024){A.error("  .  : 10MB");return}c(y)}},p=g=>{const y=g.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(y)?a.jsx(kc,{className:"text-blue-500"}):["pdf"].includes(y)?a.jsx(et,{className:"text-red-500"}):["doc","docx"].includes(y)?a.jsx(et,{className:"text-blue-600"}):a.jsx(et,{className:"text-gray-500"})},x=g=>{if(g===0)return"0 Bytes";const y=1024,w=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(g)/Math.log(y));return parseFloat((g/Math.pow(y,b)).toFixed(2))+" "+w[b]},m=()=>{i(""),c(null),typeof r=="function"&&r()},h=async()=>{var w;const g=o.trim();if(!g&&!l)return A.warn("    ");if(s||u)return;let y=null;if(l){d(!0);try{const b=new FormData;b.append("photo",l),b.append("prefix","chat");const j=await fetch(`${je}/api/v1/file/upload`,{method:"POST",body:b});if(!j.ok)throw new Error("   ");const k=await j.json();if(y=((w=k==null?void 0:k.data)==null?void 0:w.id)||(k==null?void 0:k.id)||k,!y)throw new Error("   ID");A.success("   ")}catch(b){console.error("   :",b),A.error("   "),d(!1);return}d(!1)}t?n(g):e({text:g,fileId:y}),i(""),c(null)};return a.jsxs("div",{className:"w-full max-w-full px-3 sm:px-4 py-4 border-t bg-white shadow-sm overflow-x-hidden",children:[t&&a.jsxs("div",{className:"mb-3 flex items-center justify-between bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(br,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:" "})]}),a.jsx("button",{onClick:m,className:"text-yellow-600 hover:text-yellow-800 transition-colors",children:a.jsx(Wt,{size:18})})]}),l&&a.jsxs("div",{className:"mb-3 flex items-center gap-3 bg-blue-50 border border-blue-200 rounded-lg p-3 w-full max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:p(l.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate break-all",children:l.name}),a.jsx("p",{className:"text-xs text-gray-500",children:x(l.size)})]})]}),a.jsx("button",{onClick:()=>c(null),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors p-1",children:a.jsx(Wt,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:`
          flex-shrink-0 p-3 rounded-lg border cursor-pointer transition-all
          ${u?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50 hover:border-gray-400"}
        `,children:[a.jsx(Ec,{size:20}),a.jsx("input",{type:"file",accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.txt",className:"hidden",onChange:f,disabled:u})]}),a.jsx("input",{type:"text",placeholder:u?" ...":" ...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:o,onChange:g=>i(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),disabled:s||u}),a.jsx("button",{onClick:h,disabled:s||u,className:`
            flex-shrink-0 flex items-center gap-2 rounded-lg px-1 lg:px-4 py-3 font-medium transition-all
            ${s||u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700 shadow-sm hover:shadow-md"}
          `,children:u?a.jsx(a.Fragment,{children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):s?"...":t?a.jsxs(a.Fragment,{children:[a.jsx(br,{size:16}),""]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{size:16}),"Send"]})})]})]})}const cD=e=>{v.useEffect(()=>{if(e)return()=>{e&&(e.onConnect=null,e.onDisconnect=null,e.onWebSocketClose=null,e.onStompError=null)}},[e])},uD=(e,t,n,r)=>{const[s,o]=v.useState([]),[i,l]=v.useState(new Map),c=v.useCallback(p=>{var x,m;try{const h=typeof p.body=="string"?JSON.parse(p.body):p,g=((x=h.chatRoom)==null?void 0:x.id)||h.chatId;if(!g||g!==(e==null?void 0:e.id))return;if(h.fileId&&!h.file&&(h.file={id:h.fileId,name:`uploaded_file_${h.fileId}.bin`}),l(y=>{var b,j,k;const w=new Map(y);for(const[N,S]of w.entries()){const E=S.userId===h.userId||((b=S.sender)==null?void 0:b.id)===h.userId||S.userId===((j=h.sender)==null?void 0:j.id),O=S.fileId&&(((k=h.file)==null?void 0:k.id)===S.fileId||h.fileId===S.fileId),T=(S.message||S.content||"")===(h.message||h.content||"");E&&(O||T)&&w.delete(N)}return w}),o(y=>{const w=y.findIndex(b=>b.id===h.id);if(w!==-1){const b=[...y];return b[w]={...b[w],...h},b}return[...y,h]}),h&&typeof r=="function"){const y=h.message||h.content||((m=h.file)==null?void 0:m.name)||"";r({chatId:g,lastMessage:y,createdAt:h.createdAt})}}catch(h){console.error("Error processing incoming message:",h)}},[e==null?void 0:e.id,r]),u=v.useCallback(p=>{l(x=>new Map(x).set(p.tempId,p))},[]),d=v.useCallback(p=>{l(x=>{const m=new Map(x);return m.delete(p),m})},[]),f=v.useCallback(()=>{l(new Map)},[]);return{messages:s,pendingMessages:Array.from(i.values()),setMessages:o,processIncomingMessage:c,addPendingMessage:u,removePendingMessage:d,clearPendingMessages:f}},dD=({src:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs("div",{className:"relative max-h-[95vh] max-w-[95vw]",children:[a.jsx("img",{src:e,alt:"full-view",className:"max-h-[85vh] max-w-full rounded-lg shadow-2xl object-contain",onClick:n=>n.stopPropagation()}),a.jsx("button",{onClick:t,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2",children:a.jsx(Wt,{size:24})}),a.jsx("a",{href:e,download:!0,className:"absolute -top-12 right-12 text-white hover:text-gray-300 transition-colors p-2",title:"Download image",children:a.jsx(Gt,{size:20})})]})}):null,fD=({file:e,isAuthor:t,onPreview:n})=>{var o;const r=/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(e.name||""),s=(o=e.name)!=null&&o.includes("_")?e.name.split("_").slice(1).join("_"):e.name;return a.jsx("div",{className:`mt-2 rounded-lg border overflow-hidden ${t?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:r?a.jsx("div",{className:"cursor-pointer",onClick:()=>n(e),children:a.jsx("img",{src:`${je}/api/v1/file/getFile/${e.id}?${Date.now()}`,alt:"attachment",className:"w-full max-w-xs object-cover transition-transform hover:scale-105"})}):a.jsxs("a",{href:`${je}/api/v1/file/getFile/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 hover:bg-opacity-80 transition-colors no-underline",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:a.jsx(et,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s}),a.jsx("p",{className:"text-xs text-gray-500",children:e.size?hD(e.size):"File"})]}),a.jsx(Gt,{size:16,className:"text-gray-400"})]})})},hD=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},pD=J.memo(({message:e,isAuthor:t,onEdit:n,onDelete:r,currentUserId:s})=>{const{id:o,tempId:i,message:l,content:c,sender:u,userId:d,createdAt:f,edited:p,pending:x,file:m,fileId:h}=e,[g,y]=v.useState(null),[w,b]=v.useState(!1),j=v.useRef(null),k=l||c||"",N=JSON.parse(localStorage.getItem("roles")||"[]"),S=N.length>0?N[0].name:"ROLE_OTHER",E=v.useMemo(()=>t||d===s||(u==null?void 0:u.id)===s?"You":u!=null&&u.name?u.name:u!=null&&u.phone?u.phone:"Unknown",[t,d,u,s]),O=v.useMemo(()=>new Date(f||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[f]),T=v.useCallback(()=>{b(!1),x||n(e)},[x,n,e]),_=v.useCallback(()=>{b(!1),o&&r(o)},[o,r]),P=v.useCallback(C=>{/\.(jpg|jpeg|png|gif|webp)$/i.test(C.name||"")&&y(`${je}/api/v1/file/getFile/${C.id}`)},[]),M=v.useMemo(()=>m||(h?{id:h,name:"attachment"}:null),[m,h]);return v.useEffect(()=>{const C=I=>{j.current&&!j.current.contains(I.target)&&b(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} px-2 sm:px-4`,children:a.jsx("div",{className:`relative w-fit max-w-full sm:max-w-[85%] md:max-w-[80%] lg:max-w-[70%] group ${x?"opacity-70":""}`,style:{wordBreak:"break-word"},children:a.jsxs("div",{className:`relative p-4 rounded-2xl transition-all duration-200 ${x?"bg-gray-200 text-gray-600 animate-pulse":t?"bg-blue-500 text-white shadow-lg":"bg-white text-gray-800 shadow-sm border border-gray-100"}`,children:[!t&&a.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:E}),k&&a.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:k}),M&&a.jsx(fD,{file:M,isAuthor:t,onPreview:P}),a.jsxs("div",{className:`flex items-center justify-end gap-2 mt-2 ${t?"text-blue-100":"text-gray-500"}`,children:[p&&a.jsx("span",{className:"text-xs italic",children:"edited"}),x?a.jsx(jc,{size:12,className:"animate-pulse"}):a.jsx(wc,{size:12}),a.jsx("span",{className:"text-xs",children:O})]}),(t||S==="ROLE_ADMIN")&&!x&&a.jsxs("div",{ref:j,className:`absolute top-2 ${t?"left-2":"right-2"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[a.jsx("button",{onClick:()=>b(!w),className:`p-1 rounded-full ${t?"bg-blue-400 hover:bg-blue-300 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-600"} transition-colors`,children:a.jsx(Nc,{size:14})}),w&&a.jsxs("div",{className:`absolute ${t?"right-0":"left-0"} bottom-0 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-32 z-10`,children:[a.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Sc,{size:14}),"Edit"]}),a.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(Tc,{size:14}),"Delete"]})]})]})]})})}),g&&a.jsx(dD,{src:g,onClose:()=>y(null)})]})});function mD({chat:e,role:t,user:n,onLastMessageUpdate:r,onChatDeleted:s}){const o=nu(),i=v.useRef(null),l=v.useRef(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[p,x]=v.useState(!1);cD(o);const{messages:m,pendingMessages:h,setMessages:g,processIncomingMessage:y,addPendingMessage:w,removePendingMessage:b,clearPendingMessages:j}=uD(e,n,o,r);tu(`/topic/chat/${e==null?void 0:e.id}`,y);const k=v.useMemo(()=>[...m,...h].sort((C,I)=>new Date(C.createdAt||0)-new Date(I.createdAt||0)),[m,h]),N=v.useCallback(()=>{var C;(C=i.current)==null||C.scrollIntoView({behavior:"smooth",block:"nearest"})},[]),S=v.useCallback(()=>{if(l.current){const{scrollTop:C,scrollHeight:I,clientHeight:R}=l.current;x(I-C-R>100)}},[]),E=v.useCallback(async()=>{if(e!=null&&e.id){f(!0);try{const C=await H(`/api/v1/chats/${e.id}/messages`,"GET");g(C.data||[])}catch{A.error("Failed to load messages")}finally{f(!1)}}},[e==null?void 0:e.id,g]);v.useEffect(()=>{E()},[E]),v.useEffect(()=>{p||N()},[k.length,N,p]);const O=v.useCallback(async C=>{const I=typeof C=="string"?C:C.text,R=C.fileId||null,U=I==null?void 0:I.trim();if(!(o!=null&&o.connected)||!(e!=null&&e.id)||!(n!=null&&n.id)||!U&&!R){A.warn("       ");return}const D={tempId:Date.now(),chatId:e.id,userId:n.id,message:U||"",createdAt:new Date().toISOString(),pending:!0,fileId:R||null};w(D);try{o.publish({destination:"/app/chat.send",body:JSON.stringify(D)})}catch(B){console.error("Failed to send message:",B),A.error("   "),b(D.tempId)}},[o,e==null?void 0:e.id,n==null?void 0:n.id,w,b]),T=v.useCallback(C=>{C.pending||u(C)},[]),_=v.useCallback(async C=>{if(!(c!=null&&c.id)||!(e!=null&&e.id)){A.error("Cannot edit unsent message");return}const I=C.trim();if(!I){A.warn("Message cannot be empty");return}try{await H(`/api/v1/chats/${e.id}/messages/${c.id}`,"PUT",{message:I});const R={id:c.id,chatId:e.id,userId:n.id,message:I,edited:!0};o.publish({destination:"/app/chat.edit",body:JSON.stringify(R)}),g(U=>U.map(D=>D.id===c.id?{...D,message:I,edited:!0}:D)),u(null)}catch(R){console.error("Edit error:",R),A.error("Failed to edit message")}},[c,e==null?void 0:e.id,n==null?void 0:n.id,o,g]),P=v.useCallback(async C=>{if(C)try{await H(`/api/v1/chats/${e.id}/messages/${C}`,"DELETE"),g(I=>I.filter(R=>R.id!==C))}catch(I){console.error("Delete error:",I),A.error("Failed to delete message")}},[e==null?void 0:e.id,g]),M=v.useCallback(C=>{var I;return C.userId===(n==null?void 0:n.id)||((I=C.sender)==null?void 0:I.id)===(n==null?void 0:n.id)},[n==null?void 0:n.id]);return e?a.jsxs("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx(aD,{chat:e,role:t,connected:o==null?void 0:o.connected,user:n,onChatDeleted:s}),a.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto px-3 sm:px-6 py-4 space-y-3 scroll-smooth",onScroll:S,children:[d?a.jsx("div",{className:"flex justify-center items-center h-20",children:a.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-blue-500"}),"Loading messages..."]})}):k.length===0?a.jsxs("div",{className:"flex flex-col justify-center items-center h-full text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No messages yet"}),a.jsx("div",{className:"text-gray-400 text-sm max-w-md",children:"Start a conversation by sending a message or sharing a file"})]}):k.map(C=>a.jsx(pD,{message:C,isAuthor:M(C),onEdit:T,onDelete:P,currentUserId:n==null?void 0:n.id,role:t},C.id||C.tempId)),a.jsx("div",{ref:i})]}),p&&a.jsx("button",{onClick:N,className:"absolute bottom-20 right-6 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition-colors z-10",children:a.jsx(Gt,{size:20,className:"rotate-180"})}),a.jsx(lD,{onSend:O,editing:c,onSaveEdit:_,onCancelEdit:()=>u(null),disabled:!(o!=null&&o.connected)})]}):a.jsx("div",{className:"flex flex-col flex-1 h-screen bg-gradient-to-br from-gray-50 to-gray-100 items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 mb-4 text-6xl",children:""}),a.jsx("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"Select a chat to start messaging"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Choose a conversation from the list to begin"})]})})}const gD=J.memo(mD);function xD(){const[e,t]=v.useState([]),[n,r]=v.useState(null),[s,o]=v.useState(null),[i,l]=v.useState(!1),c=Ve(),u=localStorage.getItem("phone"),d=v.useRef(0),f=v.useRef(0),p=JSON.parse(localStorage.getItem("roles")||"[]"),x=p.length>0?p[0].name:"ROLE_OTHER";v.useEffect(()=>{const j=N=>{d.current=N.touches[0].clientX},k=N=>{f.current=N.changedTouches[0].clientX;const S=f.current-d.current;d.current<50&&S>80&&(n?r(null):l(!0))};return window.addEventListener("touchstart",j),window.addEventListener("touchend",k),()=>{window.removeEventListener("touchstart",j),window.removeEventListener("touchend",k)}},[n]);const m=async()=>{try{const j=await H("/api/v1/admin/all-users","GET"),N=(Array.isArray(j.data)?j.data:[]).find(S=>S.phone===u);N&&(o({id:N.id,name:N.name}),localStorage.setItem("user",JSON.stringify(N)))}catch(j){console.error("   :",j)}},h=j=>{t(k=>k.filter(N=>N.id!==j)),r(null)};v.useEffect(()=>{localStorage.getItem("access_token")||c("/admin/login")},[]),v.useEffect(()=>{g(),m()},[]);const g=async()=>{try{const j=await H("/api/v1/chats","GET"),k=Array.isArray(j.data)?j.data:[],N=await Promise.all(k.map(async S=>{var E;try{const T=(await H(`/api/v1/chats/${S.id}/messages`,"GET")).data||[];if(T.length>0){const _=T[T.length-1];return{...S,lastMessage:{message:_.message||_.content||"",createdAt:_.createdAt,userId:_.userId||((E=_.sender)==null?void 0:E.id),file:_.file?{id:_.file.id,name:_.file.name,prefix:_.file.prefix}:null}}}}catch(O){console.warn("    :",S.id,O)}return S}));t(N)}catch(j){console.error("   :",j)}},y=j=>r(j),w=()=>{localStorage.clear(),c("/admin/login")},b=()=>{n?r(null):l(!i)};return a.jsx(eu,{url:`${je.replace("http","ws")}/ws`,reconnectDelay:5e3,children:a.jsxs("div",{className:"flex min-h-screen w-full max-w-full bg-gray-50 relative overflow-x-hidden",children:[!i&&a.jsx("button",{onClick:b,className:"lg:hidden fixed top-9 left-1 font-black text-xl z-50 text-blue-700",children:n?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:"w-4 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-6 h-6 fill-current text-blue-700 transition-transform duration-200 hover:scale-110",children:a.jsx("path",{d:"M0 88a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24A24 24 0 0 1 0 88zm0 160a24 24 0 0 1 24-24h400a24 24 0 0 1 0 48H24a24 24 0 0 1-24-24zm24 136a24 24 0 0 0 0 48h400a24 24 0 0 0 0-48H24z"})})}),a.jsx("div",{className:`${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(d2,{onLogout:w})}),i&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>l(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-screen w-full max-w-full overflow-x-hidden",children:[a.jsx("div",{className:`${n?"hidden":"block"} lg:block w-full lg:w-1/4 border-r bg-white p-4 overflow-y-auto`,children:a.jsx(rD,{chats:e,onSelect:y,role:x,user:s,onChatCreated:j=>{j!=null&&j.id&&(t(k=>[...k,j]),r(j))}})}),n?a.jsx("div",{className:"flex-1 relative bg-white",children:a.jsx(gD,{chat:n,role:x,user:s,onChatDeleted:h,onLastMessageUpdate:j=>{t(k=>k.map(N=>N.id===j.chatId?{...N,lastMessage:{message:j.lastMessage,createdAt:j.createdAt}}:N))}})}):a.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center text-gray-400",children:" ,   "})]}),a.jsx(cn,{position:"top-right",autoClose:2e3})]})})}const yD="/assets/bgNew-fb23352f.png",vD="/assets/breakfast-gallery1-ae73521b.jpg",bD="/assets/twin-c8cc6e00.jpg",wD="/assets/twin1-f8f0de33.jpg",jD="/assets/twin2-1c3efeca.jpg",SD="/assets/double-0b6b1170.jpg",kD="/assets/double1-739fa936.jpg",ND="/assets/double2-e8c8bff5.jpg",ED="/assets/triple-5f0b16ee.jpg",CD="/assets/triple1-aeb77f91.jpg",TD="/assets/triple2-b225272a.jpg",OD="/assets/NEWentry-5730d4c8.jpg",PD="/assets/NEWgallery-38e42de4.jpg",_D="/assets/NEWreception-d0cfb85a.jpg",RD="/assets/NEWterrace-6f71ba31.jpg";function LD(){const[e,t]=v.useState([{roomType:"",guestsCount:1,checkIn:"",checkOut:""}]),[n,r]=v.useState(0),[s,o]=v.useState(null),{t:i}=hb(),l=Ve(),[c,u]=v.useState(1);v.useState(!1);const[d,f]=v.useState(!0);v.useEffect(()=>{p()},[]);const p=async()=>{try{const _=await(await fetch(je+"/api/v1/settings/booking-status")).json();console.log(" FETCH JSON:",_),f(_.enabled)}catch(T){console.error(" Exception while loading booking status:",T),f(!0)}},[x,m]=v.useState({TWIN:0,DOUBLE:0,TRIPLE:0}),h={TWIN:[bD,wD,jD],DOUBLE:[SD,kD,ND],TRIPLE:[ED,CD,TD]},g=v.useMemo(()=>[{key:"TWIN",title:i("home.rooms.types.TWIN.title"),subtitle:i("home.rooms.types.TWIN.desc"),image:h.TWIN[0]},{key:"DOUBLE",title:i("home.rooms.types.DOUBLE.title"),subtitle:i("home.rooms.types.DOUBLE.desc"),image:h.DOUBLE[0]},{key:"TRIPLE",title:i("home.rooms.types.TRIPLE.title"),subtitle:i("home.rooms.types.TRIPLE.desc"),image:h.TRIPLE[0]}],[h,i]),y=[{background:`${PD}`,title:i("home.rooms.types.TWIN.title"),subtitle:i("home.rooms.types.TWIN.desc")},{background:`${_D}`,title:i("home.rooms.types.DOUBLE.title"),subtitle:i("home.rooms.types.DOUBLE.desc")},{background:`${RD}`,title:i("home.rooms.types.TRIPLE.title"),subtitle:i("home.rooms.types.TRIPLE.desc")},{background:`${OD}`,title:i("home.rooms.types.TRIPLE.title"),subtitle:i("home.rooms.types.TRIPLE.desc")}];v.useEffect(()=>{var P;const T=(P=g[c])==null?void 0:P.key;if(!T)return;const _=setInterval(()=>{m(M=>({...M,[T]:(M[T]+1)%h[T].length}))},2e3);return()=>clearInterval(_)},[c]),v.useEffect(()=>{const T=setInterval(()=>{r(_=>(_+1)%y.length)},2500);return()=>clearInterval(T)},[y.length]);const w=()=>{r(T=>(T+1)%y.length)},b=()=>{r(T=>(T-1+y.length)%y.length)},j=()=>{t([...e,{roomType:"",guestsCount:1,checkIn:"",checkOut:""}])},k=(T,_,P)=>{const M=[...e];M[T][_]=P,t(M)},N=T=>T==="TRIPLE"?[1,2,3]:T==="DOUBLE"||T==="TWIN"?[1,2]:[1],S=()=>{for(let T of e)if(!T.roomType||!T.checkIn||!T.checkOut){A.info(i("home.booking.error"));return}localStorage.setItem("selectedRooms",JSON.stringify(e)),l("/booking")},E=T=>{let _=1;(T==="DOUBLE"||T==="TWIN")&&(_=2),T==="TRIPLE"&&(_=3),t([{roomType:T,guestsCount:_,checkIn:"",checkOut:""}]);const P=document.getElementById("booking");P&&P.scrollIntoView({behavior:"smooth",block:"start"}),o(null)},O=new Date().toISOString().split("T")[0];return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(cn,{position:"top-right",autoClose:2e3}),a.jsxs("section",{id:"home",className:"relative h-screen flex items-center justify-center overflow-hidden",children:[y.map((T,_)=>a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-black/60 to-black/40 transition-opacity duration-1000 ease-in-out ${_===n?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${T.background})`,backgroundSize:"cover",backgroundPosition:"center"}},_)),a.jsx("div",{className:"relative z-10 text-center text-white max-w-6xl mx-auto px-6",children:a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight text-white drop-shadow-[0_2px_8px_rgba(0,0,0,0.4)]",children:i("home.carousel.title")}),a.jsx("h2",{className:"text-2xl md:text-3xl text-gray-50 font-light mb-8 leading-relaxed drop-shadow-[0_1px_4px_rgba(0,0,0,0.3)]",children:i("home.carousel.subtitle")})]})}),a.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white rounded-full p-3 transition-all z-20",children:a.jsx(LN,{className:"w-6 h-6"})}),a.jsx("button",{onClick:w,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white rounded-full p-3 transition-all z-20",children:a.jsx(MN,{className:"w-6 h-6"})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20",children:y.map((T,_)=>a.jsx("button",{onClick:()=>r(_),className:`w-3 h-3 rounded-full transition-all ${_===n?"bg-yellow-400 scale-125":"bg-white/60 hover:bg-white"}`},_))}),a.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 animate-bounce",children:a.jsx(_N,{className:"w-8 h-8 text-white"})})]}),a.jsx("section",{id:"booking",className:"relative py-20 bg-gradient-to-br from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:i("home.booking.title")}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:i("home.booking.subtitle")})]}),!d&&a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 text-center shadow-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-2",children:i("bookingDisabledTitle")}),a.jsx("p",{className:"text-red-600 max-w-2xl",children:i("bookingDisabledSubtitle")})]})]})})}),a.jsxs("div",{className:`transition-all duration-300 ${d?"":"pointer-events-none opacity-60"}`,children:[e.map((T,_)=>a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 border border-gray-100",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:i("home.booking.roomType")}),a.jsxs("select",{value:T.roomType,onChange:P=>k(_,"roomType",P.target.value),className:"w-full px-4 py-4 rounded-xl border border-gray-200 bg-white focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"",children:i("home.booking.chooseType")}),a.jsx("option",{value:"TWIN",children:"TWIN"}),a.jsx("option",{value:"DOUBLE",children:"DOUBLE"}),a.jsx("option",{value:"TRIPLE",children:"TRIPLE"})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:i("home.booking.guests")}),a.jsx("select",{value:T.guestsCount,onChange:P=>k(_,"guestsCount",Number(P.target.value)),disabled:!T.roomType,className:`
                w-full px-4 py-4 rounded-xl border appearance-none transition-all
                ${T.roomType?"bg-white border-gray-200 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 cursor-pointer":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}
              `,children:N(T.roomType).map(P=>a.jsx("option",{value:P,children:i("home.booking.guestLabel",{count:P})},P))})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:i("home.booking.checkIn")}),a.jsx("input",{type:"date",min:O,value:T.checkIn,onChange:P=>k(_,"checkIn",P.target.value),className:"w-full px-4 py-4 rounded-xl border border-gray-200 bg-white focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all cursor-pointer"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:i("home.booking.checkOut")}),a.jsx("input",{type:"date",min:T.checkIn||O,value:T.checkOut,onChange:P=>k(_,"checkOut",P.target.value),disabled:!T.checkIn,className:`
                w-full px-4 py-4 rounded-xl border transition-all
                ${T.checkIn?"bg-white border-gray-200 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 cursor-pointer":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}
              `})]})]},T.id||_)),d&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-8",children:[a.jsxs("button",{onClick:j,className:"px-8 py-4 rounded-xl border-2 border-yellow-400 text-yellow-600 hover:bg-yellow-400 hover:text-white transition-all duration-300 font-semibold flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-yellow-400/50",children:[a.jsx("span",{className:"text-lg",children:"+"}),i("home.booking.addRoom")]}),a.jsx("button",{onClick:S,className:"px-8 py-4 rounded-xl bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-yellow-400/50",children:i("home.booking.continue")})]})]})]})}),a.jsx("section",{id:"rooms",style:{backgroundImage:`url(${yD})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},className:"py-20 bg-white object-cover",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 text-center text-white",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:i("home.rooms.sectionTitle")}),a.jsx("p",{className:"text-lg mb-16",children:i("home.rooms.sectionSubtitle")}),a.jsx("div",{className:"relative flex justify-center items-center h-[520px] md:h-[580px]",onTouchStart:T=>window.touchStartX=T.touches[0].clientX,onTouchEnd:T=>{const _=T.changedTouches[0].clientX-window.touchStartX;Math.abs(_)>60&&(_>0?u(P=>(P-1+g.length)%g.length):u(P=>(P+1)%g.length))},children:g.map((T,_)=>{const P=g.length;let M=(_-c+P)%P;M>P/2&&(M-=P);const C=M===0,R=window.innerWidth<768?180:320,U={transform:`translateX(${M*R}px) scale(${C?1.1:.85}) rotateY(${M*-20}deg)`,zIndex:C?30:10-Math.abs(M),opacity:C?1:.6,transition:"all 0.6s ease"};return a.jsxs("div",{className:"absolute top-0 cursor-pointer w-72 md:w-[420px] h-[460px] bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100 hover:shadow-3xl",style:U,onClick:()=>u(_),children:[a.jsxs("div",{className:"relative h-64 w-full overflow-hidden",children:[a.jsx("img",{src:h[T.key][x[T.key]],alt:T.title,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[1500ms] ease-in-out ${C?"opacity-100":"opacity-80"}`},x[T.key]),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),a.jsxs("div",{className:"p-2 justify-between h-[200px]",children:[a.jsxs("div",{className:"p-0 md:p-2",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:T.title}),a.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:T.subtitle})]}),C&&a.jsx("button",{onClick:D=>{D.stopPropagation(),E(T.key)},className:"mt-4 w-4/5 px-8 py-3 bg-yellow-400 text-black font-semibold rounded-xl hover:bg-yellow-500 transition-all shadow-md hover:shadow-lg",children:i("home.rooms.book")})]})]},T.key)})})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-yellow-50/30",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:i("home.features.title")}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:i("home.features.subtitle")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"",title:i("home.features.list.1.title"),description:i("home.features.list.1.desc")},{icon:"",title:i("home.features.list.2.title"),description:i("home.features.list.2.desc")},{icon:"",title:i("home.features.list.3.title"),description:i("home.features.list.3.desc")}].map((T,_)=>a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-yellow-200 group",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:a.jsx("span",{className:"text-2xl",children:T.icon})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:T.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:T.description})]},_))})]})}),a.jsx("section",{id:"about",className:"py-20 bg-gradient-to-br from-[#1d2a25] to-[#2d3a35] text-white relative",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"rounded-3xl overflow-hidden shadow-2xl",children:a.jsx("img",{src:vD,alt:"Hotel Interior",className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-yellow-400 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx("span",{className:"text-3xl",children:""})})]}),a.jsxs("div",{className:"lg:pl-8",children:[a.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6",children:a.jsx("span",{className:"text-yellow-400",children:i("home.about.title")})}),a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-yellow-400",children:i("home.about.subtitle")}),a.jsx("p",{className:"text-gray-300 leading-relaxed mb-8 text-lg",children:i("home.about.text")}),a.jsx("button",{onClick:()=>document.getElementById("booking").scrollIntoView({behavior:"smooth"}),className:"bg-yellow-400 text-black px-8 py-4 rounded-xl font-semibold hover:bg-yellow-500 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:i("home.about.button")})]})]})}),a.jsxs("footer",{id:"contacts",className:"bg-[#1b2a24] text-gray-300 pt-16 relative border-t border-green-900",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{className:"w-12 h-12 rounded-full shadow-xl object-cover",src:sb,alt:"Miniature Hotel"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:"text-xl font-bold text-gray-300 leading-tight",children:"Miniature"}),a.jsx("span",{className:"text-yellow-500 font-semibold text-xl leading-tight",children:"Hotel"})]})]}),a.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:i("home.footer.desc")}),a.jsxs("div",{className:"flex gap-5 mt-4",children:[a.jsx("a",{href:"https://www.instagram.com/miniatureboutiquehotel/",className:"w-10 h-10 flex items-center justify-center rounded-full bg-yellow-400/10 hover:bg-yellow-400 transition-all duration-300",title:"Instagram",target:"_blank",rel:"noreferrer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",className:"w-5 h-5 text-yellow-400 hover:text-white transition-colors",children:a.jsx("path",{d:"M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})}),a.jsx("a",{href:"#",className:"w-10 h-10 flex items-center justify-center rounded-full bg-yellow-400/10 hover:bg-yellow-400 transition-all duration-300",title:"Facebook",target:"_blank",rel:"noreferrer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-5 h-5 text-yellow-400 hover:text-white transition-colors",children:a.jsx("path",{d:"M22 12a10 10 0 1 0-11.5 9.9v-7H8v-3h2.5V9.5A3.5 3.5 0 0 1 14 6h3v3h-2c-.5 0-1 .5-1 1V12h3l-.5 3h-2.5v7A10 10 0 0 0 22 12"})})}),a.jsx("a",{href:"https://www.booking.com/hotel/uz/miniature-boutique-bukhara.ru.html",className:"text-yellow-400 hover:text-white px-2 flex items-center justify-center rounded-full bg-yellow-400/10 hover:bg-yellow-400 transition-all duration-300",title:"Booking",target:"_blank",rel:"noreferrer",children:"Booking.com"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-6",children:i("home.footer.contacts")}),a.jsxs("ul",{className:"space-y-3 text-gray-400",children:[a.jsxs("li",{children:[a.jsxs("strong",{className:"text-gray-200",children:[i("home.footer.phone"),":"]})," ",a.jsx("a",{href:"tel:+998998774664",className:"hover:text-yellow-400 transition-colors",children:"+998 99 877 46 64"})]}),a.jsxs("li",{children:[a.jsxs("strong",{className:"text-gray-200",children:[i("home.footer.email"),":"]})," ",a.jsx("a",{href:"mailto:miniatureboutique@mail.ru",className:"hover:text-yellow-400 transition-colors",children:"miniatureboutique@mail.ru"})]}),a.jsxs("li",{children:[a.jsxs("strong",{className:"text-gray-200",children:[i("home.footer.address"),":"]})," "," 1- 6-, 200100, Bukhara, Uzbekistan"]})]})]}),a.jsx("div",{className:"rounded-3xl overflow-hidden shadow-2xl border border-yellow-400/20",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d497.3581815147606!2d64.42017413802014!3d39.77234531434028!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3f5007f49a3880a1%3A0x4e6842e0ccd3fafa!2sMiniature%20boutique%20hotel!5e1!3m2!1sru!2s!4v1762249276429!5m2!1sru!2s",width:"100%",height:"260",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Miniature Hotel Map"})})]}),a.jsxs("div",{className:"text-center text-gray-500 text-sm mt-12 border-t border-green-800 pt-6",children:[" ",new Date().getFullYear()," Miniature Hotel "," ",i("home.footer.rights"),"."]}),a.jsx("div",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"mt-10 mx-auto w-full text-center px-6 py-4 bg-yellow-400 text-black font-semibold cursor-pointer shadow-md hover:bg-yellow-500 hover:-translate-y-1 transition-all duration-300",children:i("home.footer.back")})]})]})}function ID(){return a.jsx("section",{className:"h-[80vh] flex items-center justify-center bg-gray-100 text-3xl font-bold",children:"About Page"})}function MD(){return a.jsx("section",{className:"h-[80vh] flex items-center justify-center bg-gray-100 text-3xl font-bold",children:"Rooms Page"})}function DD(){return a.jsx("section",{className:"h-[80vh] flex items-center justify-center bg-gray-100 text-3xl font-bold",children:"Restaurant Page"})}function AD(){const[e,t]=v.useState([]),[n,r]=v.useState({fullName:"",email:"",passportNumber:"",phone:"",breakfast:!0}),[s,o]=v.useState(!1);v.useEffect(()=>{const d=localStorage.getItem("selectedRooms");d&&t(JSON.parse(d))},[]);const i=()=>{t([...e,{roomType:"",guests:1,checkIn:"",checkOut:""}])},l=(d,f,p)=>{const x=[...e];x[d][f]=p,t(x)},c=d=>d==="TRIPLE"?[1,2,3]:d==="DOUBLE"||d==="TWIN"?[1,2]:[1],u=async()=>{if(!n.fullName.trim()){A.info(",  ");return}const d=n.phone.replace(/\D/g,"");if(d.length<12||d.length>15){A.error("    (: +998987654321)");return}if(!/^[A-Z]{2}[0-9]{7}$/i.test(n.passportNumber)){A.error("      (: AA1234567)");return}for(const p of e)if(!p.roomType||!p.checkIn||!p.checkOut){A.info("       ");return}try{const p=await H("/api/v1/client","POST",n);if(p.error){A.error("   ");return}const x=p.data.id;for(const m of e){const h={clientId:x,roomType:m.roomType,checkInTime:m.checkIn,checkOutTime:m.checkOut,breakfast:n.breakfast,manual:!1,bookingStatus:1,guestsCount:m.guestsCount};if((await H("/api/v1/room-booking","POST",h)).error){A.warn("       ");return}}A.success("  !"),localStorage.removeItem("selectedRooms"),setTimeout(()=>o(!0),1500)}catch(p){console.error(p),A.error("   ")}};return s?a.jsxs("div",{className:"max-w-3xl mx-auto mt-20 p-8 bg-white rounded-2xl shadow-lg text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"  !"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"    :"}),a.jsxs("div",{className:"text-left space-y-3 border p-4 rounded-lg bg-gray-50",children:[a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",n.fullName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",n.email||""]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",n.passportNumber]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",n.phone]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",n.breakfast?"":" "]}),a.jsx("hr",{className:"my-3"}),a.jsx("p",{className:"font-semibold text-lg",children:":"}),e.map((d,f)=>a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",d.roomType]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",d.guestsCount]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",d.checkIn]}),a.jsxs("p",{children:[a.jsx("strong",{children:":"})," ",d.checkOut]})]},f))]}),a.jsx("p",{className:"mt-6 text-gray-700 text-lg",children:"        ."}),a.jsx("p",{className:"text-gray-700 font-semibold mt-2",children:",    !"}),a.jsx("button",{onClick:()=>window.location.href="/",className:"mt-8 px-8 py-3 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-500 transition",children:" "})]}):a.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-6",children:[a.jsx("h1",{className:"text-3xl text-white font-bold mb-6",children:" "}),a.jsx(cn,{position:"top-right",autoClose:2e3}),a.jsxs("div",{className:"mb-8 space-y-6",children:[a.jsx("h2",{className:"text-xl text-gray-300 font-semibold",children:" :"}),e.map((d,f)=>a.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("select",{value:d.roomType,onChange:p=>l(f,"roomType",p.target.value),className:"px-4 py-2 border rounded-lg",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"TWIN",children:"TWIN"}),a.jsx("option",{value:"DOUBLE",children:"DOUBLE"}),a.jsx("option",{value:"TRIPLE",children:"TRIPLE"})]}),a.jsx("select",{value:d.guestsCount,onChange:p=>l(f,"guestsCount",Number(p.target.value)),disabled:!d.roomType,className:"px-4 py-2 border rounded-lg",children:c(d.roomType).map(p=>a.jsx("option",{value:p,children:p},p))}),a.jsx("input",{type:"date",value:d.checkIn,onChange:p=>l(f,"checkIn",p.target.value),className:"px-4 py-2 border rounded-lg"}),a.jsx("input",{type:"date",value:d.checkOut,onChange:p=>l(f,"checkOut",p.target.value),className:"px-4 py-2 border rounded-lg"})]},f)),a.jsx("button",{onClick:i,className:"px-6 py-2 border border-yellow-400 text-yellow-400 rounded-lg hover:bg-yellow-400 hover:text-black transition",children:" "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"",value:n.fullName,onChange:d=>r({...n,fullName:d.target.value}),className:"w-full px-4 py-3 border rounded-lg"}),a.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:d=>r({...n,email:d.target.value}),className:"w-full px-4 py-3 border rounded-lg"}),a.jsx("input",{type:"text",placeholder:" ",value:n.passportNumber,onChange:d=>r({...n,passportNumber:d.target.value}),className:"w-full px-4 py-3 border rounded-lg",maxLength:9}),a.jsx("input",{type:"tel",placeholder:" ",value:n.phone,onChange:d=>{const f=d.target.value.replace(/[^0-9+]/g,"");r({...n,phone:f})},className:"w-full px-4 py-3 border rounded-lg",maxLength:16}),a.jsxs("label",{className:"flex items-center text-white gap-2",children:[a.jsx("input",{type:"checkbox",checked:n.breakfast,onChange:d=>r({...n,breakfast:d.target.checked})})," "]})]}),a.jsx("button",{onClick:u,className:"mt-6 w-full bg-yellow-400 text-black px-6 py-4 rounded-lg font-semibold hover:bg-yellow-500 transition",children:" "})]})}function FD(){const e=Ve(),[t,n]=v.useState([]),[r,s]=v.useState([]),[o,i]=v.useState({name:"",phone:"",password:"",role:""}),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,p]=v.useState(null),[x,m]=v.useState({name:"",phone:"",password:""}),h=v.useRef(0),g=v.useRef(0);v.useEffect(()=>{const S=O=>{h.current=O.touches[0].clientX},E=O=>{g.current=O.changedTouches[0].clientX;const T=g.current-h.current;h.current<50&&T>80&&d(!0)};return window.addEventListener("touchstart",S),window.addEventListener("touchend",E),()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchend",E)}},[]);const y=()=>{localStorage.clear(),e("/admin/login")};v.useEffect(()=>{w()},[]);const w=async()=>{c(!0);try{const[S,E]=await Promise.all([H("/api/v1/admin/all-users","GET"),H("/api/v1/role-management/roles","GET")]);if(S.error||n(S.data||[]),!E.error){let O=[];Array.isArray(E.data)?O=E.data:Array.isArray(E.data.data)?O=E.data.data:Array.isArray(E.data.roles)?O=E.data.roles:typeof E.data=="object"&&E.data.name&&(O=[E.data]);const T=O.filter(_=>_.name!=="ROLE_ADMIN");s(T)}}catch(S){console.error("  :",S),A.error("   ")}finally{c(!1)}},b=async()=>{const{name:S,phone:E,password:O,role:T}=o;if(!S||!E||!O||!T){A.info("  !");return}try{const _=await H("/api/v1/admin","POST",{name:S,phone:E,password:O});if(_.error){A.error("   ");return}const P=_.data.id;(await H(`/api/v1/role-management/assign/${P}?role=${T}`,"PUT")).error?A.error("   "):(A.success("    !"),i({name:"",phone:"",password:"",role:""}),w())}catch(_){console.error("  :",_),A.error("   ")}},j=async S=>{if(window.confirm(" ?"))try{(await H(`/api/v1/admin/${S}`,"DELETE")).error?A.error("  "):(A.success(""),w())}catch(E){console.error("  :",E),A.error("  ")}},k=S=>{p(S),m({name:S.name,phone:S.phone,password:""})},N=async()=>{const{name:S,phone:E,password:O}=x;if(!S||!E){A.warn("   !");return}try{(await H(`/api/v1/admin/${f.id}`,"PUT",{name:S,phone:E,password:O||null})).error?A.error("  "):(A.success(" !"),p(null),w())}catch(T){console.error("  :",T),A.error("  ")}};return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50 relative overflow-x-hidden",children:[a.jsx(cn,{position:"top-right",autoClose:2e3}),!u&&a.jsx("button",{onClick:()=>d(!0),className:"lg:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-md shadow-lg",children:""}),a.jsx("div",{className:`${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 transition-transform duration-300 ease-in-out bg-gray-800`,children:a.jsx(xc,{onLogout:y})}),u&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>d(!1)}),a.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mt-8",children:[a.jsx("h1",{className:"mt-4 text-2xl text-center font-bold text-gray-900",children:" "}),a.jsx("p",{className:"text-gray-600 mt-2 text-center",children:",     "})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"  "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("input",{type:"text",placeholder:"",value:o.name,onChange:S=>i({...o,name:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsx("input",{type:"text",placeholder:" / ",value:o.phone,onChange:S=>i({...o,phone:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsx("input",{type:"password",placeholder:"",value:o.password,onChange:S=>i({...o,password:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),a.jsxs("select",{value:o.role,onChange:S=>i({...o,role:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:" "}),r.map(S=>a.jsx("option",{value:S.name,children:S.name.replace("ROLE_","")},S.id))]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium",children:" "})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-x-auto",children:[a.jsx("div",{className:"px-4 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["  (",t.length,")"]})}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:""}),a.jsx("th",{className:"px-6 py-3 text-left",children:""}),a.jsx("th",{className:"px-6 py-3 text-left",children:""}),a.jsx("th",{className:"px-6 py-3 text-left",children:""}),a.jsx("th",{className:"px-6 py-3 text-left",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((S,E)=>{var O;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:E+1}),a.jsx("td",{className:"px-6 py-4",children:S.name}),a.jsx("td",{className:"px-6 py-4",children:S.phone}),a.jsx("td",{className:"px-6 py-4",children:(O=S.roles)!=null&&O.length?S.roles.map(T=>T.name.replace("ROLE_","")).join(", "):""}),a.jsxs("td",{className:"px-6 py-4 space-x-2",children:[a.jsx("button",{onClick:()=>k(S),className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1 rounded-lg text-xs",children:""}),a.jsx("button",{onClick:()=>j(S.id),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded-lg text-xs",children:""})]})]},S.id)})})]}),!t.length&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"  "})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",placeholder:"",value:x.name,onChange:S=>m({...x,name:S.target.value}),className:"w-full border px-3 py-2 rounded-lg"}),a.jsx("input",{type:"text",placeholder:" / ",value:x.phone,onChange:S=>m({...x,phone:S.target.value}),className:"w-full border px-3 py-2 rounded-lg"}),a.jsx("input",{type:"password",placeholder:"  ()",value:x.password,onChange:S=>m({...x,password:S.target.value}),className:"w-full border px-3 py-2 rounded-lg"})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:""}),a.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})]})})]})}function $D(){return a.jsx(mN,{children:a.jsxs(Hk,{children:[a.jsxs(Ae,{path:"/",element:a.jsx(ME,{}),children:[a.jsx(Ae,{index:!0,element:a.jsx(LD,{})}),a.jsx(Ae,{path:"about",element:a.jsx(ID,{})}),a.jsx(Ae,{path:"rooms",element:a.jsx(MD,{})}),a.jsx(Ae,{path:"restaurant",element:a.jsx(DD,{})}),a.jsx(Ae,{path:"booking",element:a.jsx(AD,{})})]}),a.jsx(Ae,{path:"/admin/users",element:a.jsx(FD,{})}),a.jsx(Ae,{path:"/admin/login",element:a.jsx(J4,{})}),a.jsx(Ae,{path:"/admin/dashboard",element:a.jsx(q4,{})}),a.jsx(Ae,{path:"/admin/bookings",element:a.jsx(oT,{})}),a.jsx(Ae,{path:"/admin/talk",element:a.jsx(cM,{})}),a.jsx(Ae,{path:"/reception/dashboard",element:a.jsx(DE,{children:a.jsx(uM,{})})}),a.jsx(Ae,{path:"/reception/bookings",element:a.jsx(fM,{})}),a.jsx(Ae,{path:"/reception/talk",element:a.jsx(_M,{})}),a.jsx(Ae,{path:"/cook/dashboard",element:a.jsx(RM,{})}),a.jsx(Ae,{path:"/cook/talk",element:a.jsx(YM,{})}),a.jsx(Ae,{path:"/other/dashboard",element:a.jsx(QM,{})}),a.jsx(Ae,{path:"/other/talk",element:a.jsx(xD,{})})]})})}function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function f2(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Wf(XMLHttpRequest))==="object"}function VD(e){return!!e&&typeof e.then=="function"}function BD(e){return VD(e)?e:Promise.resolve(e)}function xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xx(Object(n),!0).forEach(function(r){zD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zD(e,t,n){return(t=UD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UD(e){var t=HD(e,"string");return Zr(t)=="symbol"?t:t+""}function HD(e,t){if(Zr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(e)}var Sr=typeof fetch=="function"?fetch:void 0;typeof globalThis<"u"&&globalThis.fetch?Sr=globalThis.fetch:typeof window<"u"&&window.fetch&&(Sr=window.fetch);var ji;f2()&&(typeof globalThis<"u"&&globalThis.XMLHttpRequest?ji=globalThis.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(ji=window.XMLHttpRequest));var Wl;typeof ActiveXObject=="function"&&(typeof globalThis<"u"&&globalThis.ActiveXObject?Wl=globalThis.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Wl=window.ActiveXObject));typeof Sr!="function"&&(Sr=void 0);if(!Sr&&!ji&&!Wl)try{Av(()=>import("./browser-ponyfill-3d50e11b.js").then(e=>e.b),[]).then(function(e){Sr=e.default}).catch(function(){})}catch{}var Gf=function(t,n){if(n&&Zr(n)==="object"){var r="";for(var s in n)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},vx=function(t,n,r,s){var o=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(u){r(null,{status:c.status,data:u})}).catch(r)};if(s){var i=s(t,n);if(i instanceof Promise){i.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Sr(t,n).then(o).catch(r)},bx=!1,WD=function(t,n,r,s){t.queryStringParams&&(n=Gf(n,t.queryStringParams));var o=yx({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof globalThis<"u"&&typeof globalThis.process<"u"&&globalThis.process.versions&&globalThis.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(globalThis.process.version,"; ").concat(globalThis.process.platform," ").concat(globalThis.process.arch,")")),r&&(o["Content-Type"]="application/json");var i=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,l=yx({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},bx?{}:i),c=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{vx(n,l,s,c)}catch(u){if(!i||Object.keys(i).length===0||!u.message||u.message.indexOf("not implemented")<0)return s(u);try{Object.keys(i).forEach(function(d){delete l[d]}),vx(n,l,s,c),bx=!0}catch(d){s(d)}}},GD=function(t,n,r,s){r&&Zr(r)==="object"&&(r=Gf("",r).slice(1)),t.queryStringParams&&(n=Gf(n,t.queryStringParams));try{var o=ji?new ji:new Wl("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=t.customHeaders;if(i=typeof i=="function"?i():i,i)for(var l in i)o.setRequestHeader(l,i[l]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(c){console&&console.log(c)}},KD=function(t,n,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},Sr&&n.indexOf("file:")!==0)return WD(t,n,r,s);if(f2()||typeof ActiveXObject=="function")return GD(t,n,r,s);s(new Error("No fetch and no xhr implementation found!"))};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(n),!0).forEach(function(r){h2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p2(r.key),r)}}function qD(e,t,n){return t&&jx(e.prototype,t),n&&jx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h2(e,t,n){return(t=p2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p2(e){var t=JD(e,"string");return Ks(t)=="symbol"?t:t+""}function JD(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YD=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,s){return h2({},r,s||"")},parseLoadPayload:function(n,r){},request:KD,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},m2=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};XD(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return qD(e,[{key:"init",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=pd(pd(pd({},YD()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var i=setInterval(function(){return r.reload()},this.options.reloadInterval);Ks(i)==="object"&&typeof i.unref=="function"&&i.unref()}}},{key:"readMulti",value:function(n,r,s){this._readAny(n,n,r,r,s)}},{key:"read",value:function(n,r,s){this._readAny([n],n,[r],r,s)}},{key:"_readAny",value:function(n,r,s,o,i){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,s)),c=BD(c),c.then(function(u){if(!u)return i(null,{});var d=l.services.interpolator.interpolate(u,{lng:n.join("+"),ns:s.join("+")});l.loadUrl(d,i,r,o)})}},{key:"loadUrl",value:function(n,r,s,o){var i=this,l=typeof s=="string"?[s]:s,c=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(l,c);this.options.request(this.options,n,u,function(d,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&d&&d.message){var p=d.message.toLowerCase(),x=["failed","fetch","network","load"].find(function(g){return p.indexOf(g)>-1});if(x)return r("failed loading "+n+": "+d.message,!0)}if(d)return r(d,!1);var m,h;try{typeof f.data=="string"?m=i.options.parse(f.data,s,o):m=f.data}catch{h="failed parsing "+n+" to json"}if(h)return r(h,!1);r(null,m)})}},{key:"create",value:function(n,r,s,o,i){var l=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(r,s,o),u=0,d=[],f=[];n.forEach(function(p){var x=l.options.addPath;typeof l.options.addPath=="function"&&(x=l.options.addPath(p,r));var m=l.services.interpolator.interpolate(x,{lng:p,ns:r});l.options.request(l.options,m,c,function(h,g){u+=1,d.push(h),f.push(g),u===n.length&&typeof i=="function"&&i(d,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,s=r.backendConnector,o=r.languageUtils,i=r.logger,l=s.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],u=function(f){var p=o.toResolveHierarchy(f);p.forEach(function(x){c.indexOf(x)<0&&c.push(x)})};u(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return u(d)}),c.forEach(function(d){n.allOptions.ns.forEach(function(f){s.read(d,f,"read",null,null,function(p,x){p&&i.warn("loading namespace ".concat(f," for language ").concat(d," failed"),p),!p&&x&&i.log("loaded namespace ".concat(f," for language ").concat(d),x),s.loaded("".concat(d,"|").concat(f),p,x)})})})}}}])}();m2.type="backend";const QD=localStorage.getItem("appLang")||"ru";dt.use(m2).use(yE).init({lng:QD,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/translation.json"},react:{useSuspense:!1}});md.createRoot(document.getElementById("root")).render(a.jsx($D,{}));export{Sx as g};
